(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,n,t){},129:function(e,n,t){},182:function(e,n,t){"use strict";t.r(n);var r,i=t(0),a=t.n(i),c=t(14),o=t.n(c),s=(t(128),t(6)),l=(t(129),t(11)),d=function(){},u=Object(i.createContext)({accessToken:null,meUserData:null,setMeUserData:d,isAuthenticated:!1,login:d,logout:d,socket:null,notifications:[],setNotifications:d,conversations:null,setConversations:d}),b=t(3),j=t(12),p=t(5),f=t.n(p),v=t(8),x=t(2);function h(){return(h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function O(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function g(e,n){var t=e.title,a=e.titleId,c=O(e,["title","titleId"]);return i.createElement("svg",h({id:"f5b8572e-e789-4a67-a3d4-fd233b7f5529",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",ref:n,"aria-labelledby":a},c),t?i.createElement("title",{id:a},t):null,r||(r=i.createElement("path",{d:"M18.82,16.38c-1.24,0-1.8.68-3.82.68s-2.62-.68-3.87-.68a5.79,5.79,0,0,0-5.75,5.8v1.76A2,2,0,0,0,7.44,26H22.56a2.06,2.06,0,0,0,2.06-2.06V22.18A5.83,5.83,0,0,0,18.82,16.38Zm4.43,7.56a.7.7,0,0,1-.69.68H7.44a.68.68,0,0,1-.69-.68V22.18a4.38,4.38,0,0,1,4.38-4.43c.86,0,1.68.69,3.87.69s3-.69,3.82-.69a4.43,4.43,0,0,1,4.43,4.43ZM15,15A5.5,5.5,0,1,0,9.5,9.5,5.51,5.51,0,0,0,15,15Zm0-9.62a4.12,4.12,0,1,1,0,8.24,4.12,4.12,0,0,1,0-8.24Z"})))}var m,y=i.forwardRef(g);t.p;function w(){return(w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function C(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function k(e,n){var t=e.title,r=e.titleId,a=C(e,["title","titleId"]);return i.createElement("svg",w({id:"a2b7b2d4-3a7e-4ef8-815f-f2ff2ed50e60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,m||(m=i.createElement("path",{d:"M23.94,6.75H6.06A2.06,2.06,0,0,0,4,8.81V21.19a2,2,0,0,0,2.06,2.06H23.94A2.06,2.06,0,0,0,26,21.19V8.81A2.1,2.1,0,0,0,23.94,6.75ZM6.06,8.12H23.94a.74.74,0,0,1,.68.69v1.81c-.94.77-2.32,1.89-6.48,5.2-.73.6-2.15,2-3.14,1.93s-2.45-1.33-3.18-1.93c-4.17-3.31-5.54-4.43-6.44-5.2V8.81A.71.71,0,0,1,6.06,8.12ZM23.94,21.88H6.06a.68.68,0,0,1-.68-.69V12.38c.94.82,2.49,2.06,5.58,4.51.9.73,2.45,2.28,4,2.23s3.09-1.5,4-2.23c3.09-2.45,4.64-3.69,5.62-4.51v8.81A.71.71,0,0,1,23.94,21.88Z"})))}var _,S=i.forwardRef(k);t.p;function E(){return(E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function z(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function M(e,n){var t=e.title,r=e.titleId,a=z(e,["title","titleId"]);return i.createElement("svg",E({id:"a8958859-8e13-4d28-be3a-2b1bd58f0dfc",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,_||(_=i.createElement("path",{d:"M21.88,15a4.13,4.13,0,1,0-4.13-4.12A4.13,4.13,0,0,0,21.88,15Zm0-6.88a2.77,2.77,0,0,1,2.74,2.76,2.75,2.75,0,1,1-2.74-2.76ZM9.5,15a4.81,4.81,0,1,0-4.81-4.81A4.83,4.83,0,0,0,9.5,15Zm0-8.25a3.44,3.44,0,1,1,0,6.87,3.44,3.44,0,1,1,0-6.87Zm3.44,9.11c-1.46,0-1.81.52-3.44.52s-2-.52-3.48-.52a4.81,4.81,0,0,0-3.95,2,5.15,5.15,0,0,0-.82,2.79v1.89a2,2,0,0,0,2.06,2.06H15.69a2.06,2.06,0,0,0,2.06-2.06V20.67a5.19,5.19,0,0,0-.86-2.79A4.83,4.83,0,0,0,12.94,15.86Zm3.44,6.7a.71.71,0,0,1-.69.69H3.31a.69.69,0,0,1-.69-.69V20.67a3.39,3.39,0,0,1,.61-2A3.34,3.34,0,0,1,6,17.23c1.2,0,1.63.52,3.48.52s2.23-.52,3.44-.52a3.34,3.34,0,0,1,2.79,1.42,3.38,3.38,0,0,1,.6,2v1.89ZM28,17.66A3.9,3.9,0,0,0,24.71,16c-1.16,0-1.46.43-2.83.43S20.2,16,19,16a3.65,3.65,0,0,0-1.64.38,4.15,4.15,0,0,1,.86,1.12,4.64,4.64,0,0,1,.78-.09c.94,0,1.29.43,2.88.43s1.93-.43,2.83-.43a2.58,2.58,0,0,1,2.67,2.58v1.59a.35.35,0,0,1-.35.35H19.12A5.92,5.92,0,0,1,19,23.25h8a1.69,1.69,0,0,0,1.72-1.72V19.94A3.83,3.83,0,0,0,28,17.66Z"})))}var I,P=i.forwardRef(M);t.p;function D(){return(D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function R(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function N(e,n){var t=e.title,r=e.titleId,a=R(e,["title","titleId"]);return i.createElement("svg",D({width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,I||(I=i.createElement("path",{d:"M9.42627 0.510254L9.01807 0.0805664C8.91064 -0.0268555 8.73877 -0.0268555 8.65283 0.0805664L4.76416 3.96924L0.854004 0.0805664C0.768066 -0.0268555 0.596191 -0.0268555 0.48877 0.0805664L0.0805664 0.510254C-0.0268555 0.596191 -0.0268555 0.768066 0.0805664 0.875488L4.5708 5.36572C4.67822 5.47314 4.82861 5.47314 4.93604 5.36572L9.42627 0.875488C9.53369 0.768066 9.53369 0.596191 9.42627 0.510254Z",fill:"#BAC4DB"})))}var L,T,q,U,B,F,A,Z,H,V,G,J,K,W,$,Y,Q,X,ee,ne=i.forwardRef(N),te=(t.p,t(114)),re=Object(x.a)(L||(L=Object(b.a)(["\nbody {\n  height: 100%;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  letter-spacing: .05em;\n  font-family: 'Roboto', sans-serif;\n  font-family: 'Open Sans', sans-serif;\n  font-family: 'Noto Sans', sans-serif;\n  font-family: 'Ubuntu', sans-serif;\n  font-family: 'Rubik', sans-serif;\n  font-family: \"Segoe UI\", sans-serif;\n  line-height: 1.35;\n  letter-spacing: 0.05rem;\n  \n  \n  font-size: var(--text-size-primary);\n  /* font-weight: 500; */\n  color: #45557A;\n}\n\n#root {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\nmain {\n  width: 100%;\n}\n\ninput, input:hover, input:active, input:focus {\n  outline: none;\n}\n\ntextarea, textarea:hover, textarea:active, textarea:focus {\n  outline: none;\n}\n\nimg {\n  -ms-flex-item-align: start;\n      -ms-grid-row-align: start;\n      align-self: start;\n}\n\np {\n  margin: 0;\n  padding: 0;\n}\n\nul, li {\n  display: block;\n  padding: 0;\n  margin: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\ndiv, p, a, span, input, form, button {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\na, a:hover {\n  text-decoration: none;\n  color: inherit;\n  font-weight: inherit;\n  letter-spacing: inherit;\n  font-size: inherit;\n}\n\nbutton {\n  border: none;\n}\n\nbutton:focus {\n  outline: none;\n}\n\nul, li {\n  display: block;\n  padding: 0;\n  margin: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\nfooter {\n  margin-top: auto;\n}\n\n.customSelect {\n  /* border: var(----border-primary); */\n  \n  \n  :focus {\n    outline: none;\n  }\n  :active {\n    outline: none;\n  }\n}\n\n.daySelect {\n  /* border: var(--border-primary); */\n  flex-grow: 1;\n  margin-right: 10px;\n}\n\n.monthSelect {\n  /* border: var(--border-primary); */\n  flex-grow: 10;\n  margin-right: 10px;\n}\n\n.yearSelect {\n  /* border: var(--border-primary); */\n  flex-grow: 2;\n}\n\n.customSelectInner__control {\n  border: var(--border-primary) !important;\n  :focus {\n    outline: none;\n  }\n  :active {\n    outline: none;\n  }\n}\n\n.customSelectInner__indicator-separator {\n  display: none;\n}\n.customSelectInner__indicator {\n  svg {\n    fill: var(--text-color-secondary);\n    width: 17px;\n    height: 17px;\n  }\n}\n\n\n.react-responsive-modal-root {\n  padding-right: 15px !important;\n}\n\n.customOverlay {\n    background: rgba(93, 102, 122, 0.6) !important;\n    padding: 0 !important;\n    padding-right: 15px !important;\n    /* filter: blur(4px); */\n  }\n\n  .customModal {\n    border-radius: var(--border-radius-primary);\n    background: white;\n    box-shadow: 0 5px 10px rgba(0,0,0,0.3);\n    margin: 0;\n    padding: 0;\n    overflow-y: visible;\n\n  }\n\n\n  * {\n    --color-primary: #2965F1;\n    --color-secondary: #EFF2F9;\n    --color-dark-secondary: rgb(211, 218, 235);\n    --color-light-secondary: #DFE5F3;\n    --color-dark-primary: rgb(18, 62, 165);\n    --color-green: #00E296;\n    --color-dark-grey: #303030;\n    --color-grey: #616161;\n    --color-red: #FF3366;\n    --color-black: #324164;\n\n\n    --text-color-secondary: #ACB7D1;\n    --text-color-dark-secondary: #45557A;\n    --text-color-primary: var(--color-black);\n    --text-color-link: var(--color-primary);\n\n\n\n    --font-size-primary: 15px;\n\n    --font-size-secondary: 16px;\n    --font-family-primary: Open Sans, sans-serif;\n    /* --font-family-primary: Roboto, sans-serif; */\n    --font-family-secondary: Montserrat, sans-serif;\n\n    --shadow-primary: 0 5px 5px rgba(211, 218, 235, 0.5);\n    --shadow-popup: 0 5px 5px rgba(211, 218, 235, 0.5);\n    /* --shadow-popup_dark */\n\n    --border-radius-primary: 5px;\n    --border-primary: 1px solid var(--text-color-secondary);\n\n    --text-size-primary: 14px;\n    --text-size-secondary: 16px;\n    --text-size-button: 14px;\n\n    --icon-size-primary: 25px;\n    --icon-size-primary_blue: 25px;\n    --icon-size-secondary: 16px;\n\n    --icon-color-primary: var(--color-primary);\n    --icon-color-secondary: var(--text-color-secondary);\n\n    --z-index-popup: 100;\n\n\n  }\n\n"]))),ie=Object(x.b)(T||(T=Object(b.a)(["\n  width: var(--icon-size-primary);\n  height: var(--icon-size-primary);\n  fill: var(--text-color-secondary);\n  :hover {\n    cursor: pointer;\n    fill: var(--text-color-dark-secondary);\n  }\n"]))),ae=Object(x.b)(q||(q=Object(b.a)(["\n  width: var(--icon-size-primary);\n  height: var(--icon-size-primary);\n  fill: var(--text-color-secondary);\n"]))),ce=Object(x.b)(U||(U=Object(b.a)(["\n  width: var(--icon-size-secondary);\n  height: var(--icon-size-secondary);\n  fill: var(--text-color-secondary);\n  :hover {\n    cursor: pointer;\n    fill: var(--text-color-dark-secondary);\n  }\n"]))),oe=Object(x.c)(l.b)(B||(B=Object(b.a)(["\n  color: var(--color-primary);\n  font-weight: 600;\n\n  :hover {\n    color: var(--color-primary);\n    font-weight: 500;\n    text-decoration: underline;\n  }\n  ","\n"])),(function(e){return"black"===e.color&&"\n      color: var(--color-black);\n      :hover {\n        color: var(--color-black);\n      }\n  "})),se=x.c.div(F||(F=Object(b.a)(["\n  color: var(--text-color-secondary);\n"]))),le=x.c.button(A||(A=Object(b.a)(["\n  /* display: inline-flex; */\n  border-radius: var(--border-radius-primary);\n  font-size: var(--font-size-secondary);\n  padding: 12px 20px;\n  background: var(--color-primary);\n  color: white;\n  :hover {\n    background: var(--color-dark-primary);\n    cursor: pointer;\n  }\n  :disabled {\n    background: var(--color-secondary);\n    color: var(--text-color-secondary);\n    :hover {\n      background: var(--color-secondary);\n      cursor: default;\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n    ","\n    ","\n"])),(function(e){return"small"===e.size&&"\n    padding: 7px 20px;\n    font-size: var(--text-size-primary);\n  "}),(function(e){return"fullwidth"===e.width&&"\n    width: 100%;\n  "}),(function(e){return"secondary"===e.color&&"\n        background: var(--color-secondary);\n        color: var(--text-color-dark-secondary);\n        // border: 1px solid var(--color-dark-secondary);\n        :hover {\n            background: var(--color-dark-secondary);\n        }\n    "}),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")}),(function(e){return e.marginTop&&"\n    margin-top: ".concat(e.marginTop,";\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(e.marginRight,";\n  ")})),de=x.c.div(Z||(Z=Object(b.a)(["\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  box-shadow: var(--shadow-primary);\n\n  background: white;\n  ","\n"])),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")})),ue=x.c.div(H||(H=Object(b.a)(["\n  padding: 15px;\n"]))),be=x.c.input(V||(V=Object(b.a)(["\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  padding: 8px 10px;\n  overflow-y: hidden;\n  /* font-size: var(--text-size-secondary); */\n  font-size: var(--text-size-primary);\n  width: 100%;\n  ::placeholder {\n    color: var(--text-color-secondary);\n  }\n  ","//35px\n"])),(function(e){return e.paddingLeft&&"\n    padding-left: ".concat(e.paddingLeft,";\n  ")})),je=Object(x.c)(te.a)(G||(G=Object(b.a)(["\n  border: 1px solid white;\n  border-radius: var(--border-radius-primary);\n  padding: 11px;\n  padding-right: 35px;\n  width: 100%;\n  position: relative;\n  font-size: var(--text-size-primary);\n  overflow-y: hidden;\n  ::placeholder {\n    color: var(--text-color-secondary);\n  }\n  ","\n  ","\n"])),(function(e){return e.$focuse&&"\n    border: var(--border-primary);\n  "}),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")})),pe=x.c.div(J||(J=Object(b.a)(["\n  border-top: var(--border-primary);\n  width: 100%;\n  /* background: var(--text-color-secondary); */\n"]))),fe=x.c.img(K||(K=Object(b.a)(["\n  border-radius: 150px;\n  object-fit: cover;\n  ","\n  ","\n    ","\n  ","\n    ","\n    ","\n      ","\n      ","\n      ","\n"])),(function(e){return"extra-small"===e.size&&"\n    width: 25px;\n    height: 25px;\n    min-width: 25px;\n    min-height: 25px;\n  "}),(function(e){return"small"===e.size&&"\n    width: 35px;\n    height: 35px;\n    min-width: 35px;\n    min-height: 35px;\n  "}),(function(e){return"medium-small"===e.size&&"\n    width: 40px;\n    height: 40px;\n    min-width: 40px;\n    min-height: 40px;\n  "}),(function(e){return"medium"===e.size&&"\n    width: 53px;\n    height: 53px;\n    min-width: 53px;\n    min-height: 53px;\n  "}),(function(e){return"large"===e.size&&"\n    width: 150px;\n    height: 150px;\n    min-width: 150px;\n    min-height: 150px;\n  "}),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")}),(function(e){return e.marginTop&&"\n    margin-top: ".concat(e.marginTop,";\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(e.marginRight,";\n  ")}),(function(e){return e.marginLeft&&"\n    margin-left: ".concat(e.marginLeft,";\n  ")})),ve=(x.c.div(W||(W=Object(b.a)(["\n  background: white;\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  padding: 10px;\n"]))),x.c.div($||($=Object(b.a)([""])))),xe=x.c.div(Y||(Y=Object(b.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),he=x.c.div(Q||(Q=Object(b.a)(["\n  background: var(--color-red);\n  height: 24px;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid white;\n  position: absolute;\n  top: 13px;\n  right: 7px;\n  border-radius: 100px;\n  color: white;\n  ","\n  "," /* font-size: 11px; */\n"])),(function(e){return e.top&&"\n    top: ".concat(e.top,";\n  ")}),(function(e){return e.right&&"\n    right: ".concat(e.right,";\n  ")})),Oe=x.c.div(X||(X=Object(b.a)(["\n  width: auto;\n  height: auto;\n  ","\n  ","\n  ","\n"])),(function(e){return e.onlineType&&"\n  position: relative;\n  :after {\n    content: '';\n    background: var(--color-green);\n    width: 10px;\n    height: 10px;\n    border-radius: 100px;\n    position: absolute;\n    bottom: 3px;\n    right: 15px;\n    border: 2px solid white;\n  }\n"}),(function(e){return e.onlineIconRightPosition&&"\n\n  :after {\n    right: ".concat(e.onlineIconRightPosition,";\n  }\n")}),(function(e){return e.onlineIconSmall&&"\n\n  :after {\n    width: 7px;\n    height: 7px;\n    border: 1px solid white;\n  }\n"})),ge=function(e,n){var t=Object(i.useState)(e),r=Object(s.a)(t,2),a=r[0],c=r[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){c(e)}),n);return function(){clearTimeout(t)}}),[e,n]),a},me=function(){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useContext)(u).accessToken,c=Object(i.useState)(null),o=Object(s.a)(c,2),l=o[0],d=o[1];return{loading:t,request:Object(i.useCallback)(function(){var e=Object(v.a)(f.a.mark((function e(n){var t,i,c,o,s,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",i=l.length>2&&void 0!==l[2]?l[2]:null,c=l.length>3&&void 0!==l[3]?l[3]:{},r(!0),e.prev=4,i&&(i=JSON.stringify(i),c["Content-Type"]="application/json"),c.Authorization||(c.Authorization="Bearer ".concat(a)),console.log("REQUEST",i),e.next=10,fetch(n,{method:t,body:i,headers:c,credentials:"include"});case 10:return o=e.sent,e.next=13,o.json();case 13:if(s=e.sent,o.ok){e.next=17;break}throw d(s),new Error(s.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 17:return r(!1),e.abrupt("return",s);case 21:throw e.prev=21,e.t0=e.catch(4),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n){return e.apply(this,arguments)}}(),[]),error:l,clearError:Object(i.useCallback)((function(){return d(null)}),[])}};function ye(){return(ye=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function we(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ce(e,n){var t=e.title,r=e.titleId,a=we(e,["title","titleId"]);return i.createElement("svg",ye({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,ee||(ee=i.createElement("path",{d:"M14.8828 14.9961L11.1035 11.2168C11.0449 11.1582 10.957 11.1289 10.8691 11.1289H10.5469C11.5723 10.0156 12.1875 8.58008 12.1875 6.96875C12.1875 3.62891 9.43359 0.875 6.09375 0.875C2.72461 0.875 0 3.62891 0 6.96875C0 10.3379 2.72461 13.0625 6.09375 13.0625C7.67578 13.0625 9.14062 12.4473 10.2246 11.4512V11.7441C10.2246 11.8613 10.2539 11.9492 10.3125 12.0078L14.0918 15.7871C14.2383 15.9336 14.4434 15.9336 14.5898 15.7871L14.8828 15.4941C15.0293 15.3477 15.0293 15.1426 14.8828 14.9961ZM6.09375 12.125C3.22266 12.125 0.9375 9.83984 0.9375 6.96875C0.9375 4.12695 3.22266 1.8125 6.09375 1.8125C8.93555 1.8125 11.25 4.12695 11.25 6.96875C11.25 9.83984 8.93555 12.125 6.09375 12.125Z",fill:"#B6C3E1"})))}var ke=i.forwardRef(Ce);t.p;var _e,Se,Ee,ze,Me,Ie,Pe=function(e,n){Object(i.useEffect)((function(){var t=function(t){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])},De=t(1),Re=x.c.div(_e||(_e=Object(b.a)(["\n  position: relative;\n  svg {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 10px;\n  }\n"]))),Ne=x.c.div(Se||(Se=Object(b.a)(["\n  position: absolute;\n  top: 45px;\n  left: 0;\n  width: 100%;\n  border: var(--border-primary);\n  box-shadow: var(--shadow-popup);\n  border-radius: var(--border-radius-primary);\n  background: white;\n  z-index: 100;\n"]))),Le=Object(x.c)(l.b)(Ee||(Ee=Object(b.a)(["\n  display: flex;\n  padding: 15px 12px;\n  align-items: center;\n  border-top: var(--border-primary);\n  :hover {\n    background: var(--color-light-secondary);\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),Te=x.c.img(ze||(ze=Object(b.a)(["\n  /* min-width: 15px;\n  min-height: 15px; */\n  width: 20px;\n  height: 20px;\n  border-radius: 100px;\n  margin-right: 10px;\n"]))),qe=x.c.div(Me||(Me=Object(b.a)([""]))),Ue=function(e){e.meUserData;var n=Object(i.useRef)(null);Pe(n,(function(){j(!1)}));var t=me().request,r=Object(i.useState)([]),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useState)(!1),d=Object(s.a)(l,2),b=d[0],j=d[1],p=(Object(i.useContext)(u),Object(i.useState)("")),f=Object(s.a)(p,2),v=f[0],x=f[1],h=ge(v,250);Object(i.useEffect)((function(){h?t("/api/search/users?search=".concat(h),"GET").then((function(e){console.log("search res",e),o(e.users)})).catch((function(e){return console.log(e)})):o([])}),[h]);return Object(De.jsx)(De.Fragment,{children:Object(De.jsxs)(Re,{ref:n,onClick:function(){b||j(!0)},children:[Object(De.jsx)(ke,{}),Object(De.jsx)(be,{style:{fontSize:"var(--text-size-secondary)"},placeholder:"Search...",value:v,onChange:function(e){x(e.target.value)},paddingLeft:"35px"}),0!==c.length&&b&&Object(De.jsx)(Ne,{children:c.map((function(e){return Object(De.jsxs)(Le,{to:"/profile/".concat(e._id),onClick:function(){j(!1),x("")},children:[Object(De.jsx)(Te,{src:e.avatar}),Object(De.jsxs)(qe,{children:[e.firstName," ",e.lastName]})]},e._id)}))})]})})},Be=t(23),Fe=t(9),Ae=t(7);function Ze(){return(Ze=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function He(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ve(e,n){var t=e.title,r=e.titleId,a=He(e,["title","titleId"]);return i.createElement("svg",Ze({width:26,height:27,viewBox:"0 0 26 27",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Ie||(Ie=i.createElement("path",{d:"M12.7087 25.0625C11.6891 25.0625 10.8962 24.2695 10.8962 23.25H9.08367C9.08367 25.2891 10.6696 26.875 12.7087 26.875C14.6911 26.875 16.3337 25.2891 16.3337 23.25H14.5212C14.5212 24.2695 13.6716 25.0625 12.7087 25.0625ZM24.5466 18.9746C22.9606 17.502 21.7712 15.916 21.7712 10.5352C21.7712 6.06055 18.1462 2.37891 13.6149 1.92578V0.90625C13.6149 0.453125 13.1618 0 12.7087 0C12.1989 0 11.8024 0.453125 11.8024 0.90625V1.92578C7.21453 2.37891 3.58953 6.06055 3.58953 10.5352C3.58953 15.916 2.40008 17.502 0.814143 18.9746C0.0211746 19.7676 -0.205388 20.9004 0.191096 21.9199C0.587581 22.9395 1.60711 23.5625 2.73992 23.5625H22.6774C23.7536 23.5625 24.7731 22.9395 25.1696 21.9199C25.5661 20.9004 25.3395 19.7676 24.5466 18.9746ZM22.6774 21.75H2.73992C1.89032 21.75 1.49383 20.8438 2.06024 20.2773C4.04266 18.4082 5.40203 16.3125 5.40203 10.5352C5.40203 6.74023 8.68719 3.625 12.7087 3.625C16.6735 3.625 19.9587 6.74023 19.9587 10.5352C19.9587 16.3125 21.3181 18.4082 23.3005 20.2773C23.8669 20.8438 23.4704 21.75 22.6774 21.75Z"})))}var Ge,Je,Ke,We,$e,Ye,Qe,Xe=i.forwardRef(Ve),en=(t.p,t(22)),nn=function(){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1];return{visible:t,show:function(){return r(!0)},hide:function(){return r(!1)}}},tn=x.c.div(Ge||(Ge=Object(b.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  position: relative;\n  svg {\n    ","\n  }\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n"])),ae),rn=x.c.div(Je||(Je=Object(b.a)(["\n  min-width: 250px;\n  /* min-height: 300px; */\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  /* &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 15px;\n    height: 15px;\n    border: 1px solid black;\n  } */\n  &::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: none;\n    /* box-shadow: inset 0 0 10px black; */\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 5px;\n    background: var(--color-dark-secondary);\n    box-shadow: inset 0 0 5px $pale-orange;\n  }\n"]))),an=Object(x.c)(l.b)(Ke||(Ke=Object(b.a)(["\n  display: flex;\n  padding: 20px 18px;\n  align-items: flex-start;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n  ","\n"])),(function(e){return!e.isRead&&"\n    background: var(--color-secondary);\n  "})),cn=x.c.div(We||(We=Object(b.a)([""]))),on=x.c.div($e||($e=Object(b.a)(["\n  margin-bottom: 3px;\n"]))),sn=x.c.div(Ye||(Ye=Object(b.a)(["\n  color: var(--text-color-secondary);\n"]))),ln=function(e){var n=e.notification,t=(e.visible,en.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"})),r=me().request,a=Object(i.useContext)(u).setNotifications,c=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("read notification",n),a((function(e){var t=e.findIndex((function(e){return e._id===n._id})),r=Object(Ae.a)(Object(Ae.a)({},n),{},{isRead:!0});return[].concat(Object(Fe.a)(e.slice(0,t)),[r],Object(Fe.a)(e.slice(t+1)))})),e.next=5,r("/api/notify/".concat(n._id),"PUT");case 5:t=e.sent,console.log("i read notificatio",t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){n.isRead||c()}),[]),Object(De.jsxs)(an,{to:n.url,isRead:n.isRead,children:[Object(De.jsx)(fe,{style:{marginRight:"15px"},size:"small",src:n.user.avatar}),Object(De.jsxs)(cn,{children:[Object(De.jsxs)(on,{children:[Object(De.jsxs)(oe,{to:"/profile/".concat(n.user._id),children:[n.user.firstName," ",n.user.lastName]})," ",n.text]}),Object(De.jsx)(sn,{children:t})]})]})},dn=function(e){var n=e.notifications,t=(e.setNotifications,nn()),r=t.visible,i=t.show,a=t.hide,c=n.filter((function(e){return!e.isRead})),o=[],s=5;n.forEach((function(e){if(e.isRead){if(!s)return;o.push(e),s--}else o.push(e)}));var l=Object(De.jsx)(de,{children:Object(De.jsx)(rn,{onClick:r?a:i,children:o.length>0&&r?Object(De.jsx)(De.Fragment,{children:o.map((function(e,n){return Object(De.jsx)(ln,{visible:r,notification:e},n)}))}):Object(De.jsx)("div",{style:{display:"flex",textAlign:"center",justifyContent:"center",color:"var(--text-color-secondary)",padding:"45px 15px"},children:"No notifications yet..."})})});return Object(De.jsx)(Be.a,{content:l,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,0],visible:r,onClickOutside:a,onMount:function(){return console.log("mounted!")},children:Object(De.jsxs)(tn,{onClick:r?a:function(){i()},children:[Object(De.jsx)(Xe,{}),c.length>0&&Object(De.jsx)(he,{children:c.length}),console.log("notifications",n)]})})};function un(){return(un=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function bn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function jn(e,n){var t=e.title,r=e.titleId,a=bn(e,["title","titleId"]);return i.createElement("svg",un({"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"github",className:"svg-inline--fa fa-github fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Qe||(Qe=i.createElement("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})))}var pn,fn=i.forwardRef(jn);t.p;function vn(){return(vn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function xn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function hn(e,n){var t=e.title,r=e.titleId,a=xn(e,["title","titleId"]);return i.createElement("svg",vn({"aria-hidden":"true",focusable:"false","data-prefix":"fab",className:"svg-inline--fa fa-react fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,pn||(pn=i.createElement("path",{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"})))}var On,gn,mn,yn,wn,Cn,kn,_n,Sn,En,zn=i.forwardRef(hn);t.p;function Mn(){return(Mn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function In(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Pn(e,n){var t=e.title,r=e.titleId,a=In(e,["title","titleId"]);return i.createElement("svg",Mn({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1112.61 300",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,On||(On=i.createElement("defs",null)),gn||(gn=i.createElement("path",{className:"cls-1",d:"M1088.41,233.64A16.61,16.61,0,1,1,1105,216.8a16.4,16.4,0,0,1-16.61,16.84m0-31.72a15.12,15.12,0,1,0,15,15.16,14.87,14.87,0,0,0-15-15.16m4.06,25.61-4.29-9.23h-3.46v9.23h-2.51v-21h6.2c4.62,0,6.53,2.05,6.53,5.88,0,3.08-1.45,5-4.15,5.59l4.43,9.52Zm-7.75-11.43h3.64c2.94,0,4.06-1,4.06-3.68s-1.07-3.6-4.38-3.6h-3.32Z"})),mn||(mn=i.createElement("path",{className:"cls-1",d:"M841.24,218.5c4.5,3.6,13.48,5.08,21.4,5.08,10.26,0,20.31-1.9,30.14-10.78,10.06-9.1,16.9-23.06,16.9-45.26,0-21.36-8.13-38.7-24.81-48.85-9.41-5.92-21.59-8.25-35.5-8.25-4.06,0-8.13.21-10.48,1.27a5.56,5.56,0,0,0-1.92,3c-.43,3.81-.43,32.78-.43,49.91,0,17.55,0,42.08.43,45,.21,2.54,1.5,7,4.27,8.88M798.56,100.93c3.63,0,17.45.63,23.87.63,12,0,20.31-.63,42.77-.63,18.82,0,34.65,5.08,46,14.8,13.69,11.84,21,28.34,21,48.43,0,28.54-13,45-26.09,54.34-13,9.73-29.95,15.23-54.11,15.23-12.83,0-34.86-.42-53.26-.63h-.25c-.85-1.7,1.58-8.29,3.08-8.46,5-.57,6.32-.76,8.63-1.71,3.88-1.6,4.8-3.58,5.23-10.56.64-13.11.43-28.76.43-46.52,0-12.69.21-37.43-.22-45.26-.64-6.55-3.41-8.24-9-9.51a118.52,118.52,0,0,0-12-1.91c-.43-1.27,2.86-7,3.93-8.24"})),yn||(yn=i.createElement("path",{className:"cls-1",d:"M985.2,111.66c-.85.21-1.93,2.33-1.93,3.39-.21,7.61-.42,27.49-.42,41.23a1.37,1.37,0,0,0,1.07,1.06c2.78.21,9.62.43,15.39.43,8.13,0,12.84-1.07,15.4-2.34,6.85-3.38,10-10.78,10-18.81,0-18.4-12.83-25.38-31.86-25.38a57.48,57.48,0,0,0-7.7.42m48.55,84.59c0-18.61-13.69-29.18-38.72-29.18-1.06,0-9-.22-10.9.21-.64.21-1.28.63-1.28,1.06,0,13.32-.22,34.68.42,43.14.43,3.59,3,8.67,6.21,10.15,3.42,1.9,11.12,2.32,16.47,2.32,14.75,0,27.8-8.24,27.8-27.7M946.57,101.3c1.93,0,7.62.63,22.16.63,13.69,0,24.81-.42,38.07-.42,16.47,0,39.14,5.93,39.14,30.45,0,12.06-8.56,21.78-19.68,26.44-.64.21-.64.63,0,.84,15.83,4,29.73,13.75,29.73,32.36,0,18.18-11.33,29.61-27.8,36.79-10.06,4.45-22.46,5.92-35.08,5.92-9.62,0-35.41-1.05-49.74-.84-1.5-.63,1.37-7.4,2.65-8.46a39.93,39.93,0,0,0,9.7-1.52c5.13-1.26,5.74-2.92,6.38-10.53.43-6.56.43-30,.43-46.74,0-22.84.21-38.27,0-45.89-.22-5.92-2.35-7.83-6.42-8.88-3.2-.64-8.55-1.27-12.82-1.9-1.08-1.06,2.22-7.41,3.28-8.25"})),wn||(wn=i.createElement("path",{className:"cls-1",d:"M179.51,233.64a9.24,9.24,0,0,1-.66-4.28,5.5,5.5,0,0,1,.66-2.85,73.34,73.34,0,0,0,8.21-1.67c3.78-.94,5.2-3,5.43-7.83.62-11.4.65-32.79.43-47.83v-.44c0-1.62,0-3.82-2-5.38a43,43,0,0,0-11.34-5c-1.8-.53-2.79-1.47-2.73-2.57S178.7,153.4,181,153c6.19-.64,22.43-4.51,28.8-7.46a4.2,4.2,0,0,1,.86,3c0,.66-.1,1.36-.17,2.08-.18,2.13-.38,4.54-.38,6.94a1.58,1.58,0,0,0,2.68.91c12.15-9.52,23-12.92,28.6-12.92,9.18,0,16.33,4.39,21.86,13.42a1.49,1.49,0,0,0,1.25.73,1.39,1.39,0,0,0,1.15-.62c11.17-8.47,22.24-13.53,29.63-13.53,17.51,0,28,13.11,28,35.06,0,6.31-.06,14.3-.12,21.77-.05,6.54-.1,12.68-.1,16.93,0,1,1.38,3.88,3.45,4.45,2.56,1.25,6.26,1.89,10.93,2.69l.18,0c.36,1.26-.38,6.15-1.1,7.15-1.16,0-2.76-.09-4.76-.19-3.63-.18-8.62-.44-14.42-.44-11.63,0-17.71.23-23.52.61-.43-1.45-.59-6.14-.05-7.11a64.2,64.2,0,0,0,7.09-1.67c3.7-1.22,4.77-2.9,5-7.82.09-3.5.76-34.28-.43-41.59-1.1-7.57-6.8-16.44-19.29-16.44-4.63,0-12.11,1.93-19.25,7.34a2.84,2.84,0,0,0-.69,1.81v.15c.84,3.94.84,8.54.84,15.51,0,4,0,8.17-.05,12.35-.05,8.49-.09,16.5.05,22.55,0,4.13,2.49,5.12,4.5,5.91,1.09.24,2,.45,2.82.65,1.68.41,3.42.83,6,1.24a11.49,11.49,0,0,1-.1,5.32,4,4,0,0,1-.75,1.82c-6.46-.22-13.1-.42-22.68-.42-2.9,0-7.64.13-11.83.24-3.38.09-6.6.18-8.42.19A8.34,8.34,0,0,1,236,230a6.38,6.38,0,0,1,.67-3.44l2.57-.47c2.24-.4,4.18-.74,6-1.2,3.17-1,4.36-2.73,4.6-6.76.62-9.41,1.1-36.52-.23-43.31-2.27-10.89-8.47-16.42-18.44-16.42-5.84,0-13.21,2.81-19.23,7.33a5.83,5.83,0,0,0-1.78,4.35c0,3.23,0,7.08,0,11.2,0,13.61-.09,30.56.24,37.9.2,2.25,1,4.93,5.24,5.92.93.27,2.53.53,4.39.84,1.08.18,2.25.37,3.45.59a15.21,15.21,0,0,1-.57,7.16c-1.86,0-4.15-.12-6.77-.24-4-.17-9-.4-14.67-.4-6.69,0-11.34.23-15.08.4-2.51.13-4.68.23-6.85.24"})),Cn||(Cn=i.createElement("path",{className:"cls-1",d:"M394.18,154.55A18.28,18.28,0,0,0,384,157.42c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.43,42.14,30.21,42.14A19,19,0,0,0,416,221.73c5.46-4.46,8.36-13.57,8.36-26.32,0-24.44-12.14-40.86-30.21-40.86m3.43,81C365.47,235.54,354,212,354,189.92c0-15.41,6.3-27.46,18.72-35.81a57.11,57.11,0,0,1,28.92-8.56c24.52,0,41.65,17.64,41.65,42.89,0,17.16-6.85,30.71-19.79,39.18-6.21,3.81-17,7.92-25.92,7.92"})),kn||(kn=i.createElement("path",{className:"cls-1",d:"M721.32,154.55a18.27,18.27,0,0,0-10.24,2.87c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.42,42.14,30.21,42.14a19,19,0,0,0,13.08-4.62c5.46-4.45,8.36-13.56,8.36-26.31,0-24.44-12.14-40.86-30.2-40.86m3.42,81c-32.14,0-43.58-23.57-43.58-45.62,0-15.42,6.3-27.46,18.73-35.81a57,57,0,0,1,28.91-8.56c24.52,0,41.65,17.64,41.65,42.88,0,17.18-6.85,30.72-19.79,39.18-6.21,3.82-17,7.93-25.92,7.93"})),_n||(_n=i.createElement("path",{className:"cls-1",d:"M613.14,153.7c-9.91,0-16.31,7.82-16.31,19.93s5.51,26.49,21,26.49c2.67,0,7.5-1.19,9.89-3.82,3.6-3.31,5.95-10.16,5.95-17.38,0-15.79-7.68-25.22-20.54-25.22m-1.29,83.53a16.41,16.41,0,0,0-8,2c-7.84,5-11.47,10.05-11.47,15.83,0,5.45,2.12,9.78,6.66,13.63,5.51,4.66,12.93,6.93,22.69,6.93,19.21,0,27.82-10.33,27.82-20.56,0-7.13-3.58-11.9-10.93-14.6-5.67-2.08-15.14-3.22-26.73-3.22m1.29,49.07c-11.54,0-19.85-2.44-26.95-7.9-6.9-5.33-10-13.24-10-18.7a14.61,14.61,0,0,1,3.78-9.51c2-2.29,6.67-6.56,17.42-14a.9.9,0,0,0,.57-.85.89.89,0,0,0-.68-.88c-8.87-3.39-11.54-9-12.34-12,0-.11-.05-.28-.09-.47-.26-1.19-.5-2.3,1.11-3.46,1.24-.88,3.23-2.06,5.35-3.31a71,71,0,0,0,8.59-5.6,1.35,1.35,0,0,0,.37-1.19,1.39,1.39,0,0,0-.72-1c-13.12-4.4-19.72-14.15-19.72-29a28.87,28.87,0,0,1,12.11-23.76c5.28-4.17,18.52-9.18,27.1-9.18h.5c8.82.21,13.8,2.06,20.68,4.61a32.89,32.89,0,0,0,12.23,2c7.3,0,10.49-2.32,13.23-5a11.39,11.39,0,0,1,.7,3.78A14.17,14.17,0,0,1,664,159.6c-1.5,2.07-5,3.58-8.22,3.58-.34,0-.65,0-1-.05a29.36,29.36,0,0,1-5-.83l-.82.28c-.26.39-.09.81.12,1.35a2.74,2.74,0,0,1,.12.32,58.87,58.87,0,0,1,1.19,8.11c0,15.57-6.13,22.35-12.77,27.37a43.59,43.59,0,0,1-22.07,8.53h0c-.17,0-1,.08-2.55.22-1,.09-2.31.2-2.5.2l-.19,0c-1.44.41-5.21,2.2-5.21,5.52,0,2.77,1.71,6.21,9.84,6.82l5.26.37c10.74.75,24.14,1.68,30.45,3.82a21.08,21.08,0,0,1,14.08,20.29c0,14-9.92,27.1-26.55,35.12a57.66,57.66,0,0,1-25.11,5.65"})),Sn||(Sn=i.createElement("path",{className:"cls-1",d:"M564,226.19c-4.71-.63-8.14-1.27-12.19-3.17a5.56,5.56,0,0,1-1.5-3c-.43-6.56-.43-25.59-.43-38.07,0-10.15-1.71-19-6-25.37-5.13-7.19-12.4-11.42-21.81-11.42-8.34,0-19.46,5.7-28.66,13.53-.22.21-1.63,1.55-1.59-.53s.35-6.31.54-9a4.6,4.6,0,0,0-1.4-3.92c-6,3-22.85,7-29.08,7.61-4.55.88-5.7,5.26-.85,6.77l.07,0a41.79,41.79,0,0,1,11.05,4.84c1.92,1.48,1.7,3.6,1.7,5.29.21,14.17.21,35.95-.42,47.8-.22,4.65-1.5,6.34-4.93,7.19l.32-.11a66.65,66.65,0,0,1-7.92,1.48c-1.07,1.05-1.07,7.19,0,8.46,2.14,0,13.05-.63,22-.63,12.4,0,18.82.63,22,.63,1.29-1.48,1.71-7.19.85-8.46a45.12,45.12,0,0,1-8.77-1.27c-3.42-.84-4.27-2.54-4.48-6.34-.43-9.94-.43-31.09-.43-45.47,0-4,1.06-5.92,2.35-7,4.28-3.81,11.33-6.34,17.54-6.34,6,0,10.05,1.9,13,4.44,4.07,3.38,5.56,8.24,6,11.84.86,8,.64,24.11.64,38.06,0,7.62-.64,9.53-3.42,10.37-1.28.63-4.71,1.27-8.77,1.69-1.28,1.27-.86,7.19,0,8.46,5.56,0,12-.63,21.39-.63,11.76,0,19.24.63,22.24.63,1.28-1.48,1.71-7,.86-8.46"})),En||(En=i.createElement("path",{className:"cls-1",d:"M131.69,120.49C116.44,53.19,80.4,31.06,76.53,22.61,72.27,16.63,68,6,68,6c-.08-.17-.19-.49-.32-.8-.44,5.95-.67,8.27-6.3,14.29C52.62,26.36,7.82,63.94,4.17,140.41c-3.4,71.29,51.52,113.79,59,119.21l.84.59,0,0c.05.35,2.36,17,4,34.57l5.81,0a344.12,344.12,0,0,1,6.14-37l.45-.3a97.92,97.92,0,0,0,9.48-7.76l.34-.31a136.77,136.77,0,0,0,43.89-102.11A163.1,163.1,0,0,0,131.69,120.49ZM67.32,219.36s0-100,3.35-100c2.57,0,5.91,129,5.91,129C72,247.82,67.32,227.14,67.32,219.36Z"})))}var Dn,Rn,Nn=i.forwardRef(Pn);t.p;function Ln(){return(Ln=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Tn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function qn(e,n){var t=e.title,r=e.titleId,a=Tn(e,["title","titleId"]);return i.createElement("svg",Ln({xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Dn||(Dn=i.createElement("path",{d:"M45.2 29.57c-.106-6.514-3.734-12.843-9.348-16.18-4.422-2.754-10-3.495-15.04-2.224-7.573 1.907-13.6 8.765-14.38 16.577-.953 7.388 2.78 15.067 9.162 18.854 6.25 3.92 14.75 3.76 20.867-.37 5.508-3.575 8.924-10.1 8.74-16.656zm-18.377 17c-8.844.874-17.398-6.62-17.636-15.5-.662-7.203 4.078-14.326 10.857-16.7 9.506-3.813 21.184 3.23 22.164 13.426 1.536 9.162-6.1 18.483-15.385 18.775zm-5.826-17.555l12.8-10.46-6.9 10.486c-1.96 0-3.92 0-5.88-.026zm3.6 1.933l5.88.026-12.8 10.486 6.9-10.513z"})),Rn||(Rn=i.createElement("path",{d:"M51.065 35.91c.648.367 1.62.627 2.7.627 2.356 0 3.61-1.167 3.61-2.766-.022-1.318-.756-2.14-2.356-2.7-1.124-.41-1.556-.67-1.556-1.232 0-.54.432-.93 1.232-.93.778 0 1.49.28 1.88.52l.432-1.578c-.52-.28-1.36-.52-2.356-.52-2.053 0-3.35 1.2-3.35 2.788-.022 1.037.713 1.988 2.442 2.593 1.102.39 1.448.692 1.448 1.297 0 .583-.432.972-1.426.972-.8 0-1.772-.324-2.27-.627zm11.39-8.623c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004zm11.735 5.49a4.49 4.49 0 0 1-1.772.346c-1.534 0-2.7-1.037-2.7-2.853-.022-1.62.994-2.874 2.7-2.874.8 0 1.318.173 1.686.346l.41-1.664c-.52-.238-1.34-.41-2.16-.41-3.112 0-4.927 2.075-4.927 4.733 0 2.745 1.794 4.517 4.56 4.517 1.102 0 2.03-.238 2.507-.454zm3.436-10.978h-2.248v12.923h2.248V33.34l.756-.886 2.55 3.912h2.745l-3.74-5.23 3.285-3.63h-2.7l-2.14 2.853c-.238.303-.497.692-.713 1.037h-.043zM91.24 32.54c.043-.194.065-.52.065-.95 0-1.945-.95-4.322-3.825-4.322-2.83 0-4.322 2.312-4.322 4.776 0 2.7 1.686 4.473 4.56 4.473 1.275 0 2.334-.238 3.1-.54l-.324-1.556c-.67.26-1.426.41-2.464.41-1.426 0-2.68-.692-2.723-2.29zm-5.92-1.556c.086-.908.67-2.16 2.053-2.16 1.49 0 1.86 1.34 1.837 2.16zm7.413-5.49v2h-1.253v1.664h1.275v4.17c0 1.167.216 1.967.692 2.464.41.454 1.102.735 1.923.735.713 0 1.297-.086 1.62-.216l-.043-1.707c-.194.065-.497.108-.864.108-.864 0-1.145-.562-1.145-1.642v-3.912h2.14v-1.664h-2.14v-2.55zM99 36.56c.843 0 1.383-.627 1.383-1.448 0-.864-.562-1.448-1.383-1.448-.8 0-1.383.605-1.383 1.448 0 .82.562 1.448 1.383 1.448zm4.668-.216v-8.86h-2.248v8.86zm-1.124-12.556c-.756 0-1.253.52-1.253 1.2 0 .67.497 1.2 1.232 1.2.778 0 1.275-.52 1.275-1.2-.022-.67-.497-1.2-1.253-1.2zm6.786 3.5c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004z"})))}var Un,Bn=i.forwardRef(qn);t.p;function Fn(){return(Fn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function An(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Zn(e,n){var t=e.title,r=e.titleId,a=An(e,["title","titleId"]);return i.createElement("svg",Fn({"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"node",className:"svg-inline--fa fa-node fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Un||(Un=i.createElement("path",{d:"M316.3 452c-2.1 0-4.2-.6-6.1-1.6L291 439c-2.9-1.6-1.5-2.2-.5-2.5 3.8-1.3 4.6-1.6 8.7-4 .4-.2 1-.1 1.4.1l14.8 8.8c.5.3 1.3.3 1.8 0L375 408c.5-.3.9-.9.9-1.6v-66.7c0-.7-.3-1.3-.9-1.6l-57.8-33.3c-.5-.3-1.2-.3-1.8 0l-57.8 33.3c-.6.3-.9 1-.9 1.6v66.7c0 .6.4 1.2.9 1.5l15.8 9.1c8.6 4.3 13.9-.8 13.9-5.8v-65.9c0-.9.7-1.7 1.7-1.7h7.3c.9 0 1.7.7 1.7 1.7v65.9c0 11.5-6.2 18-17.1 18-3.3 0-6 0-13.3-3.6l-15.2-8.7c-3.7-2.2-6.1-6.2-6.1-10.5v-66.7c0-4.3 2.3-8.4 6.1-10.5l57.8-33.4c3.7-2.1 8.5-2.1 12.1 0l57.8 33.4c3.7 2.2 6.1 6.2 6.1 10.5v66.7c0 4.3-2.3 8.4-6.1 10.5l-57.8 33.4c-1.7 1.1-3.8 1.7-6 1.7zm46.7-65.8c0-12.5-8.4-15.8-26.2-18.2-18-2.4-19.8-3.6-19.8-7.8 0-3.5 1.5-8.1 14.8-8.1 11.9 0 16.3 2.6 18.1 10.6.2.8.8 1.3 1.6 1.3h7.5c.5 0 .9-.2 1.2-.5.3-.4.5-.8.4-1.3-1.2-13.8-10.3-20.2-28.8-20.2-16.5 0-26.3 7-26.3 18.6 0 12.7 9.8 16.1 25.6 17.7 18.9 1.9 20.4 4.6 20.4 8.3 0 6.5-5.2 9.2-17.4 9.2-15.3 0-18.7-3.8-19.8-11.4-.1-.8-.8-1.4-1.7-1.4h-7.5c-.9 0-1.7.7-1.7 1.7 0 9.7 5.3 21.3 30.6 21.3 18.5 0 29-7.2 29-19.8zm54.5-50.1c0 6.1-5 11.1-11.1 11.1s-11.1-5-11.1-11.1c0-6.3 5.2-11.1 11.1-11.1 6-.1 11.1 4.8 11.1 11.1zm-1.8 0c0-5.2-4.2-9.3-9.4-9.3-5.1 0-9.3 4.1-9.3 9.3 0 5.2 4.2 9.4 9.3 9.4 5.2-.1 9.4-4.3 9.4-9.4zm-4.5 6.2h-2.6c-.1-.6-.5-3.8-.5-3.9-.2-.7-.4-1.1-1.3-1.1h-2.2v5h-2.4v-12.5h4.3c1.5 0 4.4 0 4.4 3.3 0 2.3-1.5 2.8-2.4 3.1 1.7.1 1.8 1.2 2.1 2.8.1 1 .3 2.7.6 3.3zm-2.8-8.8c0-1.7-1.2-1.7-1.8-1.7h-2v3.5h1.9c1.6 0 1.9-1.1 1.9-1.8zM137.3 191c0-2.7-1.4-5.1-3.7-6.4l-61.3-35.3c-1-.6-2.2-.9-3.4-1h-.6c-1.2 0-2.3.4-3.4 1L3.7 184.6C1.4 185.9 0 188.4 0 191l.1 95c0 1.3.7 2.5 1.8 3.2 1.1.7 2.5.7 3.7 0L42 268.3c2.3-1.4 3.7-3.8 3.7-6.4v-44.4c0-2.6 1.4-5.1 3.7-6.4l15.5-8.9c1.2-.7 2.4-1 3.7-1 1.3 0 2.6.3 3.7 1l15.5 8.9c2.3 1.3 3.7 3.8 3.7 6.4v44.4c0 2.6 1.4 5.1 3.7 6.4l36.4 20.9c1.1.7 2.6.7 3.7 0 1.1-.6 1.8-1.9 1.8-3.2l.2-95zM472.5 87.3v176.4c0 2.6-1.4 5.1-3.7 6.4l-61.3 35.4c-2.3 1.3-5.1 1.3-7.4 0l-61.3-35.4c-2.3-1.3-3.7-3.8-3.7-6.4v-70.8c0-2.6 1.4-5.1 3.7-6.4l61.3-35.4c2.3-1.3 5.1-1.3 7.4 0l15.3 8.8c1.7 1 3.9-.3 3.9-2.2v-94c0-2.8 3-4.6 5.5-3.2l36.5 20.4c2.3 1.2 3.8 3.7 3.8 6.4zm-46 128.9c0-.7-.4-1.3-.9-1.6l-21-12.2c-.6-.3-1.3-.3-1.9 0l-21 12.2c-.6.3-.9.9-.9 1.6v24.3c0 .7.4 1.3.9 1.6l21 12.1c.6.3 1.3.3 1.8 0l21-12.1c.6-.3.9-.9.9-1.6v-24.3zm209.8-.7c2.3-1.3 3.7-3.8 3.7-6.4V192c0-2.6-1.4-5.1-3.7-6.4l-60.9-35.4c-2.3-1.3-5.1-1.3-7.4 0l-61.3 35.4c-2.3 1.3-3.7 3.8-3.7 6.4v70.8c0 2.7 1.4 5.1 3.7 6.4l60.9 34.7c2.2 1.3 5 1.3 7.3 0l36.8-20.5c2.5-1.4 2.5-5 0-6.4L550 241.6c-1.2-.7-1.9-1.9-1.9-3.2v-22.2c0-1.3.7-2.5 1.9-3.2l19.2-11.1c1.1-.7 2.6-.7 3.7 0l19.2 11.1c1.1.7 1.9 1.9 1.9 3.2v17.4c0 2.8 3.1 4.6 5.6 3.2l36.7-21.3zM559 219c-.4.3-.7.7-.7 1.2v13.6c0 .5.3 1 .7 1.2l11.8 6.8c.4.3 1 .3 1.4 0L584 235c.4-.3.7-.7.7-1.2v-13.6c0-.5-.3-1-.7-1.2l-11.8-6.8c-.4-.3-1-.3-1.4 0L559 219zm-254.2 43.5v-70.4c0-2.6-1.6-5.1-3.9-6.4l-61.1-35.2c-2.1-1.2-5-1.4-7.4 0l-61.1 35.2c-2.3 1.3-3.9 3.7-3.9 6.4v70.4c0 2.8 1.9 5.2 4 6.4l61.2 35.2c2.4 1.4 5.2 1.3 7.4 0l61-35.2c1.8-1 3.1-2.7 3.6-4.7.1-.5.2-1.1.2-1.7zm-74.3-124.9l-.8.5h1.1l-.3-.5zm76.2 130.2l-.4-.7v.9l.4-.2z"})))}var Hn,Vn=i.forwardRef(Zn);t.p;function Gn(){return(Gn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Jn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Kn(e,n){var t=e.title,r=e.titleId,a=Jn(e,["title","titleId"]);return i.createElement("svg",Gn({xmlns:"http://www.w3.org/2000/svg",viewBox:"-64.9 417 256 61.369",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Hn||(Hn=i.createElement("path",{d:"M-33.33 422.558h-13.125v40.558h-5.32v-40.558H-64.9V417.7h31.453v4.848h.118zm25.188 8.158l-14.9 37.602c-2.72 6.74-6.385 10.05-11.233 10.05-1.3 0-2.483-.118-3.43-.355V473.4c1.064.355 2.128.6 3.074.6 2.6 0 4.612-1.537 5.912-4.73l2.6-6.15-12.652-32.4h5.794l8.75 24.95c.118.355.355 1.182.7 2.483h.236c.118-.473.355-1.3.6-2.365l9.223-25.068h5.32zm8.75 27.788H.5v19.63h-5.203v-47.298H.5v5.676h.118c2.6-4.257 6.267-6.503 11.233-6.503 4.14 0 7.45 1.42 9.814 4.375s3.547 6.74 3.547 11.706c0 5.44-1.3 9.814-3.902 13.007s-6.267 4.848-10.88 4.848c-4.257 0-7.45-1.774-9.814-5.44zM.5 445.38v4.493c0 2.72.828 4.966 2.6 6.858s3.902 2.838 6.622 2.838c3.193 0 5.558-1.182 7.45-3.666s2.72-5.794 2.72-10.05c0-3.666-.828-6.385-2.483-8.514-1.655-2-3.902-3.074-6.74-3.074-3.074 0-5.44 1.064-7.33 3.193S.5 442.186.5 445.38zm56.758 2.838h-22.94c.118 3.666 1.064 6.385 2.956 8.395s4.375 2.956 7.686 2.956c3.666 0 6.976-1.182 10.05-3.666v4.848c-2.838 2.128-6.622 3.074-11.352 3.074-4.612 0-8.16-1.42-10.76-4.375s-3.902-7.095-3.902-12.416c0-5.085 1.42-9.105 4.257-12.297s6.385-4.73 10.642-4.73 7.568 1.42 9.814 4.14c2.365 2.72 3.43 6.503 3.43 11.47v2.6h.118zm-5.32-4.375c0-2.956-.7-5.32-2.128-6.976s-3.43-2.483-5.912-2.483-4.493.828-6.267 2.6c-1.655 1.774-2.72 4.02-3.193 6.858h17.5zm8.16 17.737v-3.547c3.3 2.128 6.503 3.074 9.933 3.074 3.547 0 6.267-.7 8.04-2.247 1.892-1.42 2.72-3.547 2.72-6.15 0-2.365-.6-4.14-1.892-5.558-1.182-1.42-3.902-3.3-8.04-5.676-4.612-2.72-7.568-4.966-8.75-6.74a11.2 11.2 0 0 1-1.892-6.267c0-3.193 1.3-5.912 3.784-8.16s5.79-3.31 9.93-3.31c2.72 0 5.44.473 8.16 1.42v3.3a21.13 21.13 0 0 0-8.514-1.774c-3.074 0-5.558.828-7.33 2.365s-2.72 3.547-2.72 5.912.6 4.14 1.892 5.558c1.182 1.42 3.902 3.193 8.04 5.558 4.257 2.365 7.095 4.493 8.514 6.385s2.128 4.02 2.128 6.503c0 3.43-1.182 6.267-3.666 8.514-2.365 2.247-5.794 3.3-10.287 3.3-1.537 0-3.3-.236-5.44-.7-1.892-.6-3.43-1.182-4.612-1.774zm51.436.118c-2.365 1.42-5.32 2.247-8.632 2.247-4.375 0-7.922-1.537-10.642-4.493-2.72-3.074-4.02-6.976-4.02-11.943 0-5.203 1.537-9.34 4.612-12.652s6.976-4.966 11.706-4.966c2.483 0 4.848.473 7.213 1.537v3.3a14.47 14.47 0 0 0-7.686-2.128c-3.784 0-6.858 1.42-9.223 4.14S91.3 443.014 91.3 447.4c0 4.257 1.064 7.568 3.193 10.17s4.966 3.784 8.514 3.784c3.193 0 6.03-.828 8.514-2.6v2.956zm19.63-27.906c-.946-.7-2.128-1.064-3.43-1.064-2.6 0-4.73 1.3-6.385 3.902-1.774 2.6-2.6 6.385-2.6 11.233v15.254H115.9v-32.4h2.838v7.213h.118c.7-2.483 1.892-4.375 3.547-5.794s3.43-2 5.557-2c1.182 0 2.247.236 3.193.6v3.074zm4.966-11.233c-.6 0-1.182-.236-1.655-.7s-.7-1.064-.7-1.774.236-1.3.7-1.655c.473-.473 1.064-.6 1.655-.6.7 0 1.182.236 1.774.6.473.473.7.946.7 1.655s-.236 1.3-.7 1.774c-.6.473-1.064.7-1.774.7zm-1.42 40.676v-32.4h2.956v32.4H134.7zm13.125-5.794h-.118v20.693h-2.956v-47.298h2.956v6.74h.118c1.182-2.365 2.838-4.257 4.966-5.558s4.493-1.892 7.095-1.892c4.14 0 7.33 1.42 9.696 4.257s3.43 6.74 3.43 11.588c0 5.44-1.3 9.814-4.02 13.125-2.6 3.3-6.15 4.966-10.524 4.966-4.73-.118-8.277-2.247-10.642-6.622zm-.118-12.06v4.14c0 3.3 1.064 6.03 3.074 8.395s4.73 3.547 8.04 3.547 6.03-1.42 8.04-4.257 3.074-6.622 3.074-11.233c0-4.02-.946-7.33-2.838-9.696s-4.493-3.547-7.568-3.547c-3.784 0-6.74 1.3-8.75 3.784s-3.074 5.44-3.074 8.868zm43.393 17.38c-1.537.7-2.956 1.064-4.257 1.064-4.848 0-7.213-2.838-7.213-8.632v-21.757h-5.794v-2.72h5.794v-8.395c.473-.118.946-.355 1.42-.473s.946-.355 1.42-.473v9.46h8.514v2.72h-8.514v21.402c0 2.247.355 3.902 1.064 4.848s1.892 1.537 3.547 1.537c1.182 0 2.483-.355 3.902-1.182v2.6h.118z"})))}var Wn,$n,Yn,Qn,Xn,et,nt,tt,rt,it,at,ct,ot,st,lt,dt,ut,bt,jt,pt,ft,vt,xt,ht,Ot,gt,mt,yt,wt,Ct,kt,_t,St=i.forwardRef(Kn),Et=(t.p,x.c.footer(Wn||(Wn=Object(b.a)(["\n  /* background: black; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 0 30px;\n"])))),zt=x.c.a($n||($n=Object(b.a)(["\n  display: flex;\n  border: 1px solid var(--text-color-secondary);\n  border-radius: 5px;\n  padding: 15px 20px;\n  align-items: center;\n  margin-right: 25px;\n  min-width: 190px;\n  width: 150px;\n  svg {\n    width: 35px;\n    margin-right: 10px;\n    fill: var(--text-color-secondary);\n  }\n"]))),Mt=x.c.div(Yn||(Yn=Object(b.a)(["\n  color: var(--text-color-secondary);\n"]))),It=x.c.div(Qn||(Qn=Object(b.a)(["\n  color: var(--text-color-secondary);\n"]))),Pt=x.c.a(Xn||(Xn=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 18px;\n  color: var(--text-color-secondary);\n  margin-right: 25px;\n  :hover {\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n  svg {\n    width: 35px;\n    margin-right: 7px;\n    fill: var(--text-color-secondary);\n  }\n"]))),Dt=x.c.a(et||(et=Object(b.a)(["\n  margin-right: 25px;\n  svg {\n    width: 65px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Rt=x.c.a(nt||(nt=Object(b.a)(["\n  margin-right: 15px;\n  svg {\n    width: 95px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Nt=x.c.a(tt||(tt=Object(b.a)(["\n  margin-right: 15px;\n  svg {\n    min-width: 65px;\n    width: 120px;\n    height: 60px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Lt=x.c.a(rt||(rt=Object(b.a)(["\n  margin-right: 20px;\n  svg {\n    width: 90px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Tt=function(){var e=Object(j.h)();return console.log("location",e.pathname.includes("conversation")),e.pathname.includes("conversation")?Object(De.jsx)(De.Fragment,{}):Object(De.jsxs)(Et,{translate:"no",className:"footer notranslate",children:[Object(De.jsxs)(zt,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/antonlavrinov/social-media",children:[Object(De.jsx)(fn,{}),Object(De.jsxs)(Mt,{children:["Created by",Object(De.jsx)(It,{children:"Anton Lavrinov"})]})]}),Object(De.jsxs)(Pt,{target:"_blank",rel:"noopener noreferrer",href:"https://reactjs.org/",children:[Object(De.jsx)(zn,{}),"React"]}),Object(De.jsx)(Dt,{target:"_blank",rel:"noopener noreferrer",href:"https://nodejs.org/en/",children:Object(De.jsx)(Vn,{})}),Object(De.jsx)(Rt,{target:"_blank",rel:"noopener noreferrer",href:"https://www.mongodb.com/",children:Object(De.jsx)(Nn,{})}),Object(De.jsx)(Nt,{target:"_blank",rel:"noopener noreferrer",href:"https://socket.io/",children:Object(De.jsx)(Bn,{})}),Object(De.jsx)(Lt,{target:"_blank",rel:"noopener noreferrer",href:"https://www.typescriptlang.org/",children:Object(De.jsx)(St,{})})]})},qt=x.c.svg(it||(it=Object(b.a)(["\n  animation: rotate 1s linear infinite;\n  /* margin: 70px; */\n  width: 40px;\n  height: 40px;\n\n  & .path {\n    stroke: #5652bf;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n"]))),Ut=function(){return Object(De.jsx)(qt,{viewBox:"0 0 50 50",children:Object(De.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"3"})})},Bt=x.c.div(at||(at=Object(b.a)(["\n  padding: 5px 8px;\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  margin-top: 20px;\n  border-radius: var(--border-radius-primary);\n  box-shadow: var(--shadow-primary);\n  .separator {\n    :last-child {\n      display: none;\n    }\n  }\n"]))),Ft=x.c.div(ct||(ct=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  /* padding: 8px; */\n"]))),At=x.c.div(ot||(ot=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  margin: 6px 0;\n  /* padding: 8px; */\n"]))),Zt=x.c.div(st||(st=Object(b.a)(["\n  font-size: 14px;\n  margin-bottom: 8px;\n  /* color: var(--color-primary); */\n  color: var(--text-color-secondary);\n"]))),Ht=x.c.div(lt||(lt=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 50px;\n"]))),Vt=function(){var e=me(),n=e.request,t=e.loading,r=Object(i.useState)([]),a=Object(s.a)(r,2),c=a[0],o=a[1];return Object(i.useEffect)((function(){n("/api/search/users?search=","GET").then((function(e){console.log("RESPONSE SEARCH",e),o(e.users)}))}),[]),t?Object(De.jsx)(Ht,{children:Object(De.jsx)(Ut,{})}):(0===c.length&&De.Fragment,Object(De.jsxs)(Bt,{children:[Object(De.jsx)(Zt,{children:"Recently joined:"}),Object(De.jsx)(pe,{}),c.map((function(e){return Object(De.jsx)(De.Fragment,{children:Object(De.jsx)(Gt,{user:e},e._id)})}))]}))},Gt=function(e){var n=e.user;return Object(De.jsxs)(At,{children:[Object(De.jsx)(fe,{size:"extra-small",src:n.avatar,style:{marginRight:"8px"}}),Object(De.jsx)(Ft,{children:Object(De.jsxs)(oe,{style:{marginBottom:"5px",display:"block"},color:"black",to:"/profile/".concat(n._id),children:[n.firstName," ",n.lastName]})})]})},Jt=Object(x.c)(l.b)(dt||(dt=Object(b.a)(["\n  font-size: 25px;\n  font-size: 28px;\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  color: var(--text-color-link);\n  display: flex;\n  align-items: center;\n  margin-right: 55px;\n  margin-left: 5px;\n  svg {\n    fill: var(--color-primary);\n    min-width: 10px;\n    margin-right: 10px;\n  }\n  :hover {\n    font-size: 25px;\n    font-size: 28px;\n    font-family: var(--font-family-secondary);\n    font-weight: 700;\n    color: var(--text-color-link);\n  }\n"]))),Kt=x.c.div(ut||(ut=Object(b.a)(["\n  width: 960px;\n  margin: 0 auto;\n"]))),Wt=x.c.div(bt||(bt=Object(b.a)(["\n  display: flex;\n"]))),$t=x.c.header(jt||(jt=Object(b.a)(["\n  border-bottom: var(--border-primary);\n  box-shadow: var(--shadow-primary);\n  margin-bottom: 15px;\n"]))),Yt=x.c.div(pt||(pt=Object(b.a)(["\n  display: flex;\n  /* padding: 20px 0; */\n  position: relative;\n"]))),Qt=x.c.nav(ft||(ft=Object(b.a)([""]))),Xt=Object(x.c)(l.b)(vt||(vt=Object(b.a)(["\n  font-size: var(--font-size-secondary);\n  display: flex;\n  align-items: center;\n  padding: 5px 5px;\n  border-radius: var(--border-radius-primary);\n  position: relative;\n  color: var(--color-black);\n  /* font-weight: 600; */\n  svg {\n    margin-right: 3px;\n    height: var(--icon-size-primary);\n    width: var(--icon-size-primary);\n    height: 35px;\n    width: 35px;\n    fill: var(--color-primary);\n    /* "," */\n  }\n  :hover {\n    background: var(--color-secondary);\n    font-size: var(--font-size-secondary);\n    /* font-weight: 600; */\n  }\n"])),ce),er=x.c.div(xt||(xt=Object(b.a)(["\n  display: flex;\n  margin-right: 5px;\n  position: relative;\n"]))),nr=x.c.div(ht||(ht=Object(b.a)(["\n  display: flex;\n  align-items: center;\n\n  margin-left: auto;\n  /* padding: 15px 0; */\n"]))),tr=x.c.div(Ot||(Ot=Object(b.a)(["\n  display: flex;\n  align-items: center;\n\n  height: 100%;\n  padding: 15px 5px;\n  img {\n    align-self: center;\n  }\n  :hover {\n    cursor: pointer;\n    background: var(--color-secondary);\n  }\n"]))),rr=(x.c.img(gt||(gt=Object(b.a)(["\n  width: 38px;\n  height: 38px;\n  border-radius: 100px;\n  margin-right: 10px;\n"]))),x.c.div(mt||(mt=Object(b.a)(["\n  font-size: var(--text-size-secondary);\n  margin-right: 10px;\n"])))),ir=x.c.div(yt||(yt=Object(b.a)(["\n  padding: 15px 0;\n"]))),ar=x.c.div(wt||(wt=Object(b.a)([""]))),cr=x.c.div(Ct||(Ct=Object(b.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),or=x.c.div(kt||(kt=Object(b.a)(["\n  min-width: 165px;\n  margin-right: 15px;\n"]))),sr=function(e){var n=e.children,t=Object(i.useContext)(u),r=t.logout,a=t.meUserData,c=t.notifications,o=t.setNotifications,s=t.conversations,d=t.socket,b=nn(),j=b.visible,p=b.show,x=b.hide,h=me().request,O=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("/api/auth/logout","POST");case 3:d.disconnect(),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=0;s.forEach((function(e){e.messages.forEach((function(e){e.isRead||e.user._id===(null===a||void 0===a?void 0:a._id)||g++}))}));var m=0;c.forEach((function(e){"sent you a\xa0friend\xa0request"!==e.text||e.isRead||(console.log("notification",e.text),console.log("passed"),m++)})),console.log("pendingFriendRequestsCount",m);var w=Object(De.jsx)(de,{children:Object(De.jsxs)(ar,{onClick:j?x:p,children:[Object(De.jsx)(l.b,{to:"/profile/edit/".concat(null===a||void 0===a?void 0:a._id),children:Object(De.jsx)(cr,{children:"Edit profile"})}),Object(De.jsx)(cr,{onClick:O,children:"Sign out"})]})});return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)($t,{children:Object(De.jsx)(Kt,{children:Object(De.jsxs)(Yt,{children:[Object(De.jsx)(Jt,{to:"/",children:"intouch"}),Object(De.jsx)(ir,{children:Object(De.jsx)(Ue,{meUserData:a})}),Object(De.jsxs)(nr,{children:[Object(De.jsx)(dn,{setNotifications:o,notifications:c}),Object(De.jsx)(Be.a,{content:w,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,0],onClickOutside:x,visible:j,children:Object(De.jsxs)(tr,{onClick:j?x:p,children:[Object(De.jsx)(fe,{marginRight:"10px",size:"medium-small",src:null===a||void 0===a?void 0:a.avatar}),Object(De.jsx)(rr,{children:null===a||void 0===a?void 0:a.firstName}),Object(De.jsx)(ne,{})]})})]})]})})}),Object(De.jsx)(Kt,{children:Object(De.jsxs)(Wt,{children:[Object(De.jsxs)(or,{children:[Object(De.jsxs)(Qt,{children:[Object(De.jsxs)(Xt,{to:"/profile/".concat(null===a||void 0===a?void 0:a._id),children:[Object(De.jsx)(er,{children:Object(De.jsx)(y,{})}),"Profile"]}),Object(De.jsxs)(Xt,{to:"/messages",children:[Object(De.jsxs)(er,{children:[Object(De.jsx)(S,{}),0!==g&&Object(De.jsx)(he,{top:"-7px",right:"-3px",children:g})]}),"Messages"]}),Object(De.jsxs)(Xt,{to:"/friends",children:[Object(De.jsx)(er,{children:Object(De.jsx)(P,{})}),"Friends"]})]}),Object(De.jsx)(Vt,{})]}),Object(De.jsx)("main",{children:n})]})}),Object(De.jsx)(Tt,{})]})},lr=t(37),dr=t(40);function ur(){return(ur=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function br(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function jr(e,n){var t=e.title,r=e.titleId,a=br(e,["title","titleId"]);return i.createElement("svg",ur({width:10,height:10,viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,_t||(_t=i.createElement("path",{d:"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z"})))}var pr,fr,vr,xr,hr,Or,gr,mr,yr,wr,Cr,kr,_r,Sr=i.forwardRef(jr),Er=(t.p,x.c.div(pr||(pr=Object(b.a)(["\n  background: var(--color-dark-grey);\n  border-radius: var(--border-radius-primary);\n  padding: 15px;\n  padding-right: 30px;\n  display: flex;\n  min-width: 344px !important;\n  max-width: 344px !important;\n  position: relative;\n  svg {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    fill: rgba(256, 256, 256, 0.5);\n    :hover {\n      cursor: pointer;\n    }\n  }\n"])))),zr=x.c.div(fr||(fr=Object(b.a)([""]))),Mr=x.c.div(vr||(vr=Object(b.a)(["\n  color: white;\n"]))),Ir=Object(i.forwardRef)((function(e,n){var t=e.id,r=e.message,i=e.type,a=Object(dr.b)().closeSnackbar;return console.log("type",i),Object(De.jsxs)(Er,{ref:n,children:[Object(De.jsx)(fe,{style:{marginRight:"10px"},src:r.user.avatar,size:"small"}),Object(De.jsx)(zr,{children:Object(De.jsxs)(Mr,{children:[r.user.firstName," ",r.user.lastName," ",r.text]})}),Object(De.jsx)(Sr,{onClick:function(){return a(t)}})]})})),Pr=x.c.div(xr||(xr=Object(b.a)(["\n  background: var(--color-green);\n  border-radius: var(--border-radius-primary);\n  padding: 15px;\n  padding-right: 30px;\n  display: flex;\n  min-width: 344px !important;\n  max-width: 344px !important;\n  position: relative;\n  svg {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    fill: rgba(256, 256, 256, 0.5);\n    :hover {\n      cursor: pointer;\n    }\n  }\n  ","\n"])),(function(e){return"error"===e.type&&"\n    background: var(--color-red);\n  "})),Dr=x.c.div(hr||(hr=Object(b.a)([""]))),Rr=x.c.div(Or||(Or=Object(b.a)(["\n  color: white;\n"]))),Nr=Object(i.forwardRef)((function(e,n){var t=e.id,r=e.message,i=Object(dr.b)().closeSnackbar;return console.log("mes",r),Object(De.jsxs)(Pr,{ref:n,type:r.type,children:[Object(De.jsx)(Dr,{children:Object(De.jsx)(Rr,{children:r.text})}),Object(De.jsx)(Sr,{onClick:function(){return i(t)}})]})})),Lr=function(){var e=Object(dr.b)().enqueueSnackbar;return{handleNotification:function(n,t){console.log("variant",t),e(n,{variant:t,content:function(e,n){return Object(De.jsx)(Ir,{id:e,message:n})}})},handlePageNotification:function(n,t){e(n,{variant:t,content:function(e,n){return Object(De.jsx)(Nr,{id:e,message:n})}})}}},Tr=t(109),qr=t.n(Tr),Ur=t(58),Br=t(108),Fr=t(68),Ar=t.n(Fr);function Zr(e){var n=e.error,t=e.resetErrorBoundary;return Object(De.jsxs)("div",{role:"alert",children:[Object(De.jsx)("p",{children:"Something went wrong:"}),Object(De.jsx)("pre",{children:n.message}),Object(De.jsx)("button",{onClick:t,children:"Try again"})]})}var Hr,Vr=x.c.div(gr||(gr=Object(b.a)(["\n  width: 100px;\n  height: 100px;\n  /* margin: 0 auto; */\n  border-radius: 100px;\n  margin-bottom: 10px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n\n  position: relative;\n  overflow: hidden;\n  background: var(--color-secondary);\n\n  ","\n  svg {\n    display: none;\n    width: 35px;\n    height: 35px;\n  }\n  :hover {\n    cursor: pointer;\n    div {\n      position: absolute;\n      top: 0;\n      left: 0;\n      background: rgba(0, 0, 0, 0.3);\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    svg {\n      display: block;\n      fill: white;\n    }\n  }\n"])),(function(e){return e.image&&"\n    background: url(".concat(e.image,");\n    background-size: cover;\n    background-position: center center;\n  ")})),Gr=x.c.div(mr||(mr=Object(b.a)(["\n  width: 100px;\n  height: 100px;\n  /* margin: 0 auto; */\n  border-radius: 100px;\n  margin-bottom: 10px;\n  position: relative;\n  overflow: hidden;\n  background: var(--color-secondary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Jr=x.c.div(yr||(yr=Object(b.a)(["\n  display: flex;\n  position: relative;\n"]))),Kr=x.c.div(wr||(wr=Object(b.a)(["\n  min-width: 70px;\n  text-align: right;\n  margin-right: 20px;\n  color: var(--text-color-secondary);\n"]))),Wr=x.c.div(Cr||(Cr=Object(b.a)(["\n  margin-bottom: 10px;\n  width: 100%;\n"]))),$r=x.c.div(kr||(kr=Object(b.a)(["\n  font-family: var(--font-family-secondary);\n  font-weight: 600;\n  text-align: center;\n  font-size: 16px;\n  letter-spacing: 0;\n"]))),Yr=(x.c.div(_r||(_r=Object(b.a)(["\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  padding: 8px 13px;\n  display: flex;\n  /* justify-content: flex-end; */\n  align-items: center;\n  svg {\n    margin-left: auto;\n  }\n"]))),function(){var e,n,t,r,a,c,o,l,d,b,j,p,x,h=Object(i.useContext)(u),O=Lr().handlePageNotification,g=h.meUserData,m=g.firstName,y=g.lastName,w=g.avatar,C=g.dateOfBirth,k=g.gender,_=g.aboutMe,S=g.city,E=Object(i.useState)({avatar:w,firstName:m,lastName:y,dateOfBirth:C,gender:k,aboutMe:_,city:S}),z=Object(s.a)(E,2),M=z[0],I=z[1],P=Object(i.useState)(!1),D=Object(s.a)(P,2),R=D[0],N=D[1],L=me(),T=(L.error,L.request),q=L.loading,U=nn(),B=(U.visible,U.show,U.hide,Object(i.useState)(!1)),F=Object(s.a)(B,2),A=F[0],Z=F[1],H=Object(i.useRef)(null),V=Object(i.useState)({value:M.dateOfBirth?null===(e=new Date(M.dateOfBirth))||void 0===e?void 0:e.getDate():null,label:M.dateOfBirth?null===(n=new Date(M.dateOfBirth))||void 0===n?void 0:n.getDate():null}),G=Object(s.a)(V,2),J=G[0],K=G[1],W=Object(i.useState)({value:M.dateOfBirth?null===(t=new Date(M.dateOfBirth))||void 0===t?void 0:t.getMonth():null,label:M.dateOfBirth?["January","February","March","April","May","June","July","August","September","October","November","December"][null===(r=new Date(M.dateOfBirth))||void 0===r?void 0:r.getMonth()]:null}),$=Object(s.a)(W,2),Y=$[0],Q=$[1],X=Object(i.useState)({value:M.dateOfBirth?null===(a=new Date(M.dateOfBirth))||void 0===a?void 0:a.getFullYear():null,label:M.dateOfBirth?null===(c=new Date(M.dateOfBirth))||void 0===c?void 0:c.getFullYear():null}),ee=Object(s.a)(X,2),ne=ee[0],te=ee[1],re=Object(i.useState)({value:null===(o=h.meUserData)||void 0===o?void 0:o.gender,label:"".concat((null===(l=h.meUserData)||void 0===l?void 0:l.gender)?null===(d=h.meUserData)||void 0===d?void 0:d.gender[0].toUpperCase():"").concat((null===(b=h.meUserData)||void 0===b?void 0:b.gender)?null===(j=h.meUserData)||void 0===j?void 0:j.gender.slice(1):"")}),ie=Object(s.a)(re,2),ae=ie[0],ce=ie[1];console.log("selectedGenderOption",ae),console.log("gender",null===(p=h.meUserData)||void 0===p?void 0:p.gender);var oe=function(){var e=Object(v.a)(f.a.mark((function e(n){var t,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,console.log("submit",new Date(Number(ne.value),Number(Y.value),Number(J.value)),ne,Y,J,new Date(2017,4,32)),t=null,ne.value&&Y.value&&J.value&&(t=new Date(ne.value,Y.value,J.value)),e.next=7,T("/api/user/".concat(h.meUserData._id),"PUT",Object(Ae.a)(Object(Ae.a)({},M),{},{gender:ae.value,dateOfBirth:t}));case 7:r=e.sent,i={text:r.message,type:"success"},h.setMeUserData((function(e){return Object(Ae.a)(Object(Ae.a)({},e),M)})),O(i),N(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),a={text:e.t0.message,type:"error"},O(a);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}(),se=function(e){I(Object(Ae.a)(Object(Ae.a)({},M),{},Object(lr.a)({},e.target.name,e.target.value))),N(!0)},fe=function(e){return new Promise((function(n){Ar.a.imageFileResizer(e,300,600,"JPEG",80,0,(function(e){n(e)}),"base64")}))},ve=function(){var e=Object(v.a)(f.a.mark((function e(n){var t,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.files){e.next=20;break}return Z(!0),t=n.target.files[0],e.next=5,fe(t);case 5:return r=e.sent,e.prev=6,e.next=9,T("/api/upload-image","POST",{image:r});case 9:i=e.sent,console.log("image upload res",i),I(Object(Ae.a)(Object(Ae.a)({},M),{},{avatar:i.url})),Z(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),Z(!1);case 19:N(!0);case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(n){return e.apply(this,arguments)}}();return Object(De.jsxs)(de,{style:{maxWidth:"480px"},children:[Object(De.jsx)(ue,{children:Object(De.jsx)($r,{children:"Edit profile"})}),Object(De.jsx)(pe,{}),Object(De.jsx)(ue,{style:{padding:"30px"},children:Object(De.jsx)(Br.ErrorBoundary,{FallbackComponent:Zr,onReset:function(){},children:Object(De.jsxs)("form",{noValidate:!0,onSubmit:oe,children:[M.avatar.data.data,Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{children:"Avatar:"}),Object(De.jsx)(Wr,{style:{display:"flex"},children:A?Object(De.jsx)(Gr,{children:Object(De.jsx)(Ut,{})}):Object(De.jsxs)("label",{children:[Object(De.jsx)(Vr,{image:M.avatar,children:Object(De.jsx)("div",{children:Object(De.jsx)(qr.a,{})})}),Object(De.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:ve,ref:H,style:{display:"none"}})]})})]}),Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{children:"Name:"}),Object(De.jsxs)(Wr,{style:{display:"flex"},children:[Object(De.jsx)(be,{name:"firstName",id:"firstName",value:M.firstName,onChange:se,disabled:q,style:{marginRight:"10px"}}),Object(De.jsx)(be,{name:"lastName",id:"lastName",value:M.lastName,onChange:se,disabled:q})]})]}),Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{children:"Gender:"}),Object(De.jsx)(Wr,{children:Object(De.jsx)(Ur.a,{value:ae,onChange:function(e){ce(e),N(!0)},options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],placeholder:"Select gender",defaultValue:null===(x=h.meUserData)||void 0===x?void 0:x.gender,className:"customSelect",classNamePrefix:"customSelectInner"})})]}),Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{children:"Birthday:"}),Object(De.jsxs)(Wr,{style:{display:"flex",justifyContent:"space-between"},children:[Object(De.jsx)(Ur.a,{value:J,onChange:function(e){K(e),N(!0)},options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],placeholder:"Select gender",className:"daySelect",classNamePrefix:"customSelectInner"}),Object(De.jsx)(Ur.a,{value:Y,onChange:function(e){Q(e),N(!0)},options:[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}],placeholder:"Select gender",className:"monthSelect",classNamePrefix:"customSelectInner"}),Object(De.jsx)(Ur.a,{value:ne,onChange:function(e){te(e),N(!0)},options:[{value:"2021",label:"2021"},{value:"2020",label:"2020"},{value:"2019",label:"2019"},{value:"2018",label:"2018"},{value:"2017",label:"2017"},{value:"2016",label:"2016"},{value:"2015",label:"2015"},{value:"2014",label:"2014"},{value:"2013",label:"2013"},{value:"2012",label:"2012"},{value:"2011",label:"2011"},{value:"2010",label:"2010"},{value:"2009",label:"2009"},{value:"2008",label:"2008"},{value:"2007",label:"2007"},{value:"2006",label:"2006"},{value:"2005",label:"2005"},{value:"2004",label:"2004"},{value:"2003",label:"2003"},{value:"2002",label:"2002"},{value:"2001",label:"2001"},{value:"2000",label:"2000"},{value:"1999",label:"1999"},{value:"1998",label:"1998"},{value:"1997",label:"1997"},{value:"1996",label:"1996"},{value:"1995",label:"1995"},{value:"1994",label:"1994"},{value:"1993",label:"1993"},{value:"1992",label:"1992"},{value:"1991",label:"1991"},{value:"1990",label:"1990"},{value:"1989",label:"1989"},{value:"1988",label:"1988"},{value:"1987",label:"1987"},{value:"1986",label:"1986"},{value:"1985",label:"1985"},{value:"1984",label:"1984"},{value:"1983",label:"1983"},{value:"1982",label:"1982"},{value:"1981",label:"1981"},{value:"1980",label:"1980"},{value:"1979",label:"1979"},{value:"1978",label:"1978"},{value:"1977",label:"1977"},{value:"1976",label:"1976"},{value:"1975",label:"1975"},{value:"1974",label:"1974"},{value:"1973",label:"1973"},{value:"1972",label:"1972"},{value:"1971",label:"1971"},{value:"1970",label:"1970"},{value:"1969",label:"1969"},{value:"1968",label:"1968"},{value:"1967",label:"1967"},{value:"1966",label:"1966"},{value:"1965",label:"1965"},{value:"1964",label:"1964"},{value:"1963",label:"1963"},{value:"1962",label:"1962"},{value:"1961",label:"1961"},{value:"1960",label:"1960"},{value:"1959",label:"1959"},{value:"1958",label:"1958"},{value:"1957",label:"1957"},{value:"1956",label:"1956"},{value:"1955",label:"1955"},{value:"1954",label:"1954"},{value:"1953",label:"1953"},{value:"1952",label:"1952"},{value:"1951",label:"1951"},{value:"1950",label:"1950"},{value:"1949",label:"1949"},{value:"1948",label:"1948"},{value:"1947",label:"1947"},{value:"1946",label:"1946"},{value:"1945",label:"1945"},{value:"1944",label:"1944"},{value:"1943",label:"1943"},{value:"1942",label:"1942"},{value:"1941",label:"1941"},{value:"1940",label:"1940"},{value:"1939",label:"1939"},{value:"1938",label:"1938"}],placeholder:"Select gender",className:"yearSelect",classNamePrefix:"customSelectInner"})]})]}),Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{children:"City:"}),Object(De.jsx)(Wr,{children:Object(De.jsx)(be,{name:"city",id:"city",value:M.city,onChange:se,disabled:q})})]}),Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{children:"About\xa0me:"}),Object(De.jsx)(Wr,{children:Object(De.jsx)(je,{$focuse:!0,name:"aboutMe",id:"aboutMe",value:M.aboutMe,onChange:se,disabled:q,style:{width:"100%",resize:"none"}})})]}),Object(De.jsxs)(Jr,{children:[Object(De.jsx)(Kr,{}),Object(De.jsx)(Wr,{children:Object(De.jsx)(le,{size:"small",type:"submit",disabled:q||!R,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})})})]})}),Qr=Object(i.createContext)({online:[],setOnline:function(){}});function Xr(){return new URLSearchParams(Object(j.h)().search)}function ei(){return(ei=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ni(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ti(e,n){var t=e.title,r=e.titleId,a=ni(e,["title","titleId"]);return i.createElement("svg",ei({width:22,height:22,viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Hr||(Hr=i.createElement("path",{d:"M20.7111 12.6406L19.3361 11.8242C19.3361 11.5234 19.379 11.0508 19.379 10.75C19.379 10.4922 19.3361 10.0195 19.3361 9.71875L20.7111 8.90234C21.1407 8.6875 21.3126 8.17188 21.1837 7.74219C20.7111 6.10938 19.8517 4.64844 18.7345 3.44531C18.3907 3.10156 17.8751 3.01562 17.4454 3.27344L16.0704 4.08984C15.5978 3.70312 14.7814 3.23047 14.2228 3.01562V1.42578C14.2228 0.910156 13.922 0.523438 13.4493 0.394531C11.8165 0.0078125 10.1407 0.0078125 8.50793 0.394531C8.03527 0.523438 7.73449 0.910156 7.73449 1.42578V3.01562C7.1759 3.23047 6.35949 3.70312 5.88684 4.08984L4.51184 3.27344C4.08215 3.01562 3.56653 3.10156 3.22278 3.44531C2.10559 4.64844 1.24621 6.10938 0.773556 7.74219C0.64465 8.17188 0.816525 8.6875 1.24621 8.90234L2.62121 9.71875C2.62121 10.0195 2.57824 10.4922 2.57824 10.75C2.57824 11.0508 2.62121 11.5234 2.62121 11.8242L1.24621 12.6406C0.816525 12.8555 0.64465 13.3711 0.773556 13.8008C1.24621 15.4336 2.10559 16.8945 3.22278 18.0977C3.56653 18.4414 4.08215 18.5273 4.51184 18.2695L5.88684 17.4531C6.35949 17.8398 7.1759 18.3125 7.73449 18.5273V20.1172C7.73449 20.6328 8.03527 21.0195 8.50793 21.1484C10.1407 21.5352 11.8165 21.5352 13.4493 21.1484C13.922 21.0195 14.2228 20.6328 14.2228 20.1172V18.5273C14.7814 18.3125 15.5978 17.8398 16.0704 17.4531L17.4454 18.2695C17.8751 18.5273 18.3907 18.4414 18.7345 18.0977C19.8517 16.8945 20.7111 15.4336 21.1837 13.8008C21.3126 13.3711 21.1407 12.8555 20.7111 12.6406ZM17.9181 16.9375L15.8986 15.7773C14.7384 16.8086 14.3517 17.0234 12.8478 17.582V19.8594C12.3322 19.9883 11.5157 20.0742 11.0001 20.0742C10.4415 20.0742 9.62512 19.9883 9.10949 19.8594V17.582C7.64856 17.0664 7.21887 16.8086 6.05871 15.7773L4.03918 16.9375C3.22278 15.9922 2.57824 14.875 2.14856 13.6719L4.16809 12.5547C3.86731 11.0078 3.86731 10.5352 4.16809 8.98828L2.14856 7.87109C2.57824 6.66797 3.22278 5.55078 4.03918 4.60547L6.05871 5.76562C7.21887 4.73438 7.64856 4.47656 9.10949 3.96094V1.68359C9.62512 1.55469 10.4415 1.46875 11.0001 1.46875C11.5157 1.46875 12.3322 1.55469 12.8478 1.68359V3.96094C14.3087 4.47656 14.7384 4.73438 15.8986 5.76562L17.9181 4.60547C18.7345 5.55078 19.379 6.66797 19.8087 7.87109L17.7892 8.98828C18.09 10.5352 18.09 11.0078 17.7892 12.5547L19.8087 13.6719C19.379 14.875 18.7345 15.9922 17.9181 16.9375ZM11.0001 6.625C8.72278 6.625 6.87512 8.51562 6.87512 10.75C6.87512 13.0273 8.72278 14.875 11.0001 14.875C13.2345 14.875 15.1251 13.0273 15.1251 10.75C15.1251 8.51562 13.2345 6.625 11.0001 6.625ZM11.0001 13.5C9.45324 13.5 8.25012 12.2969 8.25012 10.75C8.25012 9.24609 9.45324 8 11.0001 8C12.504 8 13.7501 9.24609 13.7501 10.75C13.7501 12.2969 12.504 13.5 11.0001 13.5Z"})))}var ri,ii,ai,ci,oi=i.forwardRef(ti),si=(t.p,x.c.div(ri||(ri=Object(b.a)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  svg {\n    ","\n  }\n"])),ie)),li=x.c.div(ii||(ii=Object(b.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n"]))),di=x.c.div(ai||(ai=Object(b.a)([""]))),ui=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(!1),c=Object(s.a)(a,2),o=c[0],l=c[1],d=Lr().handlePageNotification,u=me().request,b=function(e){return new Promise((function(n){Ar.a.imageFileResizer(e,700,700,"JPEG",80,0,(function(e){n(e)}),"base64")}))};return{handleUploadImages:function(){var e=Object(v.a)(f.a.mark((function e(n){var t,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),n.preventDefault(),!n.target.files){e.next=21;break}t=0;case 4:if(!(t<n.target.files.length)){e.next=21;break}return i=n.target.files[t],e.next=8,b(i);case 8:return a=e.sent,e.prev=9,e.delegateYield(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/api/upload-image","POST",{image:a});case 2:t=e.sent,r((function(e){return[t].concat(Object(Fe.a)(e))})),n.target.files=null,n.target.value="",l(!1);case 7:case"end":return e.stop()}}),e)}))(),"t0",11);case 11:e.next=18;break;case 13:e.prev=13,e.t1=e.catch(9),console.log(e.t1),d({type:"error",text:e.t1.message}),l(!1);case 18:t++,e.next=4;break;case 21:case"end":return e.stop()}}),e,null,[[9,13]])})));return function(n){return e.apply(this,arguments)}}(),handleRemoveImage:function(){var e=Object(v.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((function(e){return e.filter((function(e){return e.public_id!==n.public_id}))})),e.prev=1,e.next=4,u("/api/remove-image/".concat(n.public_id),"DELETE");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}(),images:t,setImages:r,imageLoading:o}},bi=t(110);function ji(){return(ji=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function pi(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function fi(e,n){var t=e.title,r=e.titleId,a=pi(e,["title","titleId"]);return i.createElement("svg",ji({width:22,height:20,viewBox:"0 0 22 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,ci||(ci=i.createElement("path",{d:"M11 16.2812C13.8359 16.2812 16.1562 14.0039 16.1562 11.125C16.1562 8.28906 13.8359 5.96875 11 5.96875C8.12109 5.96875 5.84375 8.28906 5.84375 11.125C5.84375 14.0039 8.12109 16.2812 11 16.2812ZM11 7.34375C13.0625 7.34375 14.7812 9.0625 14.7812 11.125C14.7812 13.2305 13.0625 14.9062 11 14.9062C8.89453 14.9062 7.21875 13.2305 7.21875 11.125C7.21875 9.0625 8.89453 7.34375 11 7.34375ZM9.625 11.125C9.625 10.3945 10.2266 9.75 11 9.75C11.3438 9.75 11.6875 9.44922 11.6875 9.0625C11.6875 8.71875 11.3438 8.375 11 8.375C9.45312 8.375 8.25 9.62109 8.25 11.125C8.25 11.5117 8.55078 11.8125 8.9375 11.8125C9.28125 11.8125 9.625 11.5117 9.625 11.125ZM13.9219 1.5C14.0508 1.5 14.1797 1.62891 14.2227 1.75781L15.168 4.25H19.9375C20.2812 4.25 20.625 4.59375 20.625 4.9375V17.3125C20.625 17.6992 20.2812 18 19.9375 18H2.0625C1.67578 18 1.375 17.6992 1.375 17.3125V4.9375C1.375 4.59375 1.67578 4.25 2.0625 4.25H6.78906L7.64844 1.97266C7.73438 1.71484 7.99219 1.5 8.29297 1.5H13.9219ZM13.9219 0.125H8.29297C7.43359 0.125 6.66016 0.683594 6.35938 1.5L5.84375 2.875H2.0625C0.902344 2.875 0 3.82031 0 4.9375V17.3125C0 18.4727 0.902344 19.375 2.0625 19.375H19.9375C21.0547 19.375 22 18.4727 22 17.3125V4.9375C22 3.82031 21.0547 2.875 19.9375 2.875H16.1562L15.5117 1.24219C15.2539 0.597656 14.6523 0.125 13.9219 0.125Z"})))}var vi,xi=i.forwardRef(fi);t.p;function hi(){return(hi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Oi(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function gi(e,n){var t=e.title,r=e.titleId,a=Oi(e,["title","titleId"]);return i.createElement("svg",hi({width:22,height:22,viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,vi||(vi=i.createElement("path",{d:"M10.6562 0.09375C4.76953 0.09375 0 4.86328 0 10.75C0 16.6367 4.76953 21.4062 10.6562 21.4062C16.543 21.4062 21.3125 16.6367 21.3125 10.75C21.3125 4.86328 16.543 0.09375 10.6562 0.09375ZM10.6562 20.0312C5.5 20.0312 1.375 15.9062 1.375 10.75C1.375 5.63672 5.5 1.46875 10.6562 1.46875C15.7695 1.46875 19.9375 5.63672 19.9375 10.75C19.9375 15.9062 15.7695 20.0312 10.6562 20.0312ZM14.5234 13.7578C13.5352 14.918 12.1172 15.5625 10.6562 15.5625C9.15234 15.5625 7.73438 14.918 6.74609 13.7578C6.53125 13.457 6.10156 13.457 5.80078 13.6719C5.5 13.9297 5.45703 14.3594 5.71484 14.6602C6.91797 16.1211 8.72266 16.9375 10.6562 16.9375C12.5469 16.9375 14.3516 16.1211 15.5547 14.6602C15.8125 14.3594 15.7695 13.9297 15.4688 13.6719C15.2109 13.457 14.7383 13.457 14.5234 13.7578ZM7.21875 10.0625C7.94922 10.0625 8.59375 9.46094 8.59375 8.6875C8.59375 7.95703 7.94922 7.3125 7.21875 7.3125C6.44531 7.3125 5.84375 7.95703 5.84375 8.6875C5.84375 9.46094 6.44531 10.0625 7.21875 10.0625ZM14.0938 10.0625C14.8242 10.0625 15.4688 9.46094 15.4688 8.6875C15.4688 7.95703 14.8242 7.3125 14.0938 7.3125C13.3203 7.3125 12.7188 7.95703 12.7188 8.6875C12.7188 9.46094 13.3203 10.0625 14.0938 10.0625Z"})))}var mi,yi,wi,Ci,ki,_i,Si,Ei,zi,Mi,Ii,Pi,Di,Ri,Ni,Li,Ti,qi,Ui,Bi,Fi,Ai,Zi,Hi,Vi,Gi,Ji,Ki,Wi,$i=i.forwardRef(gi),Yi=(t.p,x.c.div(mi||(mi=Object(b.a)(["\n  position: relative;\n"])))),Qi=x.c.div(yi||(yi=Object(b.a)(["\n  padding: 10px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-gap: 5px;\n\n  span {\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),Xi=x.c.div(wi||(wi=Object(b.a)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 100;\n  svg {\n    ","\n    position: relative;\n  }\n"])),ie),ea=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83d\ude02","\ud83e\udd23","\ud83d\ude0a","\ud83d\ude07","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0c","\ud83d\ude0d","\ud83e\udd70","\ud83d\ude18","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1a"],na=function(e){var n=e.handleChooseEmoji,t=Object(i.useState)(!1),r=Object(s.a)(t,2),a=(r[0],r[1]),c=Object(De.jsx)(de,{children:Object(De.jsx)(Qi,{children:ea.map((function(e,t){return Object(De.jsx)("span",{onClick:n.bind(null,e),children:e},t)}))})});return Object(De.jsx)(Yi,{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:Object(De.jsx)(Be.a,{content:c,interactive:!0,placement:"bottom-end",duration:0,offset:[0,5],trigger:"click",children:Object(De.jsx)(Xi,{children:Object(De.jsx)($i,{})})})})},ta=x.c.svg(Ci||(Ci=Object(b.a)(["\n  animation: rotate 1s linear infinite;\n  /* margin: 70px; */\n  width: 15px;\n  height: 15px;\n  margin-left: 5px;\n\n  & .path {\n    stroke: var(--text-color-secondary);\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n"]))),ra=function(){return Object(De.jsx)(ta,{viewBox:"0 0 50 50",children:Object(De.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"3"})})},ia=(x.c.div(ki||(ki=Object(b.a)([""]))),x.c.div(_i||(_i=Object(b.a)(["\n  min-width: 450px;\n  position: relative;\n"])))),aa=x.c.div(Si||(Si=Object(b.a)(["\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n"]))),ca=Object(x.c)(Sr)(Ei||(Ei=Object(b.a)(["\n  fill: var(--icon-color-secondary);\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  :hover {\n    cursor: pointer;\n  }\n"]))),oa=x.c.div(zi||(zi=Object(b.a)(["\n  /* position: absolute;\n  top: 18px;\n  right: 55px; */\n  svg {\n    ","\n  }\n"])),ie),sa=x.c.div(Mi||(Mi=Object(b.a)(["\n  display: flex;\n\n  /* margin-top: 1px; */\n"]))),la=x.c.div(Ii||(Ii=Object(b.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"]))),da=x.c.div(Pi||(Pi=Object(b.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    width: 20px;\n    fill: white;\n    top: auto;\n    right: auto;\n  }\n"]))),ua=(x.c.div(Di||(Di=Object(b.a)(["\n  position: relative;\n  svg {\n    top: 0;\n  }\n"]))),x.c.img(Ri||(Ri=Object(b.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "}))),ba=x.c.div(Ni||(Ni=Object(b.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n      padding: 15px;\n      padding-top: 0;\n    "})),ja=x.c.div(Li||(Li=Object(b.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),pa=function(e){var n=e.modalIsOpen,t=(e.openModal,e.closeModal),r=e.userData;console.log("USER DATA",r);var a=Object(i.useState)(""),c=Object(s.a)(a,2),o=c[0],l=c[1],d=Object(i.useContext)(u),b=d.conversations,j=d.setConversations,p=d.meUserData,x=d.socket,h=ui(),O=h.images,g=h.setImages,m=h.handleUploadImages,y=h.handleRemoveImage,w=h.imageLoading,C=Lr().handlePageNotification,k=me(),_=k.request,S=k.loading,E=Object(i.useRef)(null),z=Object(i.useRef)(null),M=b.find((function(e){return e.users.some((function(e){return e._id===(null===r||void 0===r?void 0:r._id)}))}));console.log("existingConversation",M);var I=function(){var e=Object(v.a)(f.a.mark((function e(){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("/api/conversation","POST",{content:o,images:O,userIds:[null===r||void 0===r?void 0:r._id]});case 3:n=e.sent,l(""),g([]),j((function(e){return[n.conversation].concat(Object(Fe.a)(e))})),console.log("res create conversation",n),i={user:p,recipients:[r],text:"sent you a\xa0message: ".concat(n.newMessage.content.slice(0,70)).concat(n.newMessage.content.length>70?"...":""),url:"/conversation/".concat(n.conversation._id)},x.emit("createConversation",n.conversation),x.emit("createMessageNotification",i),t(),C({type:"success",text:n.message}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),C({type:"error",text:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(f.a.mark((function e(n){var i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("/api/message","POST",{content:o,images:O,conversationId:n._id});case 3:i=e.sent,l(""),g([]),j((function(e){var n=e.filter((function(e){return e._id!==i.newMessage.conversation._id})),t=e.find((function(e){return e._id===i.newMessage.conversation._id}));return[Object(Ae.a)(Object(Ae.a)({},t),{},{messages:[].concat(Object(Fe.a)(t.messages),[i.newMessage])})].concat(Object(Fe.a)(n))})),console.log("res create message",i),a={user:p,recipients:[r],text:"sent you a\xa0message: ".concat(i.newMessage.content.slice(0,70)).concat(i.newMessage.content.length>70?"...":""),url:"/conversation/".concat(i.conversation._id)},x.emit("createMessage",i.newMessage),console.log("notific",a),x.emit("createMessageNotification",a),t(),C({type:"success",text:i.message}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),C({type:"error",text:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(f.a.mark((function e(n){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),(o||0!==O.length)&&!w){e.next=3;break}return e.abrupt("return");case 3:(t=b.find((function(e){return e.users.some((function(e){return e._id===(null===r||void 0===r?void 0:r._id)}))})))?P(t):I();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),R=function(e){var n;"Enter"!==e.key||e.shiftKey||(null===E||void 0===E||null===(n=E.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())};return Object(De.jsx)(bi.a,{center:!0,closeIcon:Object(De.jsx)("div",{}),open:n,onClose:t,focusTrapped:!1,classNames:{overlay:"customOverlay",modal:"customModal"},children:Object(De.jsxs)(ia,{children:[Object(De.jsx)(ca,{onClick:t}),Object(De.jsxs)(ue,{children:["Write a message to ",r.firstName]}),Object(De.jsx)(pe,{}),Object(De.jsxs)("form",{ref:E,onSubmit:D,children:[Object(De.jsxs)(ue,{children:[Object(De.jsx)(na,{handleChooseEmoji:function(e){l(o+e)}}),Object(De.jsx)(je,{$focuse:!0,placeholder:"Write something...",style:{resize:"none"},onChange:function(e){l(e.target.value)},value:o,onKeyDown:R})]}),Object(De.jsx)(ba,{exists:w||O.length>0,children:Object(De.jsxs)(De.Fragment,{children:[w&&Object(De.jsx)(ja,{children:Object(De.jsx)(Ut,{})}),O.length>0&&Object(De.jsx)(sa,{children:O.map((function(e,n){return Object(De.jsxs)(la,{children:[Object(De.jsx)(da,{onClick:y.bind(null,e),children:Object(De.jsx)(ca,{})}),Object(De.jsx)(ua,{src:e.url})]},e.public_id)}))})]})}),Object(De.jsx)(pe,{}),Object(De.jsxs)(ue,{style:{display:"flex"},children:[Object(De.jsx)(oa,{children:Object(De.jsxs)("label",{children:[Object(De.jsx)(xi,{}),Object(De.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:m,onKeyPress:R,ref:z,style:{display:"none"}})]})}),Object(De.jsxs)(aa,{children:[Object(De.jsx)(le,{size:"small",color:"secondary",marginRight:"10px",onClick:t,type:"button",children:"Cancel"}),Object(De.jsxs)(le,{size:"small",type:"submit",style:{display:"flex",alignItems:"center"},children:["Send ",S&&Object(De.jsx)(ra,{})]})]})]})]})]})})},fa=function(){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1];return{openModal:function(){r(!0)},closeModal:function(){r(!1)},modalIsOpen:t}},va=x.c.button(Ti||(Ti=Object(b.a)(["\n  color: var(--color-primary);\n  background: none;\n  font-weight: 600;\n  :hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n"]))),xa=function(e){var n=e.friend,t=e.isPersonal,r=Object(i.useContext)(u),a=r.meUserData,c=r.setMeUserData,o=Object(i.useContext)(Qr).online,s=me().request,l=nn(),d=l.visible,b=l.show,j=l.hide,p=fa(),x=p.openModal,h=p.modalIsOpen,O=p.closeModal,g=function(){var e=Object(v.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===a||void 0===a||null===(t=a.friendRequests)||void 0===t?void 0:t.find((function(e){return e.recipient===n._id||e.requester===n._id})),e.prev=1,e.next=4,s("/api/friend-request/unfriend/".concat(null===r||void 0===r?void 0:r._id),"PUT",{userId:n._id});case 4:c((function(e){var t=e.friends.filter((function(e){return e._id!==n._id}));return Object(Ae.a)(Object(Ae.a)({},e),{},{friends:t})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),m=Object(De.jsx)(de,{onClick:j,children:Object(De.jsx)(ve,{children:Object(De.jsx)(xe,{onClick:g,children:"Unfriend"})})});return Object(De.jsxs)(li,{children:[Object(De.jsx)(Oe,{onlineType:!!o[n._id?n._id:"ds"],children:Object(De.jsx)(fe,{size:"medium",src:n.avatar,style:{marginRight:"15px"}})}),Object(De.jsxs)(di,{children:[Object(De.jsxs)(oe,{style:{marginBottom:"7px",display:"block"},color:"black",to:"/profile/".concat(n._id),children:[n.firstName," ",n.lastName]}),n._id!==(null===a||void 0===a?void 0:a._id)&&Object(De.jsx)(va,{onClick:x,children:"Send message"}),Object(De.jsx)(pa,{openModal:x,closeModal:O,modalIsOpen:h,userData:n})]}),t&&Object(De.jsx)(Be.a,{content:m,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,5],visible:d,onClickOutside:j,children:Object(De.jsx)(si,{onClick:d?j:b,children:Object(De.jsx)(oi,{})})})]})},ha=x.c.div(qi||(qi=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),Oa=x.c.div(Ui||(Ui=Object(b.a)(["\n  width: 550px;\n  margin-right: 15px;\n"]))),ga=x.c.div(Bi||(Bi=Object(b.a)(["\n  display: flex;\n"]))),ma=x.c.div(Fi||(Fi=Object(b.a)(["\n  padding: 15px 15px;\n  display: block;\n  position: relative;\n  :hover {\n    cursor: pointer;\n    background: var(--color-secondary);\n  }\n  ","\n"])),(function(e){return e.selected&&'\n:after {\n    content: "";\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 2px;\n    width: 100%;\n    background: var(--color-primary);\n  }\n  '})),ya=function(e){var n=e.tabs,t=e.children,r=e.activeTab,i=e.loading,a=Object(j.g)(),c=Xr();return Object(De.jsx)(Oa,{children:Object(De.jsx)(de,{style:{minHeight:500},children:i?Object(De.jsx)(ha,{children:Object(De.jsx)(Ut,{})}):Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(ga,{children:n.map((function(e){return Object(De.jsxs)(ma,{selected:e.title===r.title,onClick:function(){return a.push("/friends?section=".concat(e.url).concat(c.get("id")?"&id=".concat(c.get("id")):""))},children:[e.title," ",Object(De.jsx)("span",{style:{color:"var(--text-color-secondary)"},children:e.count})]},e.url)}))}),Object(De.jsx)(pe,{}),t]})})})},wa=x.c.div(Ai||(Ai=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),Ca=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useContext)(Qr).online,c=Xr(),o=c.get("id"),l=me(),d=l.request,u=l.loading;if(Object(i.useEffect)((function(){d("/api/friends/".concat(o),"GET").then((function(e){r(e.friends)}))}),[]),u)return Object(De.jsx)("div",{style:{minHeight:"550px"},children:Object(De.jsx)(wa,{children:Object(De.jsx)(Ut,{})})});var b=t.filter((function(e){return a[e._id]})),j=[{title:"All friends",url:"all",count:t.length},{title:"Online",url:"online",count:b.length}];return Object(De.jsxs)(De.Fragment,{children:[("all"===c.get("section")||null===c.get("section"))&&Object(De.jsx)(ya,{tabs:j,activeTab:j[0],children:0===t.length?Object(De.jsx)("div",{children:"No friends yet..."}):Object(De.jsx)(De.Fragment,{children:t.map((function(e){return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(xa,{friend:e},e._id),Object(De.jsx)(pe,{})]})}))})}),"online"===c.get("section")&&Object(De.jsx)(ya,{tabs:j,activeTab:j[1],children:0===b.length?Object(De.jsx)("div",{children:"No friends online"}):Object(De.jsx)(De.Fragment,{children:b.map((function(e){return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(xa,{friend:e},e._id),Object(De.jsx)(pe,{})]})}))})})]})},ka=x.c.div(Zi||(Zi=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n  div {\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n"]))),_a=function(e){var n=e.friends,t=e.isPersonal,r=Xr(),c=Object(i.useContext)(Qr).online,o=n.filter((function(e){return c[e._id]})),s=[{title:"All friends",url:"all",count:n.length},{title:"Online",url:"online",count:o.length}];return Object(De.jsxs)(De.Fragment,{children:[("all"===r.get("section")||null===r.get("section"))&&Object(De.jsx)(ya,{tabs:s,activeTab:s[0],children:0===n.length?Object(De.jsx)(ka,{children:Object(De.jsx)("div",{children:"No friends yet..."})}):Object(De.jsx)(De.Fragment,{children:n.map((function(e,n){return Object(De.jsxs)(a.a.Fragment,{children:[Object(De.jsx)(xa,{friend:e,isPersonal:t}),Object(De.jsx)(pe,{})]},n)}))})}),"online"===r.get("section")&&Object(De.jsx)(ya,{tabs:s,activeTab:s[1],children:0===o.length?Object(De.jsx)(ka,{children:Object(De.jsx)("div",{children:"No friends online..."})}):Object(De.jsx)(De.Fragment,{children:o.map((function(e,n){return Object(De.jsxs)(a.a.Fragment,{children:[Object(De.jsx)(xa,{friend:e,isPersonal:t}),Object(De.jsx)(pe,{})]},n)}))})})]})},Sa=function(e){var n=e.friend,t=e.friendRequestType,r=e.friendRequestId,a=e.setFriendRequests,c=Object(i.useContext)(u),o=c.meUserData,s=c.setMeUserData,l=c.socket,d=Object(i.useContext)(Qr).online,b=me().request,j=function(){var e=Object(v.a)(f.a.mark((function e(n,t){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(Object(Ae.a)(Object(Ae.a)({},o),{},{friends:[].concat(Object(Fe.a)(null===o||void 0===o?void 0:o.friends),[n])})),a((function(e){return e.filter((function(e){return e.requester._id!==n._id}))})),e.next=5,b("/api/friend-request/accept/".concat(t),"PUT",{userId:n._id});case 5:return r={user:o,recipients:[n],text:"accepted your\xa0friend\xa0request",url:"/friends"},e.next=8,b("/api/notify","POST",Object(Ae.a)({},r));case 8:i=e.sent,l.emit("createNotification",i.notification),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=Object(v.a)(f.a.mark((function e(n,t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a((function(e){return e.filter((function(e){return e.recipient._id!==n._id}))})),e.next=4,b("/api/friend-request/cancel/".concat(t),"DELETE",{userId:n._id});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(De.jsxs)(li,{children:[Object(De.jsx)(Oe,{onlineType:!!d[n._id?n._id:"ds"],children:Object(De.jsx)(fe,{size:"medium",src:n.avatar,style:{marginRight:"15px"}})}),Object(De.jsxs)(di,{children:[Object(De.jsxs)(oe,{style:{marginBottom:"10px",display:"block"},color:"black",to:"/profile/".concat(n._id),children:[n.firstName," ",n.lastName]}),"pending"===t?Object(De.jsx)(le,{size:"small",onClick:function(){return j(n,r)},children:"Accept"}):Object(De.jsx)(le,{size:"small",onClick:function(){return p(n,r)},children:"Unsubscribe"})]})]})},Ea=function(){var e=me(),n=e.request,t=e.loading,r=Object(i.useState)([]),c=Object(s.a)(r,2),o=c[0],l=c[1],d=Object(i.useContext)(u),b=d.meUserData,j=(d.setMeUserData,Xr()),p=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("/api/pending_friend_requests","GET");case 3:t=e.sent,l(t.friendRequests),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){p()}),[]);var x=[{title:"Pending",url:"all_requests",count:o.filter((function(e){return e.recipient._id===(null===b||void 0===b?void 0:b._id)})).length},{title:"Out requests",url:"out_requests",count:o.filter((function(e){return e.requester._id===(null===b||void 0===b?void 0:b._id)})).length}];return Object(De.jsxs)(De.Fragment,{children:["all_requests"===j.get("section")&&Object(De.jsx)(ya,{loading:t,tabs:x,activeTab:x[0],children:!t&&o.filter((function(e){return e.recipient._id===(null===b||void 0===b?void 0:b._id)})).map((function(e,n){return Object(De.jsxs)(a.a.Fragment,{children:[Object(De.jsx)(Sa,{friend:e.requester,friendRequestType:"pending",friendRequestId:e._id,setFriendRequests:l}),Object(De.jsx)(pe,{})]},e._id)}))}),"out_requests"===j.get("section")&&Object(De.jsx)(ya,{tabs:x,activeTab:x[1],children:o.filter((function(e){return e.requester._id===(null===b||void 0===b?void 0:b._id)})).map((function(e,n){return Object(De.jsxs)(a.a.Fragment,{children:[Object(De.jsx)(Sa,{friend:e.recipient,friendRequestType:"out_sent",friendRequestId:e._id,setFriendRequests:l}),Object(De.jsx)(pe,{})]},e._id)}))})]})},za=x.c.div(Hi||(Hi=Object(b.a)(["\n  flex-grow: 1;\n"]))),Ma=x.c.div(Vi||(Vi=Object(b.a)(["\n  padding: 15px;\n  position: relative;\n  :last-child {\n    border-top: var(--border-primary);\n  }\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  ","\n"])),(function(e){return e.selected&&"\n        background: var(--color-secondary);\n        \n        :before {\n          content: '';\n          position: absolute;\n          height: 100%;\n          top: 0;\n          left: 0;\n          border-left: 3px solid var(--color-primary);\n        }\n  "})),Ia=function(e){var n=e.menuItems,t=Object(i.useState)(n[0]),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Object(j.g)();return Object(De.jsx)(za,{children:Object(De.jsx)(de,{children:n.map((function(e,n){return Object(De.jsx)(Ma,{selected:a.title===e.title,onClick:function(){o.push("/friends?section=".concat(e.url)),c(e)},children:e.title},n)}))})})},Pa=x.c.div(Gi||(Gi=Object(b.a)(["\n  display: flex;\n  align-items: flex-start;\n"]))),Da=x.c.div(Ji||(Ji=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),Ra=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useContext)(u).meUserData,c=Xr(),o=me().request,l=Object(i.useState)(!0),d=Object(s.a)(l,2),b=d[0],j=d[1];return Object(i.useEffect)((function(){try{o("/api/friends/".concat(null===a||void 0===a?void 0:a._id),"GET").then((function(e){r(e.friends),j(!1)}))}catch(e){console.log(e),j(!1)}}),[]),b?Object(De.jsx)("div",{style:{minHeight:"550px"},children:Object(De.jsx)(Da,{children:Object(De.jsx)(Ut,{})})}):Object(De.jsxs)(Pa,{children:[("all"===c.get("section")||"online"===c.get("section")||null===c.get("section"))&&Object(De.jsx)(_a,{friends:t,isPersonal:!0}),("all_requests"===c.get("section")||"out_requests"===c.get("section"))&&Object(De.jsx)(Ea,{}),Object(De.jsx)(Ia,{menuItems:[{title:"All friends",url:"all"},{title:"Friend requests",url:"all_requests"}]})]})},Na=x.c.div(Ki||(Ki=Object(b.a)(["\n  min-height: 550px;\n"]))),La=function(){var e=Xr();return Object(De.jsx)(Na,{children:e.get("id")?Object(De.jsx)(Ca,{}):Object(De.jsx)(Ra,{})})};function Ta(){return(Ta=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function qa(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ua(e,n){var t=e.title,r=e.titleId,a=qa(e,["title","titleId"]);return i.createElement("svg",Ta({width:13,height:15,viewBox:"0 0 13 15",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Wi||(Wi=i.createElement("path",{d:"M8.09375 12.5625H8.53125C8.64062 12.5625 8.75 12.4805 8.75 12.3438V4.90625C8.75 4.79688 8.64062 4.6875 8.53125 4.6875H8.09375C7.95703 4.6875 7.875 4.79688 7.875 4.90625V12.3438C7.875 12.4805 7.95703 12.5625 8.09375 12.5625ZM3.71875 12.5625H4.15625C4.26562 12.5625 4.375 12.4805 4.375 12.3438V4.90625C4.375 4.79688 4.26562 4.6875 4.15625 4.6875H3.71875C3.58203 4.6875 3.5 4.79688 3.5 4.90625V12.3438C3.5 12.4805 3.58203 12.5625 3.71875 12.5625ZM12.0312 2.5H9.1875L8.25781 1.29688C8.03906 0.996094 7.57422 0.75 7.21875 0.75H5.03125C4.64844 0.75 4.18359 0.996094 3.96484 1.29688L3.0625 2.5H0.21875C0.0820312 2.5 0 2.60938 0 2.71875V3.15625C0 3.29297 0.0820312 3.375 0.21875 3.375H0.875V13.4375C0.875 14.1758 1.44922 14.75 2.1875 14.75H10.0625C10.7734 14.75 11.375 14.1758 11.375 13.4375V3.375H12.0312C12.1406 3.375 12.25 3.29297 12.25 3.15625V2.71875C12.25 2.60938 12.1406 2.5 12.0312 2.5ZM4.67578 1.81641C4.73047 1.70703 4.89453 1.65234 5.03125 1.625H7.21875C7.32812 1.65234 7.49219 1.70703 7.54688 1.81641L8.09375 2.5H4.15625L4.67578 1.81641ZM10.5 13.4375C10.5 13.6836 10.2812 13.875 10.0625 13.875H2.1875C1.94141 13.875 1.75 13.6836 1.75 13.4375V3.375H10.5V13.4375ZM5.90625 12.5625H6.34375C6.45312 12.5625 6.5625 12.4805 6.5625 12.3438V4.90625C6.5625 4.79688 6.45312 4.6875 6.34375 4.6875H5.90625C5.76953 4.6875 5.6875 4.79688 5.6875 4.90625V12.3438C5.6875 12.4805 5.76953 12.5625 5.90625 12.5625Z"})))}var Ba,Fa,Aa,Za,Ha,Va,Ga,Ja,Ka,Wa,$a,Ya,Qa,Xa,ec,nc,tc,rc=i.forwardRef(Ua),ic=(t.p,x.c.div(Ba||(Ba=Object(b.a)(["\n  position: relative;\n  display: flex;\n\n  :hover {\n    cursor: pointer;\n    background: var(--color-secondary);\n    svg {\n      display: block;\n    }\n  }\n  svg {\n    position: absolute;\n    top: 15px;\n    right: 10px;\n    display: none;\n    ","\n  }\n"])),ce)),ac=Object(x.c)(l.b)(Fa||(Fa=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  padding: 15px;\n"]))),cc=x.c.div(Aa||(Aa=Object(b.a)(["\n  width: 100%;\n  /* padding-top: 5px; */\n"]))),oc=x.c.div(Za||(Za=Object(b.a)(["\n  margin-bottom: 10px;\n"]))),sc=x.c.div(Ha||(Ha=Object(b.a)(["\n  background: none;\n  padding: none;\n  color: var(--text-color-secondary);\n  flex-grow: 1;\n  ","\n"])),(function(e){return!e.isRead&&"\n    background: rgba(18, 62, 165, 0.07);\n  padding: 5px 7px;\n  border-radius: 3px;\n  color: var(--text-color-primary);\n    \n  "})),lc=x.c.div(Va||(Va=Object(b.a)(["\n  position: absolute;\n  top: 15px;\n  right: 30px;\n  color: var(--text-color-secondary);\n"]))),dc=x.c.div(Ga||(Ga=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  img {\n    margin-right: 5px;\n  }\n"]))),uc=x.c.div(Ja||(Ja=Object(b.a)(["\n  width: 15px;\n  height: 15px;\n  background: var(--color-primary);\n  border-radius: 100px;\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n"]))),bc=function(e){var n=e.conversation,t=en.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),r=me().request,a=Object(i.useContext)(u),c=a.meUserData,o=a.setConversations,s=Object(i.useContext)(Qr).online,l=(Object(j.g)(),n.messages.filter((function(e){return!1===e.isRead&&e.user._id!==(null===c||void 0===c?void 0:c._id)})).length);n.messages.forEach((function(e){}));var d=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this conversation?")){e.next=12;break}return e.prev=2,o((function(e){return e.filter((function(e){return e._id!==n._id}))})),e.next=6,r("/api/conversation/".concat(n._id),"DELETE");case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),b=n.messages[n.messages.length-1];return console.log("lastMessage",b),Object(De.jsxs)(ic,{children:[Object(De.jsxs)(ac,{to:"/conversation/".concat(n._id),children:[1===n.users.length&&Object(De.jsx)(Oe,{onlineType:!!s[n.users[0]._id?n.users[0]._id:"ds"],children:Object(De.jsx)(fe,{style:{marginRight:"15px"},size:"medium",src:n.users[0].avatar})}),Object(De.jsxs)(cc,{children:[n.users.map((function(e){return console.log("user",e),Object(De.jsxs)(oc,{children:[e.firstName," ",e.lastName]},e._id)})),(null===b||void 0===b?void 0:b.user)===(null===c||void 0===c?void 0:c._id)?Object(De.jsxs)(dc,{children:[Object(De.jsx)(fe,{src:null===c||void 0===c?void 0:c.avatar,size:"extra-small"}),b.content&&Object(De.jsx)(sc,{isRead:b.isRead,children:b.content}),!b.content&&b.images.length>0&&Object(De.jsx)(sc,{isRead:b.isRead,children:"Photo"})]}):Object(De.jsxs)(dc,{children:[(null===b||void 0===b?void 0:b.content)&&Object(De.jsx)(sc,{isRead:null===b||void 0===b?void 0:b.isRead,children:null===b||void 0===b?void 0:b.content}),!(null===b||void 0===b?void 0:b.content)&&(null===b||void 0===b?void 0:b.images.length)>0&&Object(De.jsx)(sc,{isRead:null===b||void 0===b?void 0:b.isRead,children:"Photo"}),l>0&&Object(De.jsx)(uc,{children:l})]})]}),Object(De.jsx)(lc,{children:t})]}),Object(De.jsx)(rc,{onClick:d})]})},jc=x.c.div(Ka||(Ka=Object(b.a)(["\n  width: 550px;\n"]))),pc=x.c.div(Wa||(Wa=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n  div {\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n"]))),fc=function(){var e=Object(i.useContext)(u),n=e.conversations;e.setConversations;return console.log("CONVERSATIONS",n),Object(De.jsx)(jc,{children:Object(De.jsx)(de,{style:{minHeight:"500px"},children:n.length>0?Object(De.jsx)(De.Fragment,{children:n.map((function(e){return Object(De.jsxs)(a.a.Fragment,{children:[Object(De.jsx)(bc,{conversation:e}),Object(De.jsx)(pe,{})]},e._id)}))}):Object(De.jsx)(pc,{children:Object(De.jsx)("div",{children:"No conversations yet..."})})})})},vc=t(206),xc=(x.c.div($a||($a=Object(b.a)([""]))),x.c.div(Ya||(Ya=Object(b.a)(["\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 10px;\n  font-size: 18px;\n"])))),hc=function(){var e=Object(i.useState)({email:"",password:""}),n=Object(s.a)(e,2),t=n[0],r=n[1],a=me(),c=a.request,o=a.error,l=a.loading,d=Object(i.useContext)(u),b=function(e){r(Object(Ae.a)(Object(Ae.a)({},t),{},Object(lr.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(v.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log("CREDENTIALS",t),e.prev=2,e.next=5,c("/api/auth/login","POST",t,{Authorization:d.accessToken});case 5:r=e.sent,d.login(r.accessToken,r.userData),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(De.jsx)(de,{children:Object(De.jsxs)(ue,{children:[Object(De.jsx)(xc,{children:"Sign in"}),o&&Object(De.jsx)(vc.a,{severity:"error",style:{marginBottom:"10px"},children:o.message}),Object(De.jsxs)("form",{onSubmit:j,children:[Object(De.jsx)(be,{value:t.email,onChange:b,disabled:l,style:{marginBottom:"10px"},placeholder:"Email",id:"email",name:"email",type:"email",required:!0}),Object(De.jsx)(be,{value:t.password,onChange:b,disabled:l,placeholder:"Password",id:"password",name:"password",required:!0,type:"password",style:{marginBottom:"10px"}}),Object(De.jsxs)(le,{size:"small",type:"submit",disabled:l,style:{display:"flex",alignItems:"center"},children:["Sign in ",l&&Object(De.jsx)(ra,{})]})]})]})})},Oc=(x.c.div(Qa||(Qa=Object(b.a)([""]))),x.c.div(Xa||(Xa=Object(b.a)(["\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 2px;\n  font-size: 18px;\n"])))),gc=x.c.div(ec||(ec=Object(b.a)(["\n  /* font-family: var(--font-family-secondary); */\n  color: var(--text-color-secondary);\n  text-align: center;\n  margin-bottom: 10px;\n"]))),mc=function(){var e=Object(i.useState)({email:"",password:"",firstName:"",lastName:""}),n=Object(s.a)(e,2),t=n[0],r=n[1],a=me(),c=a.request,o=a.error,l=a.loading,d=Object(i.useContext)(u),b=Object(j.g)(),p=function(e){r(Object(Ae.a)(Object(Ae.a)({},t),{},Object(lr.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(v.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,c("/api/auth/register","POST",t,{Authorization:d.accessToken});case 4:r=e.sent,d.login(r.accessToken,r.userData),b.push("/profile/edit/".concat(r.userData._id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(De.jsx)(de,{children:Object(De.jsxs)(ue,{children:[Object(De.jsx)(Oc,{children:"First time here?"}),Object(De.jsx)(gc,{children:"Let's sign up!"}),o&&Object(De.jsx)(vc.a,{severity:"error",children:o.message}),Object(De.jsxs)("form",{onSubmit:x,children:[Object(De.jsx)(be,{value:t.firstName,onChange:p,disabled:l,style:{marginBottom:"10px"},placeholder:"First Name",id:"firstName",name:"firstName",required:!0,type:"text"}),Object(De.jsx)(be,{value:t.lastName,onChange:p,disabled:l,style:{marginBottom:"10px"},placeholder:"Last Name",id:"lastName",name:"lastName",required:!0,type:"text"}),Object(De.jsx)(be,{value:t.email,onChange:p,disabled:l,style:{marginBottom:"10px"},placeholder:"Email",id:"email",name:"email",type:"email",required:!0}),Object(De.jsx)(be,{value:t.password,onChange:p,disabled:l,placeholder:"Password",id:"password",name:"password",type:"password",required:!0,style:{marginBottom:"10px"}}),Object(De.jsxs)(le,{size:"small",type:"submit",disabled:l,style:{display:"flex",alignItems:"center"},children:["Sign up ",l&&Object(De.jsx)(ra,{})]})]})]})})},yc=x.c.div(nc||(nc=Object(b.a)(["\n  margin: 0 auto;\n  width: 300px;\n  padding: 50px 0;\n"]))),wc=x.c.div(tc||(tc=Object(b.a)(["\n  font-size: 38px;\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  color: var(--text-color-link);\n  text-align: center;\n  margin-bottom: 25px;\n  letter-spacing: 0;\n  :hover {\n    cursor: pointer;\n  }\n"])));function Cc(){return Object(De.jsxs)(yc,{children:[Object(De.jsx)(wc,{children:"intouch"}),Object(De.jsx)(hc,{}),Object(De.jsx)("div",{style:{height:"20px"}}),Object(De.jsx)(mc,{})]})}var kc,_c,Sc,Ec,zc,Mc,Ic,Pc,Dc,Rc,Nc,Lc,Tc,qc,Uc,Bc,Fc,Ac,Zc,Hc,Vc,Gc,Jc,Kc,Wc,$c,Yc=t(204),Qc=t(111),Xc=x.c.div(kc||(kc=Object(b.a)(["\n  /* justify-content: center; */\n"]))),eo=x.c.div(_c||(_c=Object(b.a)(["\n  /* margin: 0 10px; */\n  display: flex;\n  justify-content: center;\n  a {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: black;\n  }\n"]))),no=x.c.img(Sc||(Sc=Object(b.a)(["\n  border-radius: 100px;\n  width: 60px;\n  height: 60px;\n  object-fit: cover;\n  margin-bottom: 5px;\n"]))),to=x.c.div(Ec||(Ec=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  /* grid-template-rows: 1fr 1fr; */\n  grid-gap: 10px;\n"]))),ro=Object(x.c)(l.b)(zc||(zc=Object(b.a)(["\n  display: block;\n  margin-bottom: 10px;\n"]))),io=x.c.span(Mc||(Mc=Object(b.a)(["\n  color: var(--text-color-secondary);\n"]))),ao=x.c.div(Ic||(Ic=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  /* padding-top: 10px; */\n  width: 100%;\n  div {\n    display: block;\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n  span {\n    color: var(--text-color-secondary);\n  }\n"]))),co=function(e){var n=e.friends,t=e._id,r=e.isPersonal,a=Object(i.useContext)(Qr).online,c=n.filter((function(e){return a[e._id]})),o=Object(j.g)();return Object(De.jsxs)(Xc,{children:[Object(De.jsxs)(ue,{children:[Object(De.jsxs)(ro,{to:r?"/friends":"/friends?id=".concat(t),children:["Friends ",Object(De.jsx)(io,{children:n.length})]}),n.length>0?Object(De.jsx)(to,{children:n.slice(0,6).map((function(e){var n=e.firstName.length<9?e.firstName:e.firstName.slice(0,9)+"...";return Object(De.jsx)(eo,{children:Object(De.jsxs)(l.b,{to:"/profile/".concat(e._id),children:[Object(De.jsx)(no,{src:e.avatar}),n]})},e._id)}))}):Object(De.jsx)(to,{style:{minHeight:"100px",display:"flex"},children:Object(De.jsxs)(ao,{children:[Object(De.jsx)("div",{children:"No friends yet..."}),r?Object(De.jsx)(le,{marginTop:"10px",size:"small",onClick:function(){return o.push("/search")},children:"Find friends"}):null]})})]}),c.length>0&&Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(pe,{}),Object(De.jsxs)(ue,{children:[" ",Object(De.jsxs)(ro,{to:r?"/friends":"/friends?id=".concat(t),children:["Online"," ",Object(De.jsx)(io,{children:c.length})]}),Object(De.jsx)(to,{children:c.slice(0,6).map((function(e){var n=e.firstName.length<9?e.firstName:e.firstName.slice(0,9)+"...";return Object(De.jsx)(eo,{children:Object(De.jsxs)(l.b,{to:"/profile/".concat(e._id),children:[Object(De.jsx)(no,{src:e.avatar}),n]})},e._id)}))})]})]})]})},oo=Object(i.createContext)({userData:null,setUserData:function(){},isPersonal:!0}),so=t(207),lo=function(e){var n=e.relationToMe,t=e.setRelationToMe,r=Object(i.useContext)(oo),a=function(e,n,t,r){var a=me(),c=a.request,o=a.loading,s=Object(i.useContext)(u),l=s.meUserData,d=s.setMeUserData,b=s.socket,j=function(){var t=Object(v.a)(f.a.mark((function t(){var i,a,o,s,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=Object(so.a)(),a={createdAt:(new Date).toISOString(),recipient:e._id,requester:null===l||void 0===l?void 0:l._id,status:"pending",_id:i},n(Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:a})),r("me_sent_request"),t.next=7,c("/api/friend-request/create","POST",{userId:e._id});case 7:return o=t.sent,n(Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:o.friendRequest})),console.log("res friend request",o.friendRequest),s={user:l,recipients:[e],text:"sent you a\xa0friend\xa0request",url:"/friends?section=all_requests"},t.next=13,c("/api/notify","POST",Object(Ae.a)({},s));case 13:d=t.sent,b.emit("createNotification",d.notification),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(v.a)(f.a.mark((function t(){var i,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r("user_sent_request"),i=Object(so.a)(),a={createdAt:(new Date).toISOString(),recipient:null===l||void 0===l?void 0:l._id,requester:e._id,status:"pending",_id:i},n((function(e){var n=e.friends.filter((function(e){return e._id!==(null===l||void 0===l?void 0:l._id)}));return Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:a,friends:n})})),d((function(n){var t,r=null===n||void 0===n||null===(t=n.friends)||void 0===t?void 0:t.filter((function(n){return n._id!==(null===e||void 0===e?void 0:e._id)}));return Object(Ae.a)(Object(Ae.a)({},n),{},{friendRequest:a,friends:r})})),t.next=8,c("/api/friend-request/unfriend/".concat(e.friendRequest._id),"PUT",{userId:e._id});case 8:o=t.sent,console.log("res UNFRIEND",o),n((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:o.friendRequest})})),d((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:o.friendRequest})})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(v.a)(f.a.mark((function t(){var i,a,o,s,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r("friend"),i=Object(so.a)(),a={createdAt:(new Date).toISOString(),recipient:null===l||void 0===l?void 0:l._id,requester:e._id,status:"accepted",_id:i},n((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:a,friends:[].concat(Object(Fe.a)(null===e||void 0===e?void 0:e.friends),[l])})})),d((function(n){return Object(Ae.a)(Object(Ae.a)({},n),{},{friends:[].concat(Object(Fe.a)(null===n||void 0===n?void 0:n.friends),[e])})})),t.next=8,c("/api/friend-request/accept/".concat(e.friendRequest._id),"PUT",{userId:e._id});case 8:return o=t.sent,console.log("accept RES",o),n((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:o.friendRequest})})),s={user:l,recipients:[e],text:"accepted your\xa0friend\xa0request",url:"/friends"},t.next=14,c("/api/notify","POST",Object(Ae.a)({},s));case 14:u=t.sent,b.emit("createNotification",u.notification),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();return{handleSendFriendRequest:j,handleCancelFriendRequest:function(){var t=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r("not_friends"),n(Object(Ae.a)(Object(Ae.a)({},e),{},{friendRequest:null})),t.next=5,c("/api/friend-request/cancel/".concat(e.friendRequest._id),"DELETE",{userId:e._id});case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),handleSendUnFriendRequest:p,handleAcceptFriendRequest:x,relationToMe:t,loading:o}}(r.userData,r.setUserData,n,t),c=a.handleSendFriendRequest,o=a.handleCancelFriendRequest,s=a.handleSendUnFriendRequest,l=a.handleAcceptFriendRequest,d=a.loading;return Object(De.jsxs)("div",{children:[console.log("relation to me",n),"not_friend"===n&&Object(De.jsx)(le,{style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:d?function(){}:c.bind(null),width:"fullwidth",children:"Send friend request"}),"friend"===n&&Object(De.jsx)(le,{style:{display:"flex",alignItems:"center",justifyContent:"center"},color:"secondary",width:"fullwidth",onClick:d?function(){}:s,children:"Unfriend"}),"user_sent_request"===n&&Object(De.jsx)(le,{style:{display:"flex",alignItems:"center",justifyContent:"center"},width:"fullwidth",onClick:d?function(){}:l,children:"Accept friend request"}),"me_sent_request"===n&&Object(De.jsx)(le,{style:{display:"flex",alignItems:"center",justifyContent:"center"},width:"fullwidth",onClick:d?function(){}:o,children:"Unsubscribe"})]})},uo=Object(i.memo)(lo),bo=(t(152),x.c.div(Pc||(Pc=Object(b.a)([""])))),jo=(x.c.div(Dc||(Dc=Object(b.a)(["\n  min-width: 450px;\n  position: relative;\n"]))),x.c.div(Rc||(Rc=Object(b.a)(["\n  margin-left: auto;\n"]))),Object(x.c)(Sr)(Nc||(Nc=Object(b.a)(["\n  fill: var(--icon-color-secondary);\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  :hover {\n    cursor: pointer;\n  }\n"]))),x.c.div(Lc||(Lc=Object(b.a)(["\n  position: absolute;\n  top: 18px;\n  right: 55px;\n  svg {\n    ","\n  }\n"])),ie),x.c.div(Tc||(Tc=Object(b.a)(["\n  display: flex;\n  margin-left: 15px;\n  margin-bottom: 13px;\n\n  /* margin-top: 1px; */\n"]))),x.c.div(qc||(qc=Object(b.a)(["\n  position: relative;\n  width: 100px;\n"]))),x.c.div(Uc||(Uc=Object(b.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    width: 20px;\n    fill: white;\n  }\n"]))),x.c.img(Bc||(Bc=Object(b.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),function(e){var n=e.userData,t=fa(),r=t.openModal,i=t.closeModal,a=t.modalIsOpen;return Object(De.jsxs)(bo,{children:[Object(De.jsx)(le,{marginBottom:"10px",width:"fullwidth",onClick:r,children:"Send a message"}),Object(De.jsx)(pa,{modalIsOpen:a,openModal:r,closeModal:i,userData:n})]})}),po=function(){var e=Object(i.useContext)(oo),n=e.userData,t=(e.setUserData,function(e){var n=Object(i.useState)(null),t=Object(s.a)(n,2),r=t[0],a=t[1],c=Object(i.useContext)(u).meUserData;return Object(i.useEffect)((function(){if(e){var n=function(e){if(console.log("check relation",r),!e)return"not_friend";var n=e.recipient,t=e.requester,i=e.status;return n!==(null===c||void 0===c?void 0:c._id)&&t!==(null===c||void 0===c?void 0:c._id)||"accepted"!==i?n===(null===c||void 0===c?void 0:c._id)&&"pending"===i?"user_sent_request":t===(null===c||void 0===c?void 0:c._id)&&"pending"===i?"me_sent_request":"not_friend":"friend"}(e.friendRequest);a(n)}}),[e]),{relationToMe:r,setRelationToMe:a}}(n)),r=t.relationToMe,a=t.setRelationToMe;return Object(De.jsxs)("div",{children:[Object(De.jsx)(jo,{userData:n}),Object(De.jsx)(uo,{relationToMe:r,setRelationToMe:a})]})},fo=function(){var e=Object(i.useContext)(u).meUserData;return Object(De.jsx)(l.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id),children:Object(De.jsx)(le,{color:"secondary",width:"fullwidth",children:"Edit profile"})})},vo=function(){return Object(De.jsx)("div",{children:Object(De.jsx)(fo,{})})},xo=x.c.div(Fc||(Fc=Object(b.a)(["\n  form {\n    display: flex;\n    flex-direction: column;\n    /* justify-content: flex-end; */\n    /* align-items: flex-end; */\n  }\n"]))),ho=x.c.img(Ac||(Ac=Object(b.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),Oo=x.c.div(Zc||(Zc=Object(b.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n\n      padding-top: 10px;\n    "})),go=x.c.div(Hc||(Hc=Object(b.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),mo=x.c.div(Vc||(Vc=Object(b.a)(["\n  display: flex;\n  /* margin-left: 15px;\n  margin-bottom: 13px; */\n\n  /* margin-top: 1px; */\n"]))),yo=x.c.div(Gc||(Gc=Object(b.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"]))),wo=x.c.div(Jc||(Jc=Object(b.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    fill: white;\n    width: 20px;\n  }\n"]))),Co=x.c.div(Kc||(Kc=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  svg {\n    ","/* position: absolute; */\n    /* top: 0;\n    right: 8px; */\n  }\n"])),ie),ko=x.c.div(Wc||(Wc=Object(b.a)(["\n  /* padding: 15px 0; */\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  svg {\n    ","\n  }\n"])),ie),_o=function(e){var n=e.userData,t=e.setUserData,r=e.isPersonal,c=e.meUserData,o=(e.setMeUserData,a.a.useState("")),l=Object(s.a)(o,2),d=l[0],b=l[1],j=a.a.useState(!1),p=Object(s.a)(j,2),x=p[0],h=p[1],O=ui(),g=O.images,m=O.setImages,y=O.handleUploadImages,w=O.handleRemoveImage,C=O.imageLoading,k=Object(i.useContext)(u).socket,_=me().request,S=Lr().handlePageNotification,E=Object(i.useRef)(null),z=Object(i.useRef)(null);Pe(z,(function(){h(!1)}));var M=Object(i.useRef)(null);Object(i.useEffect)((function(){b("")}),[null===n||void 0===n?void 0:n._id]);var I=function(){var e=Object(v.a)(f.a.mark((function e(i){var a,o,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),(d||0!==g.length)&&!C){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a=Object(so.a)(),o={comments:[],content:d,createdAt:(new Date).toISOString(),images:[],likes:[],repostedBy:[],updatedAt:(new Date).toISOString(),user:{firstName:null===c||void 0===c?void 0:c.firstName,lastName:null===c||void 0===c?void 0:c.lastName,avatar:null===c||void 0===c?void 0:c.avatar,_id:null===c||void 0===c?void 0:c._id},_id:a},console.log("new POST",o),b(""),m([]),h(!1),t(Object(Ae.a)(Object(Ae.a)({},n),{},{wall:[o].concat(Object(Fe.a)(n.wall))})),e.next=13,_("/api/post","POST",{content:d,images:g,userId:null===n||void 0===n?void 0:n._id});case 13:if(s=e.sent,t((function(e){var n=e.wall.filter((function(e){return e._id!==o._id}));return Object(Ae.a)(Object(Ae.a)({},e),{},{wall:[s.post].concat(Object(Fe.a)(n))})})),r){e.next=20;break}return e.next=18,_("/api/notify","POST",{text:"posted something on your page",url:"/profile/".concat(null===n||void 0===n?void 0:n._id),recipients:[null===n||void 0===n?void 0:n._id]});case 18:l=e.sent,k.emit("createNotification",l.notification);case 20:console.log("RES",s.message),S({type:"success",text:s.message}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.log(e.t0),S({type:"error",message:e.t0.message});case 28:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(n){return e.apply(this,arguments)}}();return Object(De.jsx)(xo,{ref:E,children:Object(De.jsxs)("form",{ref:z,style:{width:"100%"},onSubmit:I,children:[Object(De.jsxs)(ue,{children:[Object(De.jsxs)(Co,{children:[Object(De.jsx)(fe,{marginRight:"10px",size:"medium-small",src:null===c||void 0===c?void 0:c.avatar}),Object(De.jsx)(je,{placeholder:"What's on your mind?",style:{paddingRight:"40px",resize:"none"},$focuse:x||!!d||g.length>0,onChange:function(e){b(e.target.value),console.log(e)},value:d,minRows:x||d||g.length>0?4:1,onClick:function(){x||h(!0)},onKeyPress:function(e){var n;"Enter"!==e.key||e.shiftKey||(null===z||void 0===z||null===(n=z.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())}}),(x||d||g.length>0)&&Object(De.jsx)(na,{handleChooseEmoji:function(e){b(d+e)}}),!x&&!(d||g.length>0)&&Object(De.jsxs)("label",{children:[Object(De.jsx)(xi,{}),Object(De.jsx)("input",{type:"file",name:"file",accept:"image/*",multiple:!0,onChange:y,ref:M,style:{display:"none"}})]})]}),Object(De.jsx)(Oo,{exists:C||g.length>0,children:Object(De.jsxs)(De.Fragment,{children:[C&&Object(De.jsx)(go,{children:Object(De.jsx)(Ut,{})}),g.length>0&&Object(De.jsx)(mo,{children:g.map((function(e,n){return Object(De.jsxs)(yo,{children:[Object(De.jsx)(wo,{onClick:w.bind(null,e),children:Object(De.jsx)(Sr,{})}),Object(De.jsx)(ho,{src:e.url})]},e.public_id)}))})]})})]}),(x||d||g.length>0)&&Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(pe,{}),Object(De.jsx)(ue,{children:Object(De.jsxs)(ko,{children:[Object(De.jsxs)("label",{children:[Object(De.jsx)(xi,{}),Object(De.jsx)("input",{type:"file",name:"file",accept:"image/*",multiple:!0,onChange:y,ref:M,style:{display:"none"}})]}),Object(De.jsx)(le,{disabled:!d&&0===g.length,type:"submit",size:"small",children:"Publish"})]})})]})]})})};function So(){return(So=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Eo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function zo(e,n){var t=e.title,r=e.titleId,a=Eo(e,["title","titleId"]);return i.createElement("svg",So({width:23,height:20,viewBox:"0 0 23 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,$c||($c=i.createElement("path",{d:"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711ZM20.2931 9.4493L12.0001 18.043L3.66417 9.4493C2.03136 7.73055 1.68761 4.50789 4.00792 2.53133C6.3712 0.511796 9.1212 1.97273 10.1525 3.00398L12.0001 4.89461L13.8048 3.00398C14.7931 1.97273 17.586 0.511796 19.9493 2.53133C22.2696 4.50789 21.9259 7.73055 20.2931 9.4493Z"})))}var Mo,Io=i.forwardRef(zo);t.p;function Po(){return(Po=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Do(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ro(e,n){var t=e.title,r=e.titleId,a=Do(e,["title","titleId"]);return i.createElement("svg",Po({width:23,height:20,viewBox:"0 0 23 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Mo||(Mo=i.createElement("path",{d:"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711Z"})))}var No,Lo=i.forwardRef(Ro);t.p;function To(){return(To=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function qo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Uo(e,n){var t=e.title,r=e.titleId,a=qo(e,["title","titleId"]);return i.createElement("svg",To({width:23,height:20,viewBox:"0 0 23 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,No||(No=i.createElement("path",{d:"M11.9999 1.5C17.2851 1.5 21.6249 4.89453 21.6249 9.0625C21.6249 13.2305 17.2851 16.625 11.9999 16.625C10.7538 16.625 9.55069 16.4531 8.39054 16.1094L7.74601 15.8945L7.18741 16.2812C6.19913 16.9688 4.69523 17.7852 2.8046 18C3.32023 17.3555 4.05069 16.2383 4.52335 14.9922L4.82413 14.1758L4.26554 13.5742C3.01944 12.2422 2.37491 10.6953 2.37491 9.0625C2.37491 4.89453 6.67179 1.5 11.9999 1.5ZM11.9999 0.125C5.89835 0.125 0.999913 4.16406 0.999913 9.0625C0.999913 11.125 1.81632 13.0156 3.23429 14.5195C2.63273 16.1953 1.30069 17.6562 1.25773 17.6562C0.956945 17.957 0.913976 18.3867 1.04288 18.7734C1.21476 19.1602 1.60148 19.375 1.98819 19.375C4.65226 19.375 6.71476 18.3008 8.00382 17.3984C9.24991 17.7852 10.5819 18 11.9999 18C18.0585 18 22.9999 14.0039 22.9999 9.0625C22.9999 4.16406 18.0585 0.125 11.9999 0.125Z"})))}var Bo,Fo=i.forwardRef(Uo);t.p;function Ao(){return(Ao=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Zo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ho(e,n){var t=e.title,r=e.titleId,a=Zo(e,["title","titleId"]);return i.createElement("svg",Ao({width:10,height:10,viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Bo||(Bo=i.createElement("path",{d:"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z"})))}var Vo,Go,Jo,Ko,Wo,$o,Yo,Qo,Xo,es,ns,ts,rs,is,as=i.forwardRef(Ho),cs=(t.p,x.c.div(Vo||(Vo=Object(b.a)(["\n  position: relative;\n"])))),os=(x.c.img(Go||(Go=Object(b.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),x.c.div(Jo||(Jo=Object(b.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n\n      padding-top: 10px;\n    "}))),ss=x.c.div(Ko||(Ko=Object(b.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ls=(x.c.div(Wo||(Wo=Object(b.a)(["\n  display: flex;\n  /* margin-left: 15px;\n  margin-bottom: 13px; */\n\n  /* margin-top: 1px; */\n"]))),x.c.div($o||($o=Object(b.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"])))),ds=x.c.div(Yo||(Yo=Object(b.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  right: 0;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    fill: white;\n    width: 10px;\n  }\n"]))),us=x.c.div(Qo||(Qo=Object(b.a)(["\n  display: flex;\n  margin-top: 10px;\n  svg {\n    ","\n  }\n"])),ie),bs=x.c.img(Xo||(Xo=Object(b.a)(["\n  width: 100%;\n"]))),js=x.c.div(es||(es=Object(b.a)(["\n  display: flex;\n  margin-left: auto;\n"]))),ps=function(e){var n=e.post,t=(e.isPersonal,e.handleEditMode),r=Object(i.useState)(""),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useContext)(oo),d=l.userData,u=l.setUserData,b=me().request,j=Lr().handlePageNotification,p=Object(i.useRef)(null),x=ui(),h=x.handleUploadImages,O=x.handleRemoveImage,g=x.images,m=x.setImages,y=x.imageLoading;Object(i.useEffect)((function(){o(n.content),m(n.images)}),[n]);var w=function(){var e=Object(v.a)(f.a.mark((function e(r){var i,a,o,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!y){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,i={content:c,images:g},a=d.wall.findIndex((function(e){return e._id===n._id})),(o=d.wall[a]).content=c,o.images=g,s=[].concat(Object(Fe.a)(d.wall.slice(0,a)),[o],Object(Fe.a)(d.wall.slice(a+1))),u(Object(Ae.a)(Object(Ae.a)({},d),{},{wall:s})),t(!1),e.next=14,b("/api/post/".concat(n._id),"PUT",i);case 14:l=e.sent,j({type:"success",text:l.message}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0),j({type:"error",text:e.t0.message}),t(!1);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(n){return e.apply(this,arguments)}}();return Object(De.jsx)(cs,{style:{marginTop:"15px"},children:Object(De.jsxs)("form",{onSubmit:w,children:[Object(De.jsx)(na,{handleChooseEmoji:function(e){o(c+e)}}),Object(De.jsx)(je,{$focuse:!0,value:c,onChange:function(e){o(e.target.value)},style:{resize:"none"},minRows:4}),g.length>0&&Object(De.jsx)(os,{exists:y||g.length>0,children:Object(De.jsxs)(De.Fragment,{children:[y&&Object(De.jsx)(ss,{children:Object(De.jsx)(Ut,{})}),g.map((function(e){return Object(De.jsxs)(ls,{children:[Object(De.jsx)(ds,{onClick:O.bind(null,e),children:Object(De.jsx)(as,{})}),Object(De.jsx)(bs,{src:e.url,alt:"post image"})]},e.public_id)}))]})}),Object(De.jsxs)(us,{children:[Object(De.jsxs)("label",{children:[Object(De.jsx)(xi,{}),Object(De.jsx)("input",{type:"file",name:"file",accept:"image/*",multiple:!0,onChange:h,ref:p,style:{display:"none"}})]}),Object(De.jsxs)(js,{children:[Object(De.jsx)(le,{size:"small",color:"secondary",marginRight:"10px",onClick:function(){return t(!1)},children:"Cancel"}),Object(De.jsx)(le,{size:"small",children:"Publish"})]})]})]})})},fs=x.c.div(ns||(ns=Object(b.a)(["\n  form {\n    display: flex;\n    align-items: flex-start;\n    padding: 10px 15px;\n  }\n"]))),vs=(x.c.img(ts||(ts=Object(b.a)(["\n  width: 37px;\n  height: 37px;\n  margin-right: 15px;\n  border-radius: 100px;\n"]))),x.c.button(rs||(rs=Object(b.a)(["\n  margin-left: 10px;\n  padding-top: 5px;\n  background: none;\n  svg {\n    ","\n    fill: var(--color-dark-secondary);\n    :hover {\n      fill: var(--text-color-secondary);\n    }\n  }\n"])),ie),function(e){var n=e.post,t=e.setComments,r=Object(i.useState)(""),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useRef)(null),d=Object(i.useContext)(u),b=d.meUserData,j=d.socket,p=me().request,x=function(){var e=Object(v.a)(f.a.mark((function e(r){var i,a,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i=Object(so.a)(),a={content:c,createdAt:(new Date).toISOString(),likes:[],updatedAt:(new Date).toISOString(),user:{firstName:null===b||void 0===b?void 0:b.firstName,lastName:null===b||void 0===b?void 0:b.lastName,avatar:null===b||void 0===b?void 0:b.avatar,_id:null===b||void 0===b?void 0:b._id},_id:i},o(""),t((function(e){return[].concat(Object(Fe.a)(e),[a])})),e.next=7,p("/api/comment","POST",{content:c,postId:n._id});case 7:if(s=e.sent,t((function(e){var n=e.filter((function(e){return e._id!==a._id}));return[].concat(Object(Fe.a)(n),[s.comment])})),console.log("comment RES",s.comment),n.user._id===(null===b||void 0===b?void 0:b._id)){e.next=16;break}return console.log("not my post"),e.next=14,p("/api/notify","POST",{text:"left a comment under your post",url:"/profile/".concat(n.user._id),recipients:[n.user._id]});case 14:l=e.sent,j.emit("createNotification",l.notification);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(De.jsx)(fs,{children:Object(De.jsxs)("form",{ref:l,onSubmit:x,children:[Object(De.jsx)(fe,{marginRight:"10px",size:"medium-small",src:null===b||void 0===b?void 0:b.avatar}),Object(De.jsx)(je,{$focuse:!0,placeholder:"Write something...",style:{resize:"none"},onChange:function(e){o(e.target.value)},value:c,onKeyDown:function(e){var n;"Enter"!==e.key||e.shiftKey||(null===l||void 0===l||null===(n=l.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())}}),Object(De.jsx)(na,{handleChooseEmoji:function(e){o(c+e)}})]})})}),xs=function(e,n){var t=Object(i.useState)(e.likes),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],b=l[1],j=Object(i.useState)(!1),p=Object(s.a)(j,2),x=p[0],h=p[1],O=me().request,g=Object(i.useContext)(u).socket,m=Lr().handlePageNotification;Object(i.useEffect)((function(){a.find((function(e){return e._id===n._id}))&&b(!0)}),[a,n._id]);var y=function(){var t=Object(v.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:return b(!0),h(!0),c([].concat(Object(Fe.a)(a),[n])),t.prev=5,t.next=8,O("/api/comment/like/".concat(e._id),"PUT");case 8:if(e.user._id===(null===n||void 0===n?void 0:n._id)){t.next=16;break}return console.log("i can like this comment",e),t.next=12,O("/api/notify","POST",{text:"liked your comment",url:"/profile/".concat(e.user._id),recipients:[e.user._id]});case 12:r=t.sent,g.emit("createNotification",r.notification),t.next=17;break;case 16:console.log("my comment");case 17:h(!1),t.next=25;break;case 20:t.prev=20,t.t0=t.catch(5),console.log(t.t0),m({type:"error",text:t.t0.message}),h(!1);case 25:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(v.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:return b(!1),h(!0),r=a.filter((function(e){return e._id!==(null===n||void 0===n?void 0:n._id)})),c(r),t.prev=6,t.next=9,O("/api/comment/unlike/".concat(e._id),"PUT");case 9:h(!1),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(6),console.log(t.t0),m({type:"error",text:t.t0.message}),h(!1);case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}();return{likes:a,isLike:d,setIsLike:b,loadLike:x,setLoadLike:h,handleLikeComment:y,handleUnLikeComment:w}};function hs(){return(hs=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Os(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function gs(e,n){var t=e.title,r=e.titleId,a=Os(e,["title","titleId"]);return i.createElement("svg",hs({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,is||(is=i.createElement("path",{d:"M12.6408 0.819587C11.1384 -0.438293 8.92579 -0.197422 7.53267 1.19427L7.01366 1.72954L6.46733 1.19427C5.10152 -0.197422 2.8616 -0.438293 1.3592 0.819587C-0.361717 2.26481 -0.443665 4.8341 1.08604 6.38637L6.38539 11.7391C6.71318 12.087 7.28682 12.087 7.61461 11.7391L12.914 6.38637C14.4437 4.8341 14.3617 2.26481 12.6408 0.819587Z",fill:"#DBE1EF"})))}var ms,ys,ws,Cs,ks,_s,Ss,Es,zs,Ms,Is,Ps,Ds,Rs,Ns,Ls,Ts,qs,Us,Bs,Fs,As,Zs,Hs,Vs,Gs,Js,Ks,Ws,$s,Ys=i.forwardRef(gs),Qs=(t.p,x.c.div(ms||(ms=Object(b.a)(["\n  padding: 15px 0;\n  display: flex;\n  align-items: flex-start;\n  position: relative;\n"])))),Xs=(x.c.img(ys||(ys=Object(b.a)(["\n  width: 35px;\n  height: 35px;\n  border-radius: 100px;\n  margin-right: 15px;\n"]))),x.c.div(ws||(ws=Object(b.a)(["\n  position: relative;\n"])))),el=x.c.div(Cs||(Cs=Object(b.a)([""]))),nl=x.c.div(ks||(ks=Object(b.a)(["\n  display: flex;\n"]))),tl=(x.c.div(_s||(_s=Object(b.a)([""]))),x.c.div(Ss||(Ss=Object(b.a)(["\n  position: absolute;\n  top: 15px;\n  right: 0;\n  svg {\n    ","\n  }\n"])),ce)),rl=x.c.div(Es||(Es=Object(b.a)([""]))),il=x.c.div(zs||(zs=Object(b.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),al=x.c.div(Ms||(Ms=Object(b.a)(["\n  position: absolute;\n  bottom: 15px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  svg {\n    ","\n    margin-right: 3px;\n    position: relative;\n    /* top: px; */\n\n    ","\n  }\n"])),ce,(function(e){return e.liked&&"\n      fill: var(--color-red);\n      margin-right: 0;\n      :hover {\n        fill: var(--color-red);\n      }\n    "})),cl=x.c.div(Is||(Is=Object(b.a)(["\n  margin-left: 3px;\n  /* color: var(--text-color-secondary); */\n"]))),ol=function(e){var n=e.comment,t=e.setComments,r=e.post,a=nn(),c=a.visible,o=a.show,l=a.hide,d=Object(i.useState)(!0),b=Object(s.a)(d,2),j=b[0],p=b[1],x=me().request,h=Lr().handlePageNotification,O=Object(i.useContext)(oo).isPersonal,g=Object(i.useContext)(u).meUserData;Object(i.useEffect)((function(){O||n.user._id===(null===g||void 0===g?void 0:g._id)||r.user._id===(null===g||void 0===g?void 0:g._id)?p(!0):p(!1)}),[n.user._id,g._id]);var m=xs(n,g),y=m.handleLikeComment,w=m.handleUnLikeComment,C=m.isLike,k=m.likes,_=function(){var e=Object(v.a)(f.a.mark((function e(r){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t((function(e){return e.filter((function(e){return e._id!==n._id}))})),e.next=4,x("/api/comment/".concat(n._id),"DELETE",{postId:r});case 4:i=e.sent,h({type:"success",text:i.message}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),h({type:"success",text:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),S=Object(De.jsx)(de,{onClick:l,children:Object(De.jsx)(rl,{children:j&&Object(De.jsx)(il,{onClick:_.bind(null,r._id),children:"Delete"})})}),E=en.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"});return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsxs)(Qs,{children:[Object(De.jsx)(fe,{marginRight:"10px",size:"medium-small",src:n.user.avatar}),Object(De.jsxs)(Xs,{children:[Object(De.jsxs)(oe,{style:{marginBottom:"5px",display:"block"},to:"/profile/".concat(n.user._id),children:[n.user.firstName," ",n.user.lastName]}),Object(De.jsx)(el,{children:n.content}),Object(De.jsx)(nl,{children:Object(De.jsx)(se,{style:{marginTop:"5px"},children:E})})]}),j&&Object(De.jsx)(Be.a,{content:S,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,5],visible:c,onClickOutside:l,children:Object(De.jsx)(tl,{onClick:c?l:o,children:Object(De.jsx)(oi,{})})}),C?Object(De.jsxs)(al,{onClick:w,liked:!0,children:[Object(De.jsx)(Lo,{}),k.length>0&&Object(De.jsx)(cl,{children:k.length})]}):Object(De.jsxs)(al,{onClick:y,liked:!1,children:[Object(De.jsx)(Ys,{}),k.length>0&&k.length]})]}),Object(De.jsx)(pe,{className:"separator"})]})},sl=x.c.div(Ps||(Ps=Object(b.a)(["\n  padding: 0 15px;\n  .separator {\n    :last-child {\n      display: none;\n    }\n  }\n"]))),ll=function(e){var n=e.comments,t=e.setComments,r=e.post;return Object(De.jsx)(sl,{children:n.map((function(e){return Object(De.jsx)(ol,{comment:e,setComments:t,post:r},e._id)}))})},dl=function(e,n){var t=Object(i.useState)(n.likes),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],b=l[1],j=Object(i.useState)(!1),p=Object(s.a)(j,2),x=p[0],h=p[1],O=Object(i.useContext)(u).socket,g=me().request,m=Lr().handlePageNotification;Object(i.useEffect)((function(){a.find((function(n){return n._id===e._id}))&&b(!0)}),[a,e._id]);var y=function(){var t=Object(v.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:return b(!0),h(!0),c([].concat(Object(Fe.a)(a),[e])),t.prev=5,t.next=8,g("/api/post/like/".concat(n._id),"PUT");case 8:if(n.user._id===(null===e||void 0===e?void 0:e._id)){t.next=14;break}return console.log("not my post"),t.next=12,g("/api/notify","POST",{text:"liked your post",url:"/profile/".concat(n.user._id),recipients:[n.user._id]});case 12:r=t.sent,O.emit("createNotification",r.notification);case 14:h(!1),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(5),console.log(t.t0),m({type:"error",text:t.t0.message}),h(!1);case 22:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(v.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:return b(!1),h(!0),r=a.filter((function(n){return n._id!==(null===e||void 0===e?void 0:e._id)})),c(r),t.prev=6,t.next=9,g("/api/post/unlike/".concat(n._id),"PUT");case 9:h(!1),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(6),console.log(t.t0),m({type:"error",text:t.t0.message}),h(!1);case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}();return{likes:a,isLike:d,setIsLike:b,loadLike:x,setLoadLike:h,handleLikePost:y,handleUnLikePost:w}},ul=(x.c.div(Ds||(Ds=Object(b.a)(["\n  display: flex;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]))),x.c.img(Rs||(Rs=Object(b.a)(["\n  width: 100%;\n"])))),bl=x.c.div(Ns||(Ns=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]))),jl=(x.c.img(Ls||(Ls=Object(b.a)(["\n  width: 45px;\n  height: 45px;\n  border-radius: 100px;\n  margin-right: 15px;\n"]))),x.c.div(Ts||(Ts=Object(b.a)([""])))),pl=(x.c.div(qs||(qs=Object(b.a)(["\n  margin-bottom: 3px;\n"]))),x.c.div(Us||(Us=Object(b.a)(["\n  color: var(--text-color-secondary);\n"])))),fl=x.c.div(Bs||(Bs=Object(b.a)(["\n  margin-left: auto;\n  svg {\n    ","\n  }\n"])),ie),vl=x.c.div(Fs||(Fs=Object(b.a)([""]))),xl=x.c.div(As||(As=Object(b.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),hl=x.c.div(Zs||(Zs=Object(b.a)(["\n  display: flex;\n"]))),Ol=x.c.div(Hs||(Hs=Object(b.a)([""]))),gl=x.c.div(Vs||(Vs=Object(b.a)(["\n  padding-top: 20px;\n"]))),ml=x.c.div(Gs||(Gs=Object(b.a)(["\n  padding-top: 15px;\n"]))),yl=x.c.div(Js||(Js=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n\n  svg {\n    ","\n\n    ","\n  }\n"])),ie,(function(e){return e.liked&&"\n      fill: var(--color-red);\n      :hover {\n        fill: var(--color-red);\n      }\n    "})),wl=x.c.div(Ks||(Ks=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  svg {\n    ","\n  }\n"])),ie),Cl=x.c.div(Ws||(Ws=Object(b.a)(["\n  margin-left: 5px;\n  /* color: var(--text-color-secondary); */\n  font-size: 16px;\n  top: 2px;\n"]))),kl=function(e){var n,t,r,a,c=e.post,o=e.setEditMode,l=e.editMode,d=Object(i.useState)(Object(Fe.a)(c.comments)),b=Object(s.a)(d,2),j=b[0],p=b[1],x=Object(i.useState)(!1),h=Object(s.a)(x,2),O=h[0],g=h[1],m=Object(i.useState)(!1),y=Object(s.a)(m,2),w=y[0],C=y[1],k=Object(i.useState)(!1),_=Object(s.a)(k,2),S=_[0],E=_[1],z=nn(),M=z.visible,I=z.show,P=z.hide,D=Lr().handlePageNotification,R=en.DateTime.fromISO(c.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),N=me().request,L=Object(i.useContext)(oo),T=L.userData,q=L.setUserData,U=L.isPersonal,B=Object(i.useContext)(u),F=B.meUserData,A=(B.setMeUserData,dl(F,c)),Z=A.isLike,H=A.handleUnLikePost,V=A.handleLikePost,G=A.likes;Object(i.useEffect)((function(){U?(E(!0),T.wall.find((function(e){return e._id===c._id})).user._id===(null===F||void 0===F?void 0:F._id)?C(!0):(console.log("you cannot edit this post"),C(!1))):T.wall.find((function(e){return e.user._id===F._id&&e._id===c._id}))?(E(!0),C(!0)):(C(!1),E(!1))}),[c._id,F._id]);var J=function(){var e=Object(v.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=T.wall.filter((function(e){return e._id!==c._id})),q(Object(Ae.a)(Object(Ae.a)({},T),{},{wall:n})),e.next=5,N("/api/post/".concat(c._id),"DELETE");case 5:t=e.sent,D({type:"success",text:t.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),D({type:"error",text:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),K=function(e){e?l||(g(!0),o(!0)):(g(!1),o(!1))},W=Object(De.jsx)(de,{onClick:P,children:Object(De.jsxs)(vl,{children:[w&&Object(De.jsx)(xl,{onClick:function(){return K(!0)},children:"Edit"}),S&&Object(De.jsx)(xl,{onClick:J,children:"Delete"})]})});return Object(De.jsxs)(de,{style:{marginBottom:"15px"},children:[Object(De.jsxs)(ue,{children:[Object(De.jsxs)(bl,{children:[Object(De.jsx)(fe,{size:"medium",marginRight:"15px",src:null===(n=c.user)||void 0===n?void 0:n.avatar}),Object(De.jsxs)(jl,{children:[Object(De.jsxs)(oe,{to:"/profile/".concat(null===(t=c.user)||void 0===t?void 0:t._id),style:{marginBottom:"5px",display:"block"},children:[null===(r=c.user)||void 0===r?void 0:r.firstName," ",null===(a=c.user)||void 0===a?void 0:a.lastName]}),Object(De.jsx)(pl,{children:R})]}),(w||S)&&Object(De.jsx)(Be.a,{content:W,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,5],visible:M,onClickOutside:P,children:Object(De.jsx)(fl,{onClick:M?P:I,children:Object(De.jsx)(oi,{})})})]}),O?Object(De.jsx)(ps,{handleEditMode:K,post:c,isPersonal:U}):Object(De.jsxs)(De.Fragment,{children:[c.content&&Object(De.jsx)(Ol,{children:Object(De.jsx)(gl,{children:c.content})}),c.images.length>0&&Object(De.jsx)(ml,{children:c.images.map((function(e){return Object(De.jsx)(ul,{src:e.url,alt:"post image"},e._id)}))})]})]}),Object(De.jsx)(pe,{}),Object(De.jsx)(ue,{children:Object(De.jsxs)(hl,{children:[Z?Object(De.jsxs)(yl,{onClick:H,liked:!0,children:[Object(De.jsx)(Lo,{}),G.length>0&&Object(De.jsx)(Cl,{children:G.length})]}):Object(De.jsxs)(yl,{onClick:V,liked:!1,children:[Object(De.jsx)(Io,{}),G.length>0&&Object(De.jsx)(Cl,{children:G.length})]}),Object(De.jsxs)(wl,{children:[Object(De.jsx)(Fo,{}),j.length>0&&Object(De.jsx)(Cl,{children:j.length})]})]})}),Object(De.jsx)(pe,{}),Object(De.jsx)(ll,{comments:j,setComments:p,post:c}),Object(De.jsx)(vs,{post:c,setComments:p})]},c._id)},_l=function(e){var n=e.data,t=Object(i.useState)(!1),r=Object(s.a)(t,2),a=r[0],c=r[1];return Object(De.jsx)(De.Fragment,{children:n.map((function(e){return Object(De.jsx)(kl,{post:e,setEditMode:c,editMode:a},e._id)}))})};function Sl(){return(Sl=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function El(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function zl(e,n){var t=e.title,r=e.titleId,a=El(e,["title","titleId"]);return i.createElement("svg",Sl({id:"e3fc1b31-256f-41fb-a88c-f218ac990f97","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 272.79 208.69",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,$s||($s=i.createElement("path",{d:"M272.55,35.66a1.21,1.21,0,0,0-1.15-1.3c-44.93-2.67-90.1-1.62-135,.33-37.8,1.65-75.13.07-112.73-1.63a.91.91,0,0,0-.9,0q-10.75-.5-21.54-1c-1.63-.07-1.59,2.39,0,2.53q11.16,1,22.34,1.66c13.71,17,17,41.9,9.29,62.31-2.07,1.65-4.15,3.29-6.19,4.94-1,.81.33,2.56,1.39,1.8,1.93-1.37,3.9-2.67,5.84-4a1,1,0,0,0,.88-.55c39.71,7.71,74.17,29,98.44,61.65a1.35,1.35,0,0,0,.49.41c-.12,8.9-.45,17.78-1.15,26.66a17.39,17.39,0,0,0-6.15,2.64,10.6,10.6,0,0,0-1.7.81c-3.16-3.55-3.48-8.29-1.3-12.83.51-1.06-.91-2.42-1.75-1.35a11.77,11.77,0,0,0,1,15.64,13.75,13.75,0,0,0-3.36,4.6c-3.39-.83-6.7-2.12-9-4.79-3-3.48-3.47-8.35-3.29-12.76a1.12,1.12,0,0,0-2.19-.3,16.93,16.93,0,0,0,2.74,14.26c2.65,3.47,6.64,5.25,10.81,6.13a17.83,17.83,0,0,0-.6,4.56,24.62,24.62,0,0,0-6.73.28c-4.36.68-9,2.68-10.74,7-.49,1.22,1.21,1.9,2,1.18,2.65-2.35,4.82-4.29,8.41-5.13a24.19,24.19,0,0,1,7.29-.66,15.65,15.65,0,0,0,1.1,4,16,16,0,0,0,1.19,2.1c-6.78,2-11.82,9.92-9.3,17,.42,1.16,2.36,1.09,2.28-.31-.22-3.81.18-7.66,2.79-10.65a11.66,11.66,0,0,1,6.11-3.56,18.15,18.15,0,0,0,5.9,4.3,7.9,7.9,0,0,0,.24,4.74,7.21,7.21,0,0,0,3.22,3.67,4.79,4.79,0,0,0-1,4.49.81.81,0,0,0,1.59-.22,5.4,5.4,0,0,1,1.7-3.41,6.76,6.76,0,0,0,3.72,0c.89.89.47,2.24.67,3.5a1.05,1.05,0,0,0,1.54.63c1.85-1.22,1.35-3.4.09-5a8.09,8.09,0,0,0,3.1-3.2,9.57,9.57,0,0,0,1-5.42,16.83,16.83,0,0,0,5.1-4,14.13,14.13,0,0,1,9.93,7.25c2.56,4.8,2.24,9.76,2,15a1.24,1.24,0,0,0,2.43.33c2.81-9.76-2.74-23-12.91-24.6a15.21,15.21,0,0,0,2.13-7.54,17.86,17.86,0,0,1,6.31.51c4.75,1.4,6.12,4.8,7.53,9.1a1,1,0,0,0,2-.26c.06-9.38-8.25-11.64-15.84-11.17a20.6,20.6,0,0,0-1.3-5.83,23.3,23.3,0,0,0,18.69-20.86,1.26,1.26,0,0,0-2.46-.33c-1.75,9.87-8,16.9-17.17,19.07a18.68,18.68,0,0,0-3.87-5.15c4.42-2.24,7.42-8.17,6.5-12.78-.25-1.24-1.89-.79-2,.27a16.77,16.77,0,0,1-2.12,7.16,14,14,0,0,1-4.11,4,13.14,13.14,0,0,0-4.89-2.09,17.57,17.57,0,0,0-4.26-.29c.83-9.15,1.31-18.42,1.54-27.75,25.66-25.82,54.41-39.34,91.55-34.52a1.16,1.16,0,0,0,1-.35l.79.64a.82.82,0,0,0,1.21-.18.86.86,0,0,0,.71-.84c.92-18.43,1.58-33.16,9.64-50.33,7-15,15.64-29.21,30.08-38A1.46,1.46,0,0,0,272.55,35.66Zm-48.48,1c-17.7,12.93-27.58,36-26,57.83-6.8-6.26-13.61-12.52-20.51-18.67,1.3-16.33,5.42-30.54,20.33-39.29C206.6,36.55,215.34,36.61,224.07,36.66Zm-31.43-.14c-12.21,7.68-17.46,23.08-17.31,37.32q-10-8.84-20.07-17.48c.27-4.1-.06-8.41,2-12.09s5.28-5.7,8.74-7.55Q179.33,36.51,192.64,36.52Zm-56.26,1c7.82-.34,15.64-.55,23.45-.72a18.68,18.68,0,0,0-5.21,5.88c-1.89,3.51-2,7.69-1.67,11.68-6.67-5.66-13.36-11.26-20.1-16.72Zm-5.53.19C137,44.26,143.46,50.66,150,57a18.46,18.46,0,0,0-17,7.37c-.75-9-1.53-17.84-2.28-26.6ZM133,123.81A95.26,95.26,0,0,0,73.66,74.57q9.21-6,18.44-11.94c18.65,1.44,32.43,11.73,39.23,29.3C131.93,102.56,132.53,113.19,133,123.81ZM130.9,84.18A42.14,42.14,0,0,0,95.15,60.64c5.62-3.65,11.24-7.29,16.82-11a18,18,0,0,1,13.83,9.55c1.7,3.38,2.84,7,4.34,10.52Q130.49,77,130.9,84.18Zm-1.12-22.39c-1.35-3.54-3.08-6.93-5.65-9.27a21.63,21.63,0,0,0-9.27-4.76c4.77-3.16,9.54-6.35,14.27-9.59C129.21,46,129.46,53.91,129.78,61.79Zm-4.14-23.85c-5.23,2.49-10.42,5.2-15.59,8a9.66,9.66,0,0,0-1.81-7.61Q116.94,38.21,125.64,37.94Zm-19.24.43a8.83,8.83,0,0,1,.93,9.11c-5,2.75-9.85,5.66-14.72,8.64,1.3-6.06-.19-13.21-4.32-17.71C94.32,38.43,100.36,38.46,106.4,38.37Zm-21.68.05c2.16,2.66,4.14,5.1,5.09,8.7,1,4,.45,7.44-.6,11.09C83,62.07,77,66.11,70.94,70.24c1.12-11.81-4.09-23.91-12.22-32.33C67.38,38.17,76.05,38.37,84.72,38.42Zm-58-2q14.7.9,29.43,1.38c9.51,9.82,12.43,21.26,12.06,34.38C57.4,79.68,46.91,87.48,36.8,95.4,43.17,75.94,39.35,52.35,26.67,36.44ZM37,99.14q17-11.79,34.31-23a98.15,98.15,0,0,1,62,54.35c.35,9.42.54,18.84.49,28.26C109.75,127,76,106,37,99.14Zm96.29-31.22c4.9-6.74,11.11-8.66,19.55-7.5a1.26,1.26,0,0,0,.61-.08c5.8,5.54,11.72,11,17.69,16.41C158,75.31,144,80.09,134.94,89.88,134.43,82.54,133.87,75.2,133.27,67.92Zm1.85,24.59c11.68-9.92,24-14.12,39.42-12.42a1.27,1.27,0,0,0,.28,0c6.26,5.6,12.61,11.1,19,16.56-22.36,2.87-44,11.49-56.89,30.82C136.55,115.8,135.92,104.13,135.12,92.51Zm2,67.07c.21-9.68.15-19.44-.12-29.22l.07,0c14.24-19.93,35.88-28.23,59.48-30.93a2.17,2.17,0,0,0,.36-.12q14.44,12.28,29,24C192.35,119.1,156.88,131,137.12,159.58Zm93.24-34.84-.45-.43a1.24,1.24,0,0,0-.45-.43q-14.39-13.74-29.2-27.38c-.72-24.65,9.31-44.34,28-59.82,13.25.09,26.5.15,39.78.1C240.49,54.74,227.63,93.21,230.36,124.74Z",transform:"translate(0 -32.05)"})))}var Ml,Il,Pl,Dl,Rl,Nl,Ll,Tl,ql,Ul,Bl,Fl,Al,Zl,Hl,Vl=i.forwardRef(zl),Gl=(t.p,x.c.div(Ml||(Ml=Object(b.a)([""])))),Jl=x.c.div(Il||(Il=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]))),Kl=x.c.div(Pl||(Pl=Object(b.a)(["\n  font-size: 18px;\n  color: var(--color-black);\n  /* font-weight: 600; */\n"]))),Wl=x.c.div(Dl||(Dl=Object(b.a)(["\n  /* font-size: 13px; */\n  color: var(--text-color-secondary);\n"]))),$l=x.c.div(Rl||(Rl=Object(b.a)([""]))),Yl=x.c.div(Nl||(Nl=Object(b.a)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),Ql=x.c.div(Ll||(Ll=Object(b.a)(["\n  min-width: 130px;\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-primary);\n"]))),Xl=x.c.div(Tl||(Tl=Object(b.a)([""]))),ed=function(e){var n=e.userData,t=Object(i.useContext)(Qr).online;return Object(De.jsxs)(Gl,{children:[Object(De.jsx)(ue,{children:Object(De.jsxs)(Jl,{children:[Object(De.jsx)(Kl,{children:n.firstName+" "+n.lastName}),t[(null===n||void 0===n?void 0:n._id)?null===n||void 0===n?void 0:n._id:"d"]&&Object(De.jsx)(Wl,{children:"online"})]})}),Object(De.jsx)(pe,{}),Object(De.jsx)(ue,{children:Object(De.jsxs)($l,{children:[n.city&&Object(De.jsxs)(Yl,{children:[Object(De.jsx)(Ql,{children:"City:"}),Object(De.jsx)(Xl,{children:n.city})]}),n.dateOfBirth&&Object(De.jsxs)(Yl,{children:[Object(De.jsx)(Ql,{children:"Date of birth:"}),Object(De.jsx)(Xl,{children:en.DateTime.fromISO(String(n.dateOfBirth)).toLocaleString({day:"numeric",month:"long",year:"numeric"})})]}),n.aboutMe&&Object(De.jsxs)(Yl,{children:[Object(De.jsx)(Ql,{children:"About me:"}),Object(De.jsx)(Xl,{children:n.aboutMe})]})]})})]})},nd=x.c.img(ql||(ql=Object(b.a)(["\n  width: 100%;\n  /* margin-right: 15px; */\n  margin-bottom: 10px;\n  /* object-fit: contain; */\n"]))),td=x.c.div(Ul||(Ul=Object(b.a)(["\n  width: 35%;\n  margin-right: 15px;\n"]))),rd=x.c.div(Bl||(Bl=Object(b.a)(["\n  width: 65%;\n"]))),id=x.c.div(Fl||(Fl=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),ad=x.c.div(Al||(Al=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding-top: 25px;\n  div {\n    display: block;\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n  span {\n    color: var(--text-color-secondary);\n  }\n  svg {\n    fill: var(--text-color-secondary);\n    width: 100px;\n    margin-top: 20px;\n    opacity: 0.6;\n  }\n"]))),cd=x.c.div(Zl||(Zl=Object(b.a)([""]))),od=function(){var e=function(e){var n=Object(i.useState)(null),t=Object(s.a)(n,2),r=t[0],a=t[1],c=Object(i.useState)(!1),o=Object(s.a)(c,2),l=o[0],d=o[1],b=Object(i.useContext)(u),p=b.meUserData,f=b.setMeUserData,v=(b.accessToken,Object(i.useState)(!1)),x=Object(s.a)(v,2),h=x[0],O=x[1],g=me().request,m=Object(j.g)();return Object(i.useEffect)((function(){O(!0),e===(null===p||void 0===p?void 0:p._id)?d(!0):d(!1),g("/api/user/".concat(e),"GET").then((function(e){a(e.userData),O(!1)})).catch((function(e){m.push("/not-found"),a(null),O(!1)}))}),[e,null===p||void 0===p?void 0:p._id]),{userData:r,setUserData:a,isPersonal:l,loading:h,meUserData:p,setMeUserData:f}}(Object(j.i)().id),n=e.userData,t=e.setUserData,r=e.isPersonal,a=e.loading;e.meUserData,e.setMeUserData;return!n||a?Object(De.jsx)("div",{style:{minHeight:"550px"},children:Object(De.jsx)(id,{children:Object(De.jsx)(Ut,{})})}):Object(De.jsx)(oo.Provider,{value:{userData:n,setUserData:t,isPersonal:r},children:Object(De.jsx)(sd,{})})},sd=function(){var e=Object(i.useContext)(oo),n=e.userData,t=e.setUserData,r=e.isPersonal,a=Object(i.useContext)(u),c=a.meUserData,o=a.setMeUserData,s=n,l=(s.firstName,s.lastName,s.avatar),d=s.wall;return console.log("user data",n),Object(De.jsxs)("div",{className:"profile",style:{minHeight:"700px"},children:[Object(De.jsxs)(td,{children:[Object(De.jsx)(de,{marginBottom:"15px",children:Object(De.jsx)(ue,{children:Object(De.jsxs)(cd,{children:[Object(De.jsx)(nd,{src:l}),r?Object(De.jsx)(vo,{}):Object(De.jsx)(po,{})]})})}),Object(De.jsx)(de,{children:Object(De.jsx)(co,{isPersonal:r,friends:null===n||void 0===n?void 0:n.friends,_id:null===n||void 0===n?void 0:n._id})})]}),Object(De.jsxs)(rd,{children:[Object(De.jsx)(de,{marginBottom:"15px",children:Object(De.jsx)(ed,{userData:n})}),Object(De.jsx)(de,{marginBottom:"15px",children:Object(De.jsx)(_o,{userData:n,setUserData:t,isPersonal:r,meUserData:c,setMeUserData:o})}),d.length>0?Object(De.jsx)(_l,{data:d}):Object(De.jsx)(ad,{children:r?Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)("div",{children:"Empty wall..."}),Object(De.jsx)("span",{children:"Post something on your wall by writing in a text field above!"}),Object(De.jsx)(Vl,{})]}):Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)("div",{children:"Empty wall..."}),Object(De.jsx)(Vl,{})]})})]})]})};function ld(){return(ld=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function dd(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ud(e,n){var t=e.title,r=e.titleId,a=dd(e,["title","titleId"]);return i.createElement("svg",ld({width:6,height:11,viewBox:"0 0 6 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Hl||(Hl=i.createElement("path",{d:"M5.17627 9.9668L5.32666 9.81641C5.43408 9.70898 5.43408 9.55859 5.32666 9.45117L1.13721 5.26172L5.32666 1.05078C5.43408 0.943359 5.43408 0.792969 5.32666 0.685547L5.17627 0.535156C5.06885 0.427734 4.91846 0.427734 4.81104 0.535156L0.277832 5.06836C0.17041 5.17578 0.17041 5.32617 0.277832 5.43359L4.81103 9.9668C4.91846 10.0742 5.06885 10.0742 5.17627 9.9668Z",fill:"#414141"})))}var bd,jd,pd,fd,vd,xd,hd,Od,gd,md,yd,wd,Cd,kd,_d,Sd,Ed,zd,Md,Id,Pd,Dd,Rd,Nd,Ld,Td,qd,Ud,Bd,Fd,Ad,Zd,Hd,Vd=i.forwardRef(ud),Gd=(t.p,x.c.div(bd||(bd=Object(b.a)(["\n  width: 550px;\n  max-height: 50vh;\n\n  .contentBox {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n"])))),Jd=x.c.div(jd||(jd=Object(b.a)([""]))),Kd=x.c.div(pd||(pd=Object(b.a)([""]))),Wd=x.c.div(fd||(fd=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    align-self: center;\n    margin-right: 15px;\n  }\n  /* a {\n    display: block;\n  } */\n"]))),$d=Object(x.c)(l.b)(vd||(vd=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  /* height: 100%; */\n  background: none;\n  padding: 20px 18px;\n  svg {\n    ","\n    width: 5px;\n    margin-right: 8px;\n  }\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n"])),ce),Yd=x.c.div(xd||(xd=Object(b.a)(["\n  /* font-size: 13px; */\n  text-align: center;\n  color: var(--text-color-secondary);\n"]))),Qd=function(e){var n,t,r=e.children,a=e.conversation,c=Object(i.useContext)(Qr).online,o=Object(j.g)();a||o.push("/messages");Object(i.useContext)(u).meUserData;return Object(De.jsx)(Gd,{children:Object(De.jsxs)(de,{className:"contentBox",children:[Object(De.jsxs)(Jd,{children:[Object(De.jsxs)(Wd,{children:[Object(De.jsxs)($d,{to:"/messages",children:[Object(De.jsx)(Vd,{}),"Back"]}),a.users.length>1?Object(De.jsx)(De.Fragment,{children:a.users.map((function(e){return Object(De.jsx)("div",{children:e.firstName})}))}):Object(De.jsxs)(De.Fragment,{children:[Object(De.jsxs)("div",{children:[Object(De.jsxs)(oe,{color:"black",to:"/profile/".concat(a.users[0]._id),children:[a.users[0].firstName," ",a.users[0].lastName]}),c[(null===(n=a.users[0])||void 0===n?void 0:n._id)?null===(t=a.users[0])||void 0===t?void 0:t._id:"d"]&&Object(De.jsx)(Yd,{children:"online"})]}),Object(De.jsx)(l.b,{to:"/profile/".concat(a.users[0]._id),children:Object(De.jsx)(fe,{src:a.users[0].avatar,size:"small"})})]})]}),Object(De.jsx)(pe,{})]}),Object(De.jsx)(Kd,{children:r})]})})},Xd=x.c.div(hd||(hd=Object(b.a)(["\n  padding: 15px;\n  display: flex;\n  position: relative;\n  margin-top: auto;\n  img {\n    margin-right: 15px;\n  }\n  svg {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    display: none;\n    ","\n  }\n  :hover {\n    background: var(--color-secondary);\n    svg {\n      display: block;\n    }\n  }\n  ","\n"])),ce,(function(e){return!e.isRead&&"\n    background: var(--color-secondary);\n  "})),eu=x.c.div(Od||(Od=Object(b.a)([""]))),nu=x.c.div(gd||(gd=Object(b.a)(["\n  margin-bottom: 5px;\n"]))),tu=x.c.span(md||(md=Object(b.a)(["\n  color: var(--text-color-secondary);\n"]))),ru=x.c.div(yd||(yd=Object(b.a)([""]))),iu=x.c.img(wd||(wd=Object(b.a)(["\n  width: 300px;\n  height: auto;\n  margin-top: 5px;\n"]))),au=function(e){var n=e.message,t=e.isMe,r=e.messages,a=en.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),c=me().request,o=Object(j.g)(),s=Object(i.useContext)(u),l=s.socket,d=s.setConversations,b=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handle read message",n),e.prev=1,d((function(e){var t=Object(Ae.a)(Object(Ae.a)({},n),{},{isRead:!0}),r=e.find((function(e){return e._id===n.conversation._id})),i=e.findIndex((function(e){return e._id===n.conversation._id})),a=r.messages.findIndex((function(e){return e._id===n._id})),c=[].concat(Object(Fe.a)(r.messages.slice(0,a)),[t],Object(Fe.a)(r.messages.slice(a+1)));console.log("messages",c);var o=Object(Ae.a)(Object(Ae.a)({},r),{},{messages:c});console.log("updated conversation",o);var s=[].concat(Object(Fe.a)(e.slice(0,i)),[o],Object(Fe.a)(e.slice(i+1)));return console.log("newConversations",s),s})),e.next=5,c("/api/read_message/".concat(n._id),"PUT");case 5:t=e.sent,console.log("res",t),l.emit("readMessage",t.readMsg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this message?")){e.next=3;break}return e.abrupt("return");case 3:if(1!==r.length){e.next=16;break}return e.prev=4,e.next=7,c("/api/conversation/".concat(n.conversation._id),"DELETE");case 7:o.push("/messages"),d((function(e){return e.filter((function(e){return e._id!==n.conversation._id}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,c("/api/message/".concat(n._id),"DELETE");case 19:t=e.sent,d((function(e){console.log("i'm deleting a message",t.readMsg);var r=e.find((function(e){return e._id===n.conversation._id})),i=e.findIndex((function(e){return e._id===n.conversation._id})),a=r.messages.filter((function(e){return e._id!==n._id})),c=Object(Ae.a)(Object(Ae.a)({},r),{},{messages:a});return[].concat(Object(Fe.a)(e.slice(0,i)),[c],Object(Fe.a)(e.slice(i+1)))})),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.log(e.t1);case 26:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){t||n.isRead||(console.log("read"),b())}),[]),Object(De.jsxs)(Xd,{isRead:n.isRead,children:[Object(De.jsx)(fe,{size:"medium-small",src:n.user.avatar}),Object(De.jsxs)(eu,{children:[Object(De.jsxs)(nu,{children:[Object(De.jsxs)(oe,{to:"/profile/".concat(n.user._id),children:[n.user.firstName," ",n.user.lastName]}),"  ",Object(De.jsx)(tu,{children:a})]}),n.content&&Object(De.jsx)(ru,{children:n.content}),n.images&&n.images.map((function(e,n){return Object(De.jsx)(iu,{src:e.url},n)}))]}),Object(De.jsx)(rc,{onClick:p}),Object(De.jsx)("div",{style:{position:"absolute",bottom:0},id:n._id})]})},cu=x.c.div(Cd||(Cd=Object(b.a)(["\n  position: relative;\n  form {\n    display: flex;\n    align-items: flex-start;\n    padding: 10px 15px;\n  }\n  textarea {\n    display: block;\n    border: 1px solid var(--text-color-secondary);\n    border-radius: var(--border-radius-primary);\n    padding: 11px;\n    padding-right: 65px;\n    width: 100%;\n    position: relative;\n    overflow-y: hidden;\n    ::placeholder {\n      color: var(--text-color-secondary);\n    }\n  }\n"]))),ou=x.c.div(kd||(kd=Object(b.a)(["\n  position: absolute;\n  top: 18px;\n  right: 55px;\n  svg {\n    ","\n  }\n"])),ie),su=(x.c.img(_d||(_d=Object(b.a)(["\n  width: 37px;\n  height: 37px;\n  margin-right: 15px;\n  border-radius: 100px;\n"]))),x.c.button(Sd||(Sd=Object(b.a)(["\n  margin-left: 10px;\n  padding-top: 5px;\n  background: none;\n  svg {\n    ","\n    fill: var(--color-dark-secondary);\n    :hover {\n      fill: var(--text-color-secondary);\n    }\n  }\n"])),ie),x.c.div(Ed||(Ed=Object(b.a)(["\n  display: flex;\n  /* margin-left: 15px;\n  margin-bottom: 13px; */\n\n  /* margin-top: 1px; */\n"])))),lu=x.c.div(zd||(zd=Object(b.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"]))),du=x.c.div(Md||(Md=Object(b.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    width: 20px;\n    fill: white;\n  }\n"]))),uu=x.c.img(Id||(Id=Object(b.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),bu=x.c.div(Pd||(Pd=Object(b.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n      padding: 15px;\n      padding-top: 0;\n    "})),ju=x.c.div(Dd||(Dd=Object(b.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),pu=function(e){var n=e.conversation,t=Object(i.useState)(""),r=Object(s.a)(t,2),a=r[0],c=r[1],o=ui(),l=o.images,d=o.setImages,b=o.handleUploadImages,j=o.handleRemoveImage,p=o.imageLoading,x=Object(i.useRef)(null),h=Object(i.useRef)(null),O=Object(i.useState)("auto"),g=Object(s.a)(O,2),m=(g[0],g[1]),y=Object(i.useContext)(u),w=y.meUserData,C=y.socket,k=y.setConversations,_=me().request,S=function(){var e=Object(v.a)(f.a.mark((function e(t){var r,i,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a||0!==l.length)&&!p){e.next=3;break}return e.abrupt("return");case 3:return r=Object(so.a)(),i={content:a,conversation:{createdAt:(new Date).toISOString(),messages:Object(Fe.a)(n.messages),updatedAt:(new Date).toISOString(),users:Object(Fe.a)(n.users),_id:n._id},user:{firstName:null===w||void 0===w?void 0:w.firstName,lastName:null===w||void 0===w?void 0:w.lastName,avatar:null===w||void 0===w?void 0:w.avatar,_id:null===w||void 0===w?void 0:w._id},createdAt:(new Date).toISOString(),images:l,isRead:!1,updatedAt:(new Date).toISOString(),_id:r},c(""),d([]),k((function(e){var n=e.filter((function(e){return e._id!==i.conversation._id})),t=e.find((function(e){return e._id===i.conversation._id}));return[Object(Ae.a)(Object(Ae.a)({},t),{},{messages:[].concat(Object(Fe.a)(t.messages),[i])})].concat(Object(Fe.a)(n))})),e.next=10,_("/api/message","POST",{content:a,images:l,conversationId:n._id});case 10:o=e.sent,k((function(e){var n=e.filter((function(e){return e._id!==o.newMessage.conversation._id})),t=e.find((function(e){return e._id===o.newMessage.conversation._id})),i=t.messages.filter((function(e){return e._id!==r}));return[Object(Ae.a)(Object(Ae.a)({},t),{},{messages:[].concat(Object(Fe.a)(i),[o.newMessage])})].concat(Object(Fe.a)(n))})),console.log("MESSAGE RES",o),s={user:w,recipients:Object(Fe.a)(n.users),text:"sent you a\xa0message: ".concat(o.newMessage.content.slice(0,70)).concat(o.newMessage.content.length>70?"...":""),url:"/".concat(n,"/").concat(n._id)},C.emit("createMessage",o.newMessage),C.emit("createMessageNotification",s);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(e){var n;"Enter"!==e.key||e.shiftKey||(null===x||void 0===x||null===(n=x.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())};return Object(De.jsxs)(cu,{children:[Object(De.jsxs)("form",{ref:x,onSubmit:S,children:[Object(De.jsx)(fe,{size:"medium-small",style:{marginRight:"15px"},src:null===w||void 0===w?void 0:w.avatar}),Object(De.jsx)(je,{$focuse:!0,placeholder:"Write something...",style:{resize:"none"},onChange:function(e){m("auto"),c(e.target.value)},value:a,onKeyDown:E}),Object(De.jsx)(ou,{children:Object(De.jsxs)("label",{children:[Object(De.jsx)(xi,{}),Object(De.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:b,onKeyPress:E,ref:h,style:{display:"none"}})]})}),Object(De.jsx)(na,{handleChooseEmoji:function(e){c(a+e)}})]}),Object(De.jsx)(bu,{exists:p||l.length>0,children:Object(De.jsxs)(De.Fragment,{children:[p&&Object(De.jsx)(ju,{children:Object(De.jsx)(Ut,{})}),l.length>0&&Object(De.jsx)(su,{children:l.map((function(e,n){return Object(De.jsxs)(lu,{children:[Object(De.jsx)(du,{onClick:j.bind(null,e),children:Object(De.jsx)(Sr,{})}),Object(De.jsx)(uu,{src:e.url})]},e.public_id)}))})]})})]})},fu=x.c.div(Rd||(Rd=Object(b.a)([""]))),vu=x.c.div(Nd||(Nd=Object(b.a)(["\n  padding: 15px 0;\n  height: 100%;\n  min-height: 100%;\n  display: flex;\n\n  flex-direction: column;\n  /* justify-content: flex-end;  */\n"]))),xu=x.c.div(Ld||(Ld=Object(b.a)(["\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  /* &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 15px;\n    height: 15px;\n    border: 1px solid black;\n  } */\n  &::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: none;\n    /* box-shadow: inset 0 0 10px black; */\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 5px;\n    background: var(--color-dark-secondary);\n    box-shadow: inset 0 0 5px $pale-orange;\n  }\n\n  ","\n  > :first-child {\n    margin-top: auto !important;\n  }\n  /* flex-direction: row; */\n"])),(function(e){return e.height&&"min-height: calc(".concat(e.height,"px - 250px);\n      max-height: calc(").concat(e.height,"px - 250px);\n  ")})),hu=function(e){var n=e.conversation,t=Object(i.useContext)(u).meUserData,r=a.a.useState({height:window.innerHeight,width:window.innerWidth}),c=Object(s.a)(r,2),o=c[0];c[1];return Object(i.useEffect)((function(){var e;null===(e=document.getElementById(n.messages[n.messages.length-1]._id))||void 0===e||e.scrollIntoView()}),[n]),Object(De.jsxs)(fu,{children:[Object(De.jsxs)(xu,{height:o.height,children:[console.log("messages list updated"),Object(De.jsx)(vu,{children:n.messages.map((function(e){return e.user._id===(null===t||void 0===t?void 0:t._id)?Object(De.jsx)(au,{message:e,isMe:!0,messages:n.messages},e._id):Object(De.jsx)(au,{message:e,isMe:!1,messages:n.messages},e._id)}))})]}),Object(De.jsx)(pe,{}),Object(De.jsx)(pu,{conversation:n})]})},Ou=x.c.div(Td||(Td=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),gu=function(){var e=Object(j.i)().id,n=Object(i.useContext)(u).conversations;Object(j.g)();console.log("conversationsSSS",n);var t=n.find((function(n){return n._id===e}));return t?(console.log("CONVERSATION",t),Object(De.jsx)(De.Fragment,{children:Object(De.jsx)(Qd,{conversation:t,children:Object(De.jsx)(hu,{conversation:t})})})):Object(De.jsx)("div",{style:{minHeight:"550px"},children:Object(De.jsx)(Ou,{children:Object(De.jsx)(Ut,{})})})},mu=function(){var e=Object(i.useContext)(u),n=e.meUserData,t=e.socket,r=e.setNotifications,a=e.setConversations,c=Object(i.useContext)(Qr).setOnline,o=Lr().handleNotification;return Object(i.useEffect)((function(){return t.on("createNotificationToClient",(function(e){r((function(n){return console.log("setting notifications..."),[e].concat(Object(Fe.a)(n))})),o(e,"default")})),function(){return t.off("createNotificationToClient")}}),[t]),Object(i.useEffect)((function(){return t.on("joinUserToClient",(function(e){c(e)})),function(){return t.off("joinUserToClient")}}),[t]),Object(i.useEffect)((function(){return t.on("disconnectUserToClient",(function(e){c(e)})),function(){return t.off("disconnectUserToClient")}}),[t]),Object(i.useEffect)((function(){return t.on("createMessageNotificationToClient",(function(e){window.location.href.includes("conversation")||o(e,"default")})),function(){return t.off("createMessageNotificationToClient")}}),[t]),Object(i.useEffect)((function(){t.emit("joinUser",null===n||void 0===n?void 0:n._id)}),[t,null===n||void 0===n?void 0:n._id]),Object(i.useEffect)((function(){t.emit("checkUsersOnline")}),[t]),Object(i.useEffect)((function(){return t.on("checkUsersOnlineToMe",(function(e){c(e)})),function(){t.off("checkUsersOnlineToMe")}}),[t]),Object(i.useEffect)((function(){t.on("createMessageToClient",(function(e){return console.log("createMessageToClient",e),a((function(n){console.log("set conversations");var t=n.filter((function(n){return n._id!==e.conversation._id})),r=n.find((function(n){return n._id===e.conversation._id}));return[Object(Ae.a)(Object(Ae.a)({},r),{},{messages:[].concat(Object(Fe.a)(r.messages),[e])})].concat(Object(Fe.a)(t))})),function(){t.off("createConversationsToClient")}}))}),[t]),Object(i.useEffect)((function(){t.on("createConversationToClient",(function(e){return console.log("createConversationToClient",e),a((function(n){return console.log("set conversations"),[e].concat(Object(Fe.a)(n))})),function(){t.off("createConversationToClient")}}))}),[t]),Object(i.useEffect)((function(){t.on("readConversationToClient",(function(e){return console.log("readConversationToClient",e),a((function(n){var t=n.find((function(n){return n._id===e.conversation._id})),r=n.findIndex((function(n){return n._id===e.conversation._id})),i=t.messages.findIndex((function(n){return n._id===e._id})),a=[].concat(Object(Fe.a)(t.messages.slice(0,i)),[e],Object(Fe.a)(t.messages.slice(i+1))),c=Object(Ae.a)(Object(Ae.a)({},t),{},{messages:a});return console.log("setConversations in sockets",c),[].concat(Object(Fe.a)(n.slice(0,r)),[c],Object(Fe.a)(n.slice(r+1)))})),function(){t.off("readConversationToClient")}}))}),[t]),Object(De.jsx)(De.Fragment,{})},yu=x.c.div(qd||(qd=Object(b.a)(["\n  min-height: 550px;\n  width: 550px;\n"]))),wu=x.c.div(Ud||(Ud=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),Cu=x.c.div(Bd||(Bd=Object(b.a)(["\n  position: relative;\n  svg {\n    position: absolute;\n    top: 50%;\n    left: 14px;\n    transform: translateY(-50%);\n  }\n"]))),ku=x.c.button(Fd||(Fd=Object(b.a)(["\n  color: var(--color-primary);\n  background: none;\n  font-weight: 600;\n  :hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n"]))),_u=x.c.div(Ad||(Ad=Object(b.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n"]))),Su=x.c.div(Zd||(Zd=Object(b.a)([""]))),Eu=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(""),o=Object(s.a)(c,2),l=o[0],d=o[1],b=me(),j=b.request,p=b.loading,f=Object(i.useContext)(u).meUserData,v=ge(l,250);return Object(i.useEffect)((function(){j("/api/search/users?search=".concat(v),"GET").then((function(e){console.log("search res",e);var n=e.users.filter((function(e){return e._id!==(null===f||void 0===f?void 0:f._id)}));r(n)})).catch((function(e){return console.log(e)}))}),[v]),Object(De.jsx)(yu,{children:Object(De.jsxs)(de,{style:{minHeight:500},children:[Object(De.jsxs)(ue,{children:["Users"," ",Object(De.jsx)("span",{style:{color:"var(--text-color-secondary)"},children:t.length})]}),Object(De.jsx)(pe,{}),Object(De.jsxs)(Cu,{children:[Object(De.jsx)(ke,{}),Object(De.jsx)(be,{style:{fontSize:"var(--text-size-secondary)",border:"none",padding:"14px 35px"},placeholder:"Search...",value:l,onChange:function(e){d(e.target.value)}})]}),Object(De.jsx)(pe,{}),p?Object(De.jsx)(wu,{children:Object(De.jsx)(Ut,{})}):Object(De.jsx)(De.Fragment,{children:t.map((function(e){return Object(De.jsxs)(a.a.Fragment,{children:[Object(De.jsx)(zu,{user:e}),Object(De.jsx)(pe,{})]},e._id)}))})]})})},zu=function(e){var n=e.user,t=Object(i.useContext)(Qr).online,r=fa(),a=r.openModal,c=r.modalIsOpen,o=r.closeModal;return Object(De.jsxs)(_u,{children:[Object(De.jsx)(Oe,{onlineType:!!t[n._id?n._id:"ds"],children:Object(De.jsx)(fe,{size:"medium",src:n.avatar,style:{marginRight:"15px"}})}),Object(De.jsxs)(Su,{children:[Object(De.jsxs)(oe,{style:{marginBottom:"7px",display:"block"},color:"black",to:"/profile/".concat(n._id),children:[n.firstName," ",n.lastName]}),Object(De.jsx)(ku,{onClick:a,children:"Send message"}),Object(De.jsx)(pa,{openModal:a,closeModal:o,modalIsOpen:c,userData:n})]})]})},Mu=x.c.div(Hd||(Hd=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]))),Iu=t(113),Pu=t.n(Iu),Du="firstLogin";function Ru(){var e=Object(j.h)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Nu=function(){var e=function(){var e=Object(i.useState)(null),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(!1),c=Object(s.a)(a,2),o=c[0],l=c[1],d=Object(i.useState)(null),u=Object(s.a)(d,2),b=u[0],j=u[1],p=Object(i.useState)([]),x=Object(s.a)(p,2),h=x[0],O=x[1],g=Object(i.useState)([]),m=Object(s.a)(g,2),y=m[0],w=m[1],C=Object(i.useState)(null),k=Object(s.a)(C,2),_=k[0],S=k[1],E=Object(i.useState)([]),z=Object(s.a)(E,2),M=z[0],I=z[1],P=me().request,D=Object(i.useCallback)(function(){var e=Object(v.a)(f.a.mark((function e(n){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("/api/notifies","GET",null,{Authorization:"Bearer ".concat(n)});case 3:t=e.sent,console.log("notifications from server",t),O(t.notifications),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),[]),R=Object(i.useCallback)(function(){var e=Object(v.a)(f.a.mark((function e(n){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/api/conversations","GET",null,{Authorization:"Bearer ".concat(n)});case 2:t=e.sent,w((function(e){return t.conversations}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),N=Object(i.useCallback)(function(){var e=Object(v.a)(f.a.mark((function e(n,t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(t),r(n),e.next=4,D(n);case 4:return e.next=6,R(n);case 6:localStorage.setItem(Du,"true");case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),L=Object(i.useCallback)((function(){r(null),S(null),localStorage.removeItem(Du)}),[]),T=Object(i.useCallback)(Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem(Du)){e.next=17;break}return e.prev=2,e.next=5,P("/api/auth/refresh_token","POST");case 5:n=e.sent,N(n.accessToken,n.userData),console.log("firing ready"),l(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),l(!0);case 15:e.next=18;break;case 17:l(!0);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),[]);return Object(i.useEffect)((function(){T();var e=Pu()();return j(e),function(){e.close()}}),[]),{login:N,logout:L,accessToken:t,meUserData:_,setMeUserData:S,ready:o,socket:b,notifications:h,setNotifications:O,conversations:y,setConversations:w,online:M,setOnline:I}}(),n=e.login,t=e.logout,r=e.accessToken,a=e.meUserData,c=e.setMeUserData,o=e.ready,d=e.socket,b=e.notifications,p=e.setNotifications,x=e.conversations,h=e.setConversations,O=Object(i.useState)([]),g=Object(s.a)(O,2),m=g[0],y=g[1],w=!!r,C=function(e,n,t){return t?e?Object(De.jsx)(sr,{children:Object(De.jsxs)(dr.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:1e4,children:[Object(De.jsx)(mu,{}),Object(De.jsx)(Yc.a,{utils:Qc.a,children:Object(De.jsxs)(j.d,{children:[Object(De.jsx)(j.b,{path:"/messages",exact:!0,component:fc}),Object(De.jsx)(j.b,{path:"/conversation/:id",exact:!0,component:gu}),Object(De.jsx)(j.b,{path:"/search",component:Eu}),Object(De.jsx)(j.b,{path:"/friends",component:La}),Object(De.jsx)(j.b,{path:"/profile/edit/:id",exact:!0,component:Yr}),Object(De.jsx)(j.b,{path:"/profile/:id",exact:!0,component:od}),Object(De.jsx)(j.a,{to:"/profile/".concat(n)})]})})]})}):Object(De.jsxs)(j.d,{children:[Object(De.jsx)(j.a,{exact:!0,from:"/",to:"/signup"}),Object(De.jsx)(j.b,{path:"/signup",exact:!0,component:Cc}),Object(De.jsx)(j.a,{to:"/signup"})]}):Object(De.jsx)(Mu,{children:Object(De.jsx)(Ut,{})})}(w,null===a||void 0===a?void 0:a._id,o);return Object(De.jsx)(u.Provider,{value:{accessToken:r,meUserData:a,setMeUserData:c,isAuthenticated:w,login:n,logout:t,socket:d,notifications:b,setNotifications:p,conversations:x,setConversations:h},children:Object(De.jsxs)(Qr.Provider,{value:{online:m,setOnline:y},children:[Object(De.jsx)(re,{}),Object(De.jsxs)(l.a,{children:[Object(De.jsx)(Ru,{}),C]})]})})},Lu=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,209)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))};o.a.render(Object(De.jsx)(Nu,{}),document.getElementById("root")),Lu()}},[[182,1,2]]]);
//# sourceMappingURL=main.8c7e23f2.chunk.js.map