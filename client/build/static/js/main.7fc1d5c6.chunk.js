(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,n,t){},127:function(e,n,t){},180:function(e,n,t){"use strict";t.r(n);var r,i=t(0),a=t.n(i),c=t(14),o=t.n(c),s=(t(126),t(6)),l=(t(127),t(11)),d=function(){},u=Object(i.createContext)({accessToken:null,meUserData:null,setMeUserData:d,isAuthenticated:!1,login:d,logout:d,socket:null,notifications:[],setNotifications:d,conversations:null,setConversations:d}),b=t(12),p=t(5),j=t.n(p),f=t(8),v=t(3),h=t(2);function x(){return(x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function g(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function O(e,n){var t=e.title,a=e.titleId,c=g(e,["title","titleId"]);return i.createElement("svg",x({id:"f5b8572e-e789-4a67-a3d4-fd233b7f5529",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",ref:n,"aria-labelledby":a},c),t?i.createElement("title",{id:a},t):null,r||(r=i.createElement("path",{d:"M18.82,16.38c-1.24,0-1.8.68-3.82.68s-2.62-.68-3.87-.68a5.79,5.79,0,0,0-5.75,5.8v1.76A2,2,0,0,0,7.44,26H22.56a2.06,2.06,0,0,0,2.06-2.06V22.18A5.83,5.83,0,0,0,18.82,16.38Zm4.43,7.56a.7.7,0,0,1-.69.68H7.44a.68.68,0,0,1-.69-.68V22.18a4.38,4.38,0,0,1,4.38-4.43c.86,0,1.68.69,3.87.69s3-.69,3.82-.69a4.43,4.43,0,0,1,4.43,4.43ZM15,15A5.5,5.5,0,1,0,9.5,9.5,5.51,5.51,0,0,0,15,15Zm0-9.62a4.12,4.12,0,1,1,0,8.24,4.12,4.12,0,0,1,0-8.24Z"})))}var m,y=i.forwardRef(O);t.p;function w(){return(w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function C(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function k(e,n){var t=e.title,r=e.titleId,a=C(e,["title","titleId"]);return i.createElement("svg",w({id:"a2b7b2d4-3a7e-4ef8-815f-f2ff2ed50e60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,m||(m=i.createElement("path",{d:"M23.94,6.75H6.06A2.06,2.06,0,0,0,4,8.81V21.19a2,2,0,0,0,2.06,2.06H23.94A2.06,2.06,0,0,0,26,21.19V8.81A2.1,2.1,0,0,0,23.94,6.75ZM6.06,8.12H23.94a.74.74,0,0,1,.68.69v1.81c-.94.77-2.32,1.89-6.48,5.2-.73.6-2.15,2-3.14,1.93s-2.45-1.33-3.18-1.93c-4.17-3.31-5.54-4.43-6.44-5.2V8.81A.71.71,0,0,1,6.06,8.12ZM23.94,21.88H6.06a.68.68,0,0,1-.68-.69V12.38c.94.82,2.49,2.06,5.58,4.51.9.73,2.45,2.28,4,2.23s3.09-1.5,4-2.23c3.09-2.45,4.64-3.69,5.62-4.51v8.81A.71.71,0,0,1,23.94,21.88Z"})))}var _,E=i.forwardRef(k);t.p;function S(){return(S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function z(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function M(e,n){var t=e.title,r=e.titleId,a=z(e,["title","titleId"]);return i.createElement("svg",S({id:"a8958859-8e13-4d28-be3a-2b1bd58f0dfc",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,_||(_=i.createElement("path",{d:"M21.88,15a4.13,4.13,0,1,0-4.13-4.12A4.13,4.13,0,0,0,21.88,15Zm0-6.88a2.77,2.77,0,0,1,2.74,2.76,2.75,2.75,0,1,1-2.74-2.76ZM9.5,15a4.81,4.81,0,1,0-4.81-4.81A4.83,4.83,0,0,0,9.5,15Zm0-8.25a3.44,3.44,0,1,1,0,6.87,3.44,3.44,0,1,1,0-6.87Zm3.44,9.11c-1.46,0-1.81.52-3.44.52s-2-.52-3.48-.52a4.81,4.81,0,0,0-3.95,2,5.15,5.15,0,0,0-.82,2.79v1.89a2,2,0,0,0,2.06,2.06H15.69a2.06,2.06,0,0,0,2.06-2.06V20.67a5.19,5.19,0,0,0-.86-2.79A4.83,4.83,0,0,0,12.94,15.86Zm3.44,6.7a.71.71,0,0,1-.69.69H3.31a.69.69,0,0,1-.69-.69V20.67a3.39,3.39,0,0,1,.61-2A3.34,3.34,0,0,1,6,17.23c1.2,0,1.63.52,3.48.52s2.23-.52,3.44-.52a3.34,3.34,0,0,1,2.79,1.42,3.38,3.38,0,0,1,.6,2v1.89ZM28,17.66A3.9,3.9,0,0,0,24.71,16c-1.16,0-1.46.43-2.83.43S20.2,16,19,16a3.65,3.65,0,0,0-1.64.38,4.15,4.15,0,0,1,.86,1.12,4.64,4.64,0,0,1,.78-.09c.94,0,1.29.43,2.88.43s1.93-.43,2.83-.43a2.58,2.58,0,0,1,2.67,2.58v1.59a.35.35,0,0,1-.35.35H19.12A5.92,5.92,0,0,1,19,23.25h8a1.69,1.69,0,0,0,1.72-1.72V19.94A3.83,3.83,0,0,0,28,17.66Z"})))}var P,L=i.forwardRef(M);t.p;function I(){return(I=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function D(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function R(e,n){var t=e.title,r=e.titleId,a=D(e,["title","titleId"]);return i.createElement("svg",I({width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,P||(P=i.createElement("path",{d:"M9.42627 0.510254L9.01807 0.0805664C8.91064 -0.0268555 8.73877 -0.0268555 8.65283 0.0805664L4.76416 3.96924L0.854004 0.0805664C0.768066 -0.0268555 0.596191 -0.0268555 0.48877 0.0805664L0.0805664 0.510254C-0.0268555 0.596191 -0.0268555 0.768066 0.0805664 0.875488L4.5708 5.36572C4.67822 5.47314 4.82861 5.47314 4.93604 5.36572L9.42627 0.875488C9.53369 0.768066 9.53369 0.596191 9.42627 0.510254Z",fill:"#BAC4DB"})))}var N,T,U,q,B,F,A,Z,H,V,G,J,K,$,W,Y,Q,X,ee,ne=i.forwardRef(R),te=(t.p,t(113)),re=Object(h.a)(N||(N=Object(v.a)(["\nbody {\n  height: 100%;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  letter-spacing: .05em;\n  font-family: 'Roboto', sans-serif;\n  font-family: 'Open Sans', sans-serif;\n  font-family: 'Noto Sans', sans-serif;\n  font-family: 'Ubuntu', sans-serif;\n  font-family: 'Rubik', sans-serif;\n  font-family: \"Segoe UI\", sans-serif;\n  line-height: 1.35;\n  letter-spacing: 0.05rem;\n  \n  \n  font-size: var(--text-size-primary);\n  /* font-weight: 500; */\n  color: #45557A;\n}\n\n#root {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\nmain {\n  width: 100%;\n}\n\ninput, input:hover, input:active, input:focus {\n  outline: none;\n}\n\ntextarea, textarea:hover, textarea:active, textarea:focus {\n  outline: none;\n}\n\nimg {\n  -ms-flex-item-align: start;\n      -ms-grid-row-align: start;\n      align-self: start;\n}\n\np {\n  margin: 0;\n  padding: 0;\n}\n\nul, li {\n  display: block;\n  padding: 0;\n  margin: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\ndiv, p, a, span, input, form, button {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\na, a:hover {\n  text-decoration: none;\n  color: inherit;\n  font-weight: inherit;\n  letter-spacing: inherit;\n  font-size: inherit;\n}\n\nbutton {\n  border: none;\n}\n\nbutton:focus {\n  outline: none;\n}\n\nul, li {\n  display: block;\n  padding: 0;\n  margin: 0;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\nfooter {\n  margin-top: auto;\n}\n\n.customSelect {\n  /* border: var(----border-primary); */\n  \n  \n  :focus {\n    outline: none;\n  }\n  :active {\n    outline: none;\n  }\n}\n\n.daySelect {\n  /* border: var(--border-primary); */\n  flex-grow: 1;\n  margin-right: 10px;\n}\n\n.monthSelect {\n  /* border: var(--border-primary); */\n  flex-grow: 10;\n  margin-right: 10px;\n}\n\n.yearSelect {\n  /* border: var(--border-primary); */\n  flex-grow: 2;\n}\n\n.customSelectInner__control {\n  border: var(--border-primary) !important;\n  :focus {\n    outline: none;\n  }\n  :active {\n    outline: none;\n  }\n}\n\n.customSelectInner__indicator-separator {\n  display: none;\n}\n.customSelectInner__indicator {\n  svg {\n    fill: var(--text-color-secondary);\n    width: 17px;\n    height: 17px;\n  }\n}\n\n\n.react-responsive-modal-root {\n  padding-right: 15px !important;\n}\n\n.customOverlay {\n    background: rgba(93, 102, 122, 0.6) !important;\n    padding: 0 !important;\n    padding-right: 15px !important;\n    /* filter: blur(4px); */\n  }\n\n  .customModal {\n    border-radius: var(--border-radius-primary);\n    background: white;\n    box-shadow: 0 5px 10px rgba(0,0,0,0.3);\n    margin: 0;\n    padding: 0;\n    overflow-y: visible;\n\n  }\n\n\n  * {\n    --color-primary: #2965F1;\n    --color-secondary: #EFF2F9;\n    --color-dark-secondary: rgb(211, 218, 235);\n    --color-light-secondary: #DFE5F3;\n    --color-dark-primary: rgb(18, 62, 165);\n    --color-green: #00E296;\n    --color-dark-grey: #303030;\n    --color-grey: #616161;\n    --color-red: #FF3366;\n    --color-black: #324164;\n\n\n    --text-color-secondary: #ACB7D1;\n    --text-color-dark-secondary: #45557A;\n    --text-color-primary: var(--color-black);\n    --text-color-link: var(--color-primary);\n\n\n\n    --font-size-primary: 15px;\n\n    --font-size-secondary: 16px;\n    --font-family-primary: Open Sans, sans-serif;\n    /* --font-family-primary: Roboto, sans-serif; */\n    --font-family-secondary: Montserrat, sans-serif;\n\n    --shadow-primary: 0 5px 5px rgba(211, 218, 235, 0.5);\n    --shadow-popup: 0 5px 5px rgba(211, 218, 235, 0.5);\n    /* --shadow-popup_dark */\n\n    --border-radius-primary: 5px;\n    --border-primary: 1px solid var(--text-color-secondary);\n\n    --text-size-primary: 14px;\n    --text-size-secondary: 16px;\n    --text-size-button: 14px;\n\n    --icon-size-primary: 25px;\n    --icon-size-primary_blue: 25px;\n    --icon-size-secondary: 16px;\n\n    --icon-color-primary: var(--color-primary);\n    --icon-color-secondary: var(--text-color-secondary);\n\n    --z-index-popup: 100;\n\n\n  }\n\n"]))),ie=Object(h.b)(T||(T=Object(v.a)(["\n  width: var(--icon-size-primary);\n  height: var(--icon-size-primary);\n  fill: var(--text-color-secondary);\n  :hover {\n    cursor: pointer;\n    fill: var(--text-color-dark-secondary);\n  }\n"]))),ae=Object(h.b)(U||(U=Object(v.a)(["\n  width: var(--icon-size-primary);\n  height: var(--icon-size-primary);\n  fill: var(--text-color-secondary);\n"]))),ce=Object(h.b)(q||(q=Object(v.a)(["\n  width: var(--icon-size-secondary);\n  height: var(--icon-size-secondary);\n  fill: var(--text-color-secondary);\n  :hover {\n    cursor: pointer;\n    fill: var(--text-color-dark-secondary);\n  }\n"]))),oe=Object(h.c)(l.b)(B||(B=Object(v.a)(["\n  color: var(--color-primary);\n  font-weight: 600;\n\n  :hover {\n    color: var(--color-primary);\n    font-weight: 500;\n    text-decoration: underline;\n  }\n  ","\n"])),(function(e){return"black"===e.color&&"\n      color: var(--color-black);\n      :hover {\n        color: var(--color-black);\n      }\n  "})),se=h.c.div(F||(F=Object(v.a)(["\n  color: var(--text-color-secondary);\n"]))),le=h.c.button(A||(A=Object(v.a)(["\n  /* display: inline-flex; */\n  border-radius: var(--border-radius-primary);\n  font-size: var(--font-size-secondary);\n  padding: 12px 20px;\n  background: var(--color-primary);\n  color: white;\n  :hover {\n    background: var(--color-dark-primary);\n    cursor: pointer;\n  }\n  :disabled {\n    background: var(--color-secondary);\n    color: var(--text-color-secondary);\n    :hover {\n      background: var(--color-secondary);\n      cursor: default;\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n    ","\n    ","\n"])),(function(e){return"small"===e.size&&"\n    padding: 7px 20px;\n    font-size: var(--text-size-primary);\n  "}),(function(e){return"fullwidth"===e.width&&"\n    width: 100%;\n  "}),(function(e){return"secondary"===e.color&&"\n        background: var(--color-secondary);\n        color: var(--text-color-dark-secondary);\n        // border: 1px solid var(--color-dark-secondary);\n        :hover {\n            background: var(--color-dark-secondary);\n        }\n    "}),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")}),(function(e){return e.marginTop&&"\n    margin-top: ".concat(e.marginTop,";\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(e.marginRight,";\n  ")})),de=h.c.div(Z||(Z=Object(v.a)(["\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  box-shadow: var(--shadow-primary);\n\n  background: white;\n  ","\n"])),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")})),ue=h.c.div(H||(H=Object(v.a)(["\n  padding: 15px;\n"]))),be=h.c.input(V||(V=Object(v.a)(["\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  padding: 8px 10px;\n  /* font-size: var(--text-size-secondary); */\n  font-size: var(--text-size-primary);\n  width: 100%;\n  ::placeholder {\n    color: var(--text-color-secondary);\n  }\n  ","//35px\n"])),(function(e){return e.paddingLeft&&"\n    padding-left: ".concat(e.paddingLeft,";\n  ")})),pe=Object(h.c)(te.a)(G||(G=Object(v.a)(["\n  border: 1px solid white;\n  border-radius: var(--border-radius-primary);\n  padding: 11px;\n  padding-right: 35px;\n  width: 100%;\n  position: relative;\n  font-size: var(--text-size-primary);\n  ::placeholder {\n    color: var(--text-color-secondary);\n  }\n  ","\n  ","\n"])),(function(e){return e.$focuse&&"\n    border: var(--border-primary);\n  "}),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")})),je=h.c.div(J||(J=Object(v.a)(["\n  border-top: var(--border-primary);\n  width: 100%;\n  /* background: var(--text-color-secondary); */\n"]))),fe=h.c.img(K||(K=Object(v.a)(["\n  border-radius: 150px;\n  object-fit: cover;\n  ","\n  ","\n    ","\n  ","\n    ","\n    ","\n      ","\n      ","\n      ","\n"])),(function(e){return"extra-small"===e.size&&"\n    width: 25px;\n    height: 25px;\n    min-width: 25px;\n    min-height: 25px;\n  "}),(function(e){return"small"===e.size&&"\n    width: 35px;\n    height: 35px;\n    min-width: 35px;\n    min-height: 35px;\n  "}),(function(e){return"medium-small"===e.size&&"\n    width: 40px;\n    height: 40px;\n    min-width: 40px;\n    min-height: 40px;\n  "}),(function(e){return"medium"===e.size&&"\n    width: 53px;\n    height: 53px;\n    min-width: 53px;\n    min-height: 53px;\n  "}),(function(e){return"large"===e.size&&"\n    width: 150px;\n    height: 150px;\n    min-width: 150px;\n    min-height: 150px;\n  "}),(function(e){return e.marginBottom&&"\n    margin-bottom: ".concat(e.marginBottom,";\n  ")}),(function(e){return e.marginTop&&"\n    margin-top: ".concat(e.marginTop,";\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(e.marginRight,";\n  ")}),(function(e){return e.marginLeft&&"\n    margin-left: ".concat(e.marginLeft,";\n  ")})),ve=(h.c.div($||($=Object(v.a)(["\n  background: white;\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  padding: 10px;\n"]))),h.c.div(W||(W=Object(v.a)([""])))),he=h.c.div(Y||(Y=Object(v.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),xe=h.c.div(Q||(Q=Object(v.a)(["\n  background: var(--color-red);\n  height: 24px;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid white;\n  position: absolute;\n  top: 13px;\n  right: 7px;\n  border-radius: 100px;\n  color: white;\n  ","\n  "," /* font-size: 11px; */\n"])),(function(e){return e.top&&"\n    top: ".concat(e.top,";\n  ")}),(function(e){return e.right&&"\n    right: ".concat(e.right,";\n  ")})),ge=h.c.div(X||(X=Object(v.a)(["\n  ","\n"])),(function(e){return e.onlineType&&"\n  position: relative;\n  :after {\n    content: '';\n    background: var(--color-green);\n    width: 10px;\n    height: 10px;\n    border-radius: 100px;\n    position: absolute;\n    bottom: 3px;\n    right: 15px;\n    border: 2px solid white;\n  }\n"})),Oe=t(19),me=t(202),ye=t(206),we=t(41),Ce=Object(me.a)((function(e){return Object(ye.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(Oe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Oe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(we.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(we.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Oe.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(Oe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(Oe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}})})),ke=function(){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useContext)(u).accessToken,c=Object(i.useState)(null),o=Object(s.a)(c,2),l=o[0],d=o[1];return{loading:t,request:Object(i.useCallback)(function(){var e=Object(f.a)(j.a.mark((function e(n){var t,i,c,o,s,l=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",i=l.length>2&&void 0!==l[2]?l[2]:null,c=l.length>3&&void 0!==l[3]?l[3]:{},r(!0),e.prev=4,i&&(i=JSON.stringify(i),c["Content-Type"]="application/json"),c.Authorization||(c.Authorization="Bearer ".concat(a)),e.next=9,fetch(n,{method:t,body:i,headers:c,credentials:"include"});case 9:return o=e.sent,e.next=12,o.json();case 12:if(s=e.sent,o.ok){e.next=16;break}throw d(s),new Error(s.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 16:return r(!1),e.abrupt("return",s);case 20:throw e.prev=20,e.t0=e.catch(4),r(!1),e.t0;case 24:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(n){return e.apply(this,arguments)}}(),[]),error:l,clearError:Object(i.useCallback)((function(){return d(null)}),[])}};function _e(){return(_e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Ee(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Se(e,n){var t=e.title,r=e.titleId,a=Ee(e,["title","titleId"]);return i.createElement("svg",_e({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,ee||(ee=i.createElement("path",{d:"M14.8828 14.9961L11.1035 11.2168C11.0449 11.1582 10.957 11.1289 10.8691 11.1289H10.5469C11.5723 10.0156 12.1875 8.58008 12.1875 6.96875C12.1875 3.62891 9.43359 0.875 6.09375 0.875C2.72461 0.875 0 3.62891 0 6.96875C0 10.3379 2.72461 13.0625 6.09375 13.0625C7.67578 13.0625 9.14062 12.4473 10.2246 11.4512V11.7441C10.2246 11.8613 10.2539 11.9492 10.3125 12.0078L14.0918 15.7871C14.2383 15.9336 14.4434 15.9336 14.5898 15.7871L14.8828 15.4941C15.0293 15.3477 15.0293 15.1426 14.8828 14.9961ZM6.09375 12.125C3.22266 12.125 0.9375 9.83984 0.9375 6.96875C0.9375 4.12695 3.22266 1.8125 6.09375 1.8125C8.93555 1.8125 11.25 4.12695 11.25 6.96875C11.25 9.83984 8.93555 12.125 6.09375 12.125Z",fill:"#B6C3E1"})))}var ze=i.forwardRef(Se);t.p;var Me,Pe,Le,Ie,De,Re,Ne=function(e,n){Object(i.useEffect)((function(){var t=function(t){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])},Te=t(1),Ue=h.c.div(Me||(Me=Object(v.a)(["\n  position: relative;\n  svg {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 10px;\n  }\n"]))),qe=h.c.div(Pe||(Pe=Object(v.a)(["\n  position: absolute;\n  top: 45px;\n  left: 0;\n  width: 100%;\n  border: var(--border-primary);\n  box-shadow: var(--shadow-popup);\n  border-radius: var(--border-radius-primary);\n  background: white;\n"]))),Be=Object(h.c)(l.b)(Le||(Le=Object(v.a)(["\n  display: flex;\n  padding: 15px 12px;\n  align-items: center;\n  border-top: var(--border-primary);\n  :hover {\n    background: var(--color-light-secondary);\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),Fe=h.c.img(Ie||(Ie=Object(v.a)(["\n  /* min-width: 15px;\n  min-height: 15px; */\n  width: 20px;\n  height: 20px;\n  border-radius: 100px;\n  margin-right: 10px;\n"]))),Ae=h.c.div(De||(De=Object(v.a)([""]))),Ze=function(e){e.meUserData;var n=Object(i.useRef)(null);Ne(n,(function(){p(!1)}));Ce();var t=ke().request,r=Object(i.useState)([]),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useState)(!1),d=Object(s.a)(l,2),b=d[0],p=d[1],j=(Object(i.useContext)(u),Object(i.useState)("")),f=Object(s.a)(j,2),v=f[0],h=f[1],x=function(e,n){var t=Object(i.useState)(e),r=Object(s.a)(t,2),a=r[0],c=r[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){c(e)}),n);return function(){clearTimeout(t)}}),[e,n]),a}(v,250);Object(i.useEffect)((function(){x?t("/api/search/users?search=".concat(x),"GET").then((function(e){console.log("search res",e),o(e.users)})).catch((function(e){return console.log(e)})):o([])}),[x]);return Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsxs)(Ue,{ref:n,onClick:function(){b||p(!0)},children:[Object(Te.jsx)(ze,{}),Object(Te.jsx)(be,{style:{fontSize:"var(--text-size-secondary)"},placeholder:"Search...",value:v,onChange:function(e){h(e.target.value)},paddingLeft:"35px"}),0!==c.length&&b&&Object(Te.jsx)(qe,{children:c.map((function(e){return Object(Te.jsxs)(Be,{to:"/profile/".concat(e._id),onClick:function(){p(!1),h("")},children:[Object(Te.jsx)(Fe,{src:e.avatar}),Object(Te.jsxs)(Ae,{children:[e.firstName," ",e.lastName]})]},e._id)}))})]})})},He=t(23),Ve=t(9),Ge=t(7);function Je(){return(Je=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Ke(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function $e(e,n){var t=e.title,r=e.titleId,a=Ke(e,["title","titleId"]);return i.createElement("svg",Je({width:26,height:27,viewBox:"0 0 26 27",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Re||(Re=i.createElement("path",{d:"M12.7087 25.0625C11.6891 25.0625 10.8962 24.2695 10.8962 23.25H9.08367C9.08367 25.2891 10.6696 26.875 12.7087 26.875C14.6911 26.875 16.3337 25.2891 16.3337 23.25H14.5212C14.5212 24.2695 13.6716 25.0625 12.7087 25.0625ZM24.5466 18.9746C22.9606 17.502 21.7712 15.916 21.7712 10.5352C21.7712 6.06055 18.1462 2.37891 13.6149 1.92578V0.90625C13.6149 0.453125 13.1618 0 12.7087 0C12.1989 0 11.8024 0.453125 11.8024 0.90625V1.92578C7.21453 2.37891 3.58953 6.06055 3.58953 10.5352C3.58953 15.916 2.40008 17.502 0.814143 18.9746C0.0211746 19.7676 -0.205388 20.9004 0.191096 21.9199C0.587581 22.9395 1.60711 23.5625 2.73992 23.5625H22.6774C23.7536 23.5625 24.7731 22.9395 25.1696 21.9199C25.5661 20.9004 25.3395 19.7676 24.5466 18.9746ZM22.6774 21.75H2.73992C1.89032 21.75 1.49383 20.8438 2.06024 20.2773C4.04266 18.4082 5.40203 16.3125 5.40203 10.5352C5.40203 6.74023 8.68719 3.625 12.7087 3.625C16.6735 3.625 19.9587 6.74023 19.9587 10.5352C19.9587 16.3125 21.3181 18.4082 23.3005 20.2773C23.8669 20.8438 23.4704 21.75 22.6774 21.75Z"})))}var We,Ye,Qe,Xe,en,nn,tn,rn=i.forwardRef($e),an=(t.p,t(35)),cn=function(){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1];return{visible:t,show:function(){return r(!0)},hide:function(){return r(!1)}}},on=h.c.div(We||(We=Object(v.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  position: relative;\n  svg {\n    ","\n  }\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n"])),ae),sn=h.c.div(Ye||(Ye=Object(v.a)(["\n  min-width: 250px;\n  /* min-height: 300px; */\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  /* &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 15px;\n    height: 15px;\n    border: 1px solid black;\n  } */\n  &::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: none;\n    /* box-shadow: inset 0 0 10px black; */\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 5px;\n    background: var(--color-dark-secondary);\n    box-shadow: inset 0 0 5px $pale-orange;\n  }\n"]))),ln=Object(h.c)(l.b)(Qe||(Qe=Object(v.a)(["\n  display: flex;\n  padding: 20px 18px;\n  align-items: flex-start;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n  ","\n"])),(function(e){return!e.isRead&&"\n    background: var(--color-secondary);\n  "})),dn=h.c.div(Xe||(Xe=Object(v.a)([""]))),un=h.c.div(en||(en=Object(v.a)(["\n  margin-bottom: 3px;\n"]))),bn=h.c.div(nn||(nn=Object(v.a)(["\n  color: var(--text-color-secondary);\n"]))),pn=function(e){var n=e.notification,t=(e.visible,an.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"})),r=ke().request,a=Object(i.useContext)(u).setNotifications,c=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("read notification",n),e.next=4,r("/api/notify/".concat(n._id),"PUT");case 4:t=e.sent,console.log("i read notificatio",t),a((function(e){var t=e.findIndex((function(e){return e._id===n._id})),r=Object(Ge.a)(Object(Ge.a)({},n),{},{isRead:!0});return[].concat(Object(Ve.a)(e.slice(0,t)),[r],Object(Ve.a)(e.slice(t+1)))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){n.isRead||c()}),[]),Object(Te.jsxs)(ln,{to:n.url,isRead:n.isRead,children:[Object(Te.jsx)(fe,{style:{marginRight:"15px"},size:"small",src:n.user.avatar}),Object(Te.jsxs)(dn,{children:[Object(Te.jsxs)(un,{children:[Object(Te.jsxs)(oe,{to:"/profile/".concat(n.user._id),children:[n.user.firstName," ",n.user.lastName]})," ",n.text]}),Object(Te.jsx)(bn,{children:t})]})]})},jn=function(e){var n=e.notifications,t=(e.setNotifications,cn()),r=t.visible,i=t.show,a=t.hide,c=n.filter((function(e){return!e.isRead})),o=[],s=5;n.forEach((function(e){if(e.isRead){if(!s)return;o.push(e),s--}else o.push(e)}));var l=Object(Te.jsx)(de,{children:Object(Te.jsx)(sn,{onClick:r?a:i,children:o.length>0&&r?Object(Te.jsx)(Te.Fragment,{children:o.map((function(e,n){return Object(Te.jsx)(pn,{visible:r,notification:e},n)}))}):Object(Te.jsx)("div",{children:"No notifications yet..."})})});return Object(Te.jsx)(He.a,{content:l,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,0],visible:r,onClickOutside:a,onMount:function(){return console.log("mounted!")},children:Object(Te.jsxs)(on,{onClick:r?a:function(){i()},children:[Object(Te.jsx)(rn,{}),c.length>0&&Object(Te.jsx)(xe,{children:c.length}),console.log("notifications",n)]})})};function fn(){return(fn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function vn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function hn(e,n){var t=e.title,r=e.titleId,a=vn(e,["title","titleId"]);return i.createElement("svg",fn({"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"github",className:"svg-inline--fa fa-github fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,tn||(tn=i.createElement("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})))}var xn,gn=i.forwardRef(hn);t.p;function On(){return(On=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function mn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function yn(e,n){var t=e.title,r=e.titleId,a=mn(e,["title","titleId"]);return i.createElement("svg",On({"aria-hidden":"true",focusable:"false","data-prefix":"fab",className:"svg-inline--fa fa-react fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,xn||(xn=i.createElement("path",{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"})))}var wn,Cn,kn,_n,En,Sn,zn,Mn,Pn,Ln,In=i.forwardRef(yn);t.p;function Dn(){return(Dn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Rn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Nn(e,n){var t=e.title,r=e.titleId,a=Rn(e,["title","titleId"]);return i.createElement("svg",Dn({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1112.61 300",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,wn||(wn=i.createElement("defs",null)),Cn||(Cn=i.createElement("path",{className:"cls-1",d:"M1088.41,233.64A16.61,16.61,0,1,1,1105,216.8a16.4,16.4,0,0,1-16.61,16.84m0-31.72a15.12,15.12,0,1,0,15,15.16,14.87,14.87,0,0,0-15-15.16m4.06,25.61-4.29-9.23h-3.46v9.23h-2.51v-21h6.2c4.62,0,6.53,2.05,6.53,5.88,0,3.08-1.45,5-4.15,5.59l4.43,9.52Zm-7.75-11.43h3.64c2.94,0,4.06-1,4.06-3.68s-1.07-3.6-4.38-3.6h-3.32Z"})),kn||(kn=i.createElement("path",{className:"cls-1",d:"M841.24,218.5c4.5,3.6,13.48,5.08,21.4,5.08,10.26,0,20.31-1.9,30.14-10.78,10.06-9.1,16.9-23.06,16.9-45.26,0-21.36-8.13-38.7-24.81-48.85-9.41-5.92-21.59-8.25-35.5-8.25-4.06,0-8.13.21-10.48,1.27a5.56,5.56,0,0,0-1.92,3c-.43,3.81-.43,32.78-.43,49.91,0,17.55,0,42.08.43,45,.21,2.54,1.5,7,4.27,8.88M798.56,100.93c3.63,0,17.45.63,23.87.63,12,0,20.31-.63,42.77-.63,18.82,0,34.65,5.08,46,14.8,13.69,11.84,21,28.34,21,48.43,0,28.54-13,45-26.09,54.34-13,9.73-29.95,15.23-54.11,15.23-12.83,0-34.86-.42-53.26-.63h-.25c-.85-1.7,1.58-8.29,3.08-8.46,5-.57,6.32-.76,8.63-1.71,3.88-1.6,4.8-3.58,5.23-10.56.64-13.11.43-28.76.43-46.52,0-12.69.21-37.43-.22-45.26-.64-6.55-3.41-8.24-9-9.51a118.52,118.52,0,0,0-12-1.91c-.43-1.27,2.86-7,3.93-8.24"})),_n||(_n=i.createElement("path",{className:"cls-1",d:"M985.2,111.66c-.85.21-1.93,2.33-1.93,3.39-.21,7.61-.42,27.49-.42,41.23a1.37,1.37,0,0,0,1.07,1.06c2.78.21,9.62.43,15.39.43,8.13,0,12.84-1.07,15.4-2.34,6.85-3.38,10-10.78,10-18.81,0-18.4-12.83-25.38-31.86-25.38a57.48,57.48,0,0,0-7.7.42m48.55,84.59c0-18.61-13.69-29.18-38.72-29.18-1.06,0-9-.22-10.9.21-.64.21-1.28.63-1.28,1.06,0,13.32-.22,34.68.42,43.14.43,3.59,3,8.67,6.21,10.15,3.42,1.9,11.12,2.32,16.47,2.32,14.75,0,27.8-8.24,27.8-27.7M946.57,101.3c1.93,0,7.62.63,22.16.63,13.69,0,24.81-.42,38.07-.42,16.47,0,39.14,5.93,39.14,30.45,0,12.06-8.56,21.78-19.68,26.44-.64.21-.64.63,0,.84,15.83,4,29.73,13.75,29.73,32.36,0,18.18-11.33,29.61-27.8,36.79-10.06,4.45-22.46,5.92-35.08,5.92-9.62,0-35.41-1.05-49.74-.84-1.5-.63,1.37-7.4,2.65-8.46a39.93,39.93,0,0,0,9.7-1.52c5.13-1.26,5.74-2.92,6.38-10.53.43-6.56.43-30,.43-46.74,0-22.84.21-38.27,0-45.89-.22-5.92-2.35-7.83-6.42-8.88-3.2-.64-8.55-1.27-12.82-1.9-1.08-1.06,2.22-7.41,3.28-8.25"})),En||(En=i.createElement("path",{className:"cls-1",d:"M179.51,233.64a9.24,9.24,0,0,1-.66-4.28,5.5,5.5,0,0,1,.66-2.85,73.34,73.34,0,0,0,8.21-1.67c3.78-.94,5.2-3,5.43-7.83.62-11.4.65-32.79.43-47.83v-.44c0-1.62,0-3.82-2-5.38a43,43,0,0,0-11.34-5c-1.8-.53-2.79-1.47-2.73-2.57S178.7,153.4,181,153c6.19-.64,22.43-4.51,28.8-7.46a4.2,4.2,0,0,1,.86,3c0,.66-.1,1.36-.17,2.08-.18,2.13-.38,4.54-.38,6.94a1.58,1.58,0,0,0,2.68.91c12.15-9.52,23-12.92,28.6-12.92,9.18,0,16.33,4.39,21.86,13.42a1.49,1.49,0,0,0,1.25.73,1.39,1.39,0,0,0,1.15-.62c11.17-8.47,22.24-13.53,29.63-13.53,17.51,0,28,13.11,28,35.06,0,6.31-.06,14.3-.12,21.77-.05,6.54-.1,12.68-.1,16.93,0,1,1.38,3.88,3.45,4.45,2.56,1.25,6.26,1.89,10.93,2.69l.18,0c.36,1.26-.38,6.15-1.1,7.15-1.16,0-2.76-.09-4.76-.19-3.63-.18-8.62-.44-14.42-.44-11.63,0-17.71.23-23.52.61-.43-1.45-.59-6.14-.05-7.11a64.2,64.2,0,0,0,7.09-1.67c3.7-1.22,4.77-2.9,5-7.82.09-3.5.76-34.28-.43-41.59-1.1-7.57-6.8-16.44-19.29-16.44-4.63,0-12.11,1.93-19.25,7.34a2.84,2.84,0,0,0-.69,1.81v.15c.84,3.94.84,8.54.84,15.51,0,4,0,8.17-.05,12.35-.05,8.49-.09,16.5.05,22.55,0,4.13,2.49,5.12,4.5,5.91,1.09.24,2,.45,2.82.65,1.68.41,3.42.83,6,1.24a11.49,11.49,0,0,1-.1,5.32,4,4,0,0,1-.75,1.82c-6.46-.22-13.1-.42-22.68-.42-2.9,0-7.64.13-11.83.24-3.38.09-6.6.18-8.42.19A8.34,8.34,0,0,1,236,230a6.38,6.38,0,0,1,.67-3.44l2.57-.47c2.24-.4,4.18-.74,6-1.2,3.17-1,4.36-2.73,4.6-6.76.62-9.41,1.1-36.52-.23-43.31-2.27-10.89-8.47-16.42-18.44-16.42-5.84,0-13.21,2.81-19.23,7.33a5.83,5.83,0,0,0-1.78,4.35c0,3.23,0,7.08,0,11.2,0,13.61-.09,30.56.24,37.9.2,2.25,1,4.93,5.24,5.92.93.27,2.53.53,4.39.84,1.08.18,2.25.37,3.45.59a15.21,15.21,0,0,1-.57,7.16c-1.86,0-4.15-.12-6.77-.24-4-.17-9-.4-14.67-.4-6.69,0-11.34.23-15.08.4-2.51.13-4.68.23-6.85.24"})),Sn||(Sn=i.createElement("path",{className:"cls-1",d:"M394.18,154.55A18.28,18.28,0,0,0,384,157.42c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.43,42.14,30.21,42.14A19,19,0,0,0,416,221.73c5.46-4.46,8.36-13.57,8.36-26.32,0-24.44-12.14-40.86-30.21-40.86m3.43,81C365.47,235.54,354,212,354,189.92c0-15.41,6.3-27.46,18.72-35.81a57.11,57.11,0,0,1,28.92-8.56c24.52,0,41.65,17.64,41.65,42.89,0,17.16-6.85,30.71-19.79,39.18-6.21,3.81-17,7.92-25.92,7.92"})),zn||(zn=i.createElement("path",{className:"cls-1",d:"M721.32,154.55a18.27,18.27,0,0,0-10.24,2.87c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.42,42.14,30.21,42.14a19,19,0,0,0,13.08-4.62c5.46-4.45,8.36-13.56,8.36-26.31,0-24.44-12.14-40.86-30.2-40.86m3.42,81c-32.14,0-43.58-23.57-43.58-45.62,0-15.42,6.3-27.46,18.73-35.81a57,57,0,0,1,28.91-8.56c24.52,0,41.65,17.64,41.65,42.88,0,17.18-6.85,30.72-19.79,39.18-6.21,3.82-17,7.93-25.92,7.93"})),Mn||(Mn=i.createElement("path",{className:"cls-1",d:"M613.14,153.7c-9.91,0-16.31,7.82-16.31,19.93s5.51,26.49,21,26.49c2.67,0,7.5-1.19,9.89-3.82,3.6-3.31,5.95-10.16,5.95-17.38,0-15.79-7.68-25.22-20.54-25.22m-1.29,83.53a16.41,16.41,0,0,0-8,2c-7.84,5-11.47,10.05-11.47,15.83,0,5.45,2.12,9.78,6.66,13.63,5.51,4.66,12.93,6.93,22.69,6.93,19.21,0,27.82-10.33,27.82-20.56,0-7.13-3.58-11.9-10.93-14.6-5.67-2.08-15.14-3.22-26.73-3.22m1.29,49.07c-11.54,0-19.85-2.44-26.95-7.9-6.9-5.33-10-13.24-10-18.7a14.61,14.61,0,0,1,3.78-9.51c2-2.29,6.67-6.56,17.42-14a.9.9,0,0,0,.57-.85.89.89,0,0,0-.68-.88c-8.87-3.39-11.54-9-12.34-12,0-.11-.05-.28-.09-.47-.26-1.19-.5-2.3,1.11-3.46,1.24-.88,3.23-2.06,5.35-3.31a71,71,0,0,0,8.59-5.6,1.35,1.35,0,0,0,.37-1.19,1.39,1.39,0,0,0-.72-1c-13.12-4.4-19.72-14.15-19.72-29a28.87,28.87,0,0,1,12.11-23.76c5.28-4.17,18.52-9.18,27.1-9.18h.5c8.82.21,13.8,2.06,20.68,4.61a32.89,32.89,0,0,0,12.23,2c7.3,0,10.49-2.32,13.23-5a11.39,11.39,0,0,1,.7,3.78A14.17,14.17,0,0,1,664,159.6c-1.5,2.07-5,3.58-8.22,3.58-.34,0-.65,0-1-.05a29.36,29.36,0,0,1-5-.83l-.82.28c-.26.39-.09.81.12,1.35a2.74,2.74,0,0,1,.12.32,58.87,58.87,0,0,1,1.19,8.11c0,15.57-6.13,22.35-12.77,27.37a43.59,43.59,0,0,1-22.07,8.53h0c-.17,0-1,.08-2.55.22-1,.09-2.31.2-2.5.2l-.19,0c-1.44.41-5.21,2.2-5.21,5.52,0,2.77,1.71,6.21,9.84,6.82l5.26.37c10.74.75,24.14,1.68,30.45,3.82a21.08,21.08,0,0,1,14.08,20.29c0,14-9.92,27.1-26.55,35.12a57.66,57.66,0,0,1-25.11,5.65"})),Pn||(Pn=i.createElement("path",{className:"cls-1",d:"M564,226.19c-4.71-.63-8.14-1.27-12.19-3.17a5.56,5.56,0,0,1-1.5-3c-.43-6.56-.43-25.59-.43-38.07,0-10.15-1.71-19-6-25.37-5.13-7.19-12.4-11.42-21.81-11.42-8.34,0-19.46,5.7-28.66,13.53-.22.21-1.63,1.55-1.59-.53s.35-6.31.54-9a4.6,4.6,0,0,0-1.4-3.92c-6,3-22.85,7-29.08,7.61-4.55.88-5.7,5.26-.85,6.77l.07,0a41.79,41.79,0,0,1,11.05,4.84c1.92,1.48,1.7,3.6,1.7,5.29.21,14.17.21,35.95-.42,47.8-.22,4.65-1.5,6.34-4.93,7.19l.32-.11a66.65,66.65,0,0,1-7.92,1.48c-1.07,1.05-1.07,7.19,0,8.46,2.14,0,13.05-.63,22-.63,12.4,0,18.82.63,22,.63,1.29-1.48,1.71-7.19.85-8.46a45.12,45.12,0,0,1-8.77-1.27c-3.42-.84-4.27-2.54-4.48-6.34-.43-9.94-.43-31.09-.43-45.47,0-4,1.06-5.92,2.35-7,4.28-3.81,11.33-6.34,17.54-6.34,6,0,10.05,1.9,13,4.44,4.07,3.38,5.56,8.24,6,11.84.86,8,.64,24.11.64,38.06,0,7.62-.64,9.53-3.42,10.37-1.28.63-4.71,1.27-8.77,1.69-1.28,1.27-.86,7.19,0,8.46,5.56,0,12-.63,21.39-.63,11.76,0,19.24.63,22.24.63,1.28-1.48,1.71-7,.86-8.46"})),Ln||(Ln=i.createElement("path",{className:"cls-1",d:"M131.69,120.49C116.44,53.19,80.4,31.06,76.53,22.61,72.27,16.63,68,6,68,6c-.08-.17-.19-.49-.32-.8-.44,5.95-.67,8.27-6.3,14.29C52.62,26.36,7.82,63.94,4.17,140.41c-3.4,71.29,51.52,113.79,59,119.21l.84.59,0,0c.05.35,2.36,17,4,34.57l5.81,0a344.12,344.12,0,0,1,6.14-37l.45-.3a97.92,97.92,0,0,0,9.48-7.76l.34-.31a136.77,136.77,0,0,0,43.89-102.11A163.1,163.1,0,0,0,131.69,120.49ZM67.32,219.36s0-100,3.35-100c2.57,0,5.91,129,5.91,129C72,247.82,67.32,227.14,67.32,219.36Z"})))}var Tn,Un,qn=i.forwardRef(Nn);t.p;function Bn(){return(Bn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Fn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function An(e,n){var t=e.title,r=e.titleId,a=Fn(e,["title","titleId"]);return i.createElement("svg",Bn({xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Tn||(Tn=i.createElement("path",{d:"M45.2 29.57c-.106-6.514-3.734-12.843-9.348-16.18-4.422-2.754-10-3.495-15.04-2.224-7.573 1.907-13.6 8.765-14.38 16.577-.953 7.388 2.78 15.067 9.162 18.854 6.25 3.92 14.75 3.76 20.867-.37 5.508-3.575 8.924-10.1 8.74-16.656zm-18.377 17c-8.844.874-17.398-6.62-17.636-15.5-.662-7.203 4.078-14.326 10.857-16.7 9.506-3.813 21.184 3.23 22.164 13.426 1.536 9.162-6.1 18.483-15.385 18.775zm-5.826-17.555l12.8-10.46-6.9 10.486c-1.96 0-3.92 0-5.88-.026zm3.6 1.933l5.88.026-12.8 10.486 6.9-10.513z"})),Un||(Un=i.createElement("path",{d:"M51.065 35.91c.648.367 1.62.627 2.7.627 2.356 0 3.61-1.167 3.61-2.766-.022-1.318-.756-2.14-2.356-2.7-1.124-.41-1.556-.67-1.556-1.232 0-.54.432-.93 1.232-.93.778 0 1.49.28 1.88.52l.432-1.578c-.52-.28-1.36-.52-2.356-.52-2.053 0-3.35 1.2-3.35 2.788-.022 1.037.713 1.988 2.442 2.593 1.102.39 1.448.692 1.448 1.297 0 .583-.432.972-1.426.972-.8 0-1.772-.324-2.27-.627zm11.39-8.623c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004zm11.735 5.49a4.49 4.49 0 0 1-1.772.346c-1.534 0-2.7-1.037-2.7-2.853-.022-1.62.994-2.874 2.7-2.874.8 0 1.318.173 1.686.346l.41-1.664c-.52-.238-1.34-.41-2.16-.41-3.112 0-4.927 2.075-4.927 4.733 0 2.745 1.794 4.517 4.56 4.517 1.102 0 2.03-.238 2.507-.454zm3.436-10.978h-2.248v12.923h2.248V33.34l.756-.886 2.55 3.912h2.745l-3.74-5.23 3.285-3.63h-2.7l-2.14 2.853c-.238.303-.497.692-.713 1.037h-.043zM91.24 32.54c.043-.194.065-.52.065-.95 0-1.945-.95-4.322-3.825-4.322-2.83 0-4.322 2.312-4.322 4.776 0 2.7 1.686 4.473 4.56 4.473 1.275 0 2.334-.238 3.1-.54l-.324-1.556c-.67.26-1.426.41-2.464.41-1.426 0-2.68-.692-2.723-2.29zm-5.92-1.556c.086-.908.67-2.16 2.053-2.16 1.49 0 1.86 1.34 1.837 2.16zm7.413-5.49v2h-1.253v1.664h1.275v4.17c0 1.167.216 1.967.692 2.464.41.454 1.102.735 1.923.735.713 0 1.297-.086 1.62-.216l-.043-1.707c-.194.065-.497.108-.864.108-.864 0-1.145-.562-1.145-1.642v-3.912h2.14v-1.664h-2.14v-2.55zM99 36.56c.843 0 1.383-.627 1.383-1.448 0-.864-.562-1.448-1.383-1.448-.8 0-1.383.605-1.383 1.448 0 .82.562 1.448 1.383 1.448zm4.668-.216v-8.86h-2.248v8.86zm-1.124-12.556c-.756 0-1.253.52-1.253 1.2 0 .67.497 1.2 1.232 1.2.778 0 1.275-.52 1.275-1.2-.022-.67-.497-1.2-1.253-1.2zm6.786 3.5c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004z"})))}var Zn,Hn=i.forwardRef(An);t.p;function Vn(){return(Vn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Gn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Jn(e,n){var t=e.title,r=e.titleId,a=Gn(e,["title","titleId"]);return i.createElement("svg",Vn({"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"node",className:"svg-inline--fa fa-node fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Zn||(Zn=i.createElement("path",{d:"M316.3 452c-2.1 0-4.2-.6-6.1-1.6L291 439c-2.9-1.6-1.5-2.2-.5-2.5 3.8-1.3 4.6-1.6 8.7-4 .4-.2 1-.1 1.4.1l14.8 8.8c.5.3 1.3.3 1.8 0L375 408c.5-.3.9-.9.9-1.6v-66.7c0-.7-.3-1.3-.9-1.6l-57.8-33.3c-.5-.3-1.2-.3-1.8 0l-57.8 33.3c-.6.3-.9 1-.9 1.6v66.7c0 .6.4 1.2.9 1.5l15.8 9.1c8.6 4.3 13.9-.8 13.9-5.8v-65.9c0-.9.7-1.7 1.7-1.7h7.3c.9 0 1.7.7 1.7 1.7v65.9c0 11.5-6.2 18-17.1 18-3.3 0-6 0-13.3-3.6l-15.2-8.7c-3.7-2.2-6.1-6.2-6.1-10.5v-66.7c0-4.3 2.3-8.4 6.1-10.5l57.8-33.4c3.7-2.1 8.5-2.1 12.1 0l57.8 33.4c3.7 2.2 6.1 6.2 6.1 10.5v66.7c0 4.3-2.3 8.4-6.1 10.5l-57.8 33.4c-1.7 1.1-3.8 1.7-6 1.7zm46.7-65.8c0-12.5-8.4-15.8-26.2-18.2-18-2.4-19.8-3.6-19.8-7.8 0-3.5 1.5-8.1 14.8-8.1 11.9 0 16.3 2.6 18.1 10.6.2.8.8 1.3 1.6 1.3h7.5c.5 0 .9-.2 1.2-.5.3-.4.5-.8.4-1.3-1.2-13.8-10.3-20.2-28.8-20.2-16.5 0-26.3 7-26.3 18.6 0 12.7 9.8 16.1 25.6 17.7 18.9 1.9 20.4 4.6 20.4 8.3 0 6.5-5.2 9.2-17.4 9.2-15.3 0-18.7-3.8-19.8-11.4-.1-.8-.8-1.4-1.7-1.4h-7.5c-.9 0-1.7.7-1.7 1.7 0 9.7 5.3 21.3 30.6 21.3 18.5 0 29-7.2 29-19.8zm54.5-50.1c0 6.1-5 11.1-11.1 11.1s-11.1-5-11.1-11.1c0-6.3 5.2-11.1 11.1-11.1 6-.1 11.1 4.8 11.1 11.1zm-1.8 0c0-5.2-4.2-9.3-9.4-9.3-5.1 0-9.3 4.1-9.3 9.3 0 5.2 4.2 9.4 9.3 9.4 5.2-.1 9.4-4.3 9.4-9.4zm-4.5 6.2h-2.6c-.1-.6-.5-3.8-.5-3.9-.2-.7-.4-1.1-1.3-1.1h-2.2v5h-2.4v-12.5h4.3c1.5 0 4.4 0 4.4 3.3 0 2.3-1.5 2.8-2.4 3.1 1.7.1 1.8 1.2 2.1 2.8.1 1 .3 2.7.6 3.3zm-2.8-8.8c0-1.7-1.2-1.7-1.8-1.7h-2v3.5h1.9c1.6 0 1.9-1.1 1.9-1.8zM137.3 191c0-2.7-1.4-5.1-3.7-6.4l-61.3-35.3c-1-.6-2.2-.9-3.4-1h-.6c-1.2 0-2.3.4-3.4 1L3.7 184.6C1.4 185.9 0 188.4 0 191l.1 95c0 1.3.7 2.5 1.8 3.2 1.1.7 2.5.7 3.7 0L42 268.3c2.3-1.4 3.7-3.8 3.7-6.4v-44.4c0-2.6 1.4-5.1 3.7-6.4l15.5-8.9c1.2-.7 2.4-1 3.7-1 1.3 0 2.6.3 3.7 1l15.5 8.9c2.3 1.3 3.7 3.8 3.7 6.4v44.4c0 2.6 1.4 5.1 3.7 6.4l36.4 20.9c1.1.7 2.6.7 3.7 0 1.1-.6 1.8-1.9 1.8-3.2l.2-95zM472.5 87.3v176.4c0 2.6-1.4 5.1-3.7 6.4l-61.3 35.4c-2.3 1.3-5.1 1.3-7.4 0l-61.3-35.4c-2.3-1.3-3.7-3.8-3.7-6.4v-70.8c0-2.6 1.4-5.1 3.7-6.4l61.3-35.4c2.3-1.3 5.1-1.3 7.4 0l15.3 8.8c1.7 1 3.9-.3 3.9-2.2v-94c0-2.8 3-4.6 5.5-3.2l36.5 20.4c2.3 1.2 3.8 3.7 3.8 6.4zm-46 128.9c0-.7-.4-1.3-.9-1.6l-21-12.2c-.6-.3-1.3-.3-1.9 0l-21 12.2c-.6.3-.9.9-.9 1.6v24.3c0 .7.4 1.3.9 1.6l21 12.1c.6.3 1.3.3 1.8 0l21-12.1c.6-.3.9-.9.9-1.6v-24.3zm209.8-.7c2.3-1.3 3.7-3.8 3.7-6.4V192c0-2.6-1.4-5.1-3.7-6.4l-60.9-35.4c-2.3-1.3-5.1-1.3-7.4 0l-61.3 35.4c-2.3 1.3-3.7 3.8-3.7 6.4v70.8c0 2.7 1.4 5.1 3.7 6.4l60.9 34.7c2.2 1.3 5 1.3 7.3 0l36.8-20.5c2.5-1.4 2.5-5 0-6.4L550 241.6c-1.2-.7-1.9-1.9-1.9-3.2v-22.2c0-1.3.7-2.5 1.9-3.2l19.2-11.1c1.1-.7 2.6-.7 3.7 0l19.2 11.1c1.1.7 1.9 1.9 1.9 3.2v17.4c0 2.8 3.1 4.6 5.6 3.2l36.7-21.3zM559 219c-.4.3-.7.7-.7 1.2v13.6c0 .5.3 1 .7 1.2l11.8 6.8c.4.3 1 .3 1.4 0L584 235c.4-.3.7-.7.7-1.2v-13.6c0-.5-.3-1-.7-1.2l-11.8-6.8c-.4-.3-1-.3-1.4 0L559 219zm-254.2 43.5v-70.4c0-2.6-1.6-5.1-3.9-6.4l-61.1-35.2c-2.1-1.2-5-1.4-7.4 0l-61.1 35.2c-2.3 1.3-3.9 3.7-3.9 6.4v70.4c0 2.8 1.9 5.2 4 6.4l61.2 35.2c2.4 1.4 5.2 1.3 7.4 0l61-35.2c1.8-1 3.1-2.7 3.6-4.7.1-.5.2-1.1.2-1.7zm-74.3-124.9l-.8.5h1.1l-.3-.5zm76.2 130.2l-.4-.7v.9l.4-.2z"})))}var Kn,$n=i.forwardRef(Jn);t.p;function Wn(){return(Wn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Yn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Qn(e,n){var t=e.title,r=e.titleId,a=Yn(e,["title","titleId"]);return i.createElement("svg",Wn({xmlns:"http://www.w3.org/2000/svg",viewBox:"-64.9 417 256 61.369",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Kn||(Kn=i.createElement("path",{d:"M-33.33 422.558h-13.125v40.558h-5.32v-40.558H-64.9V417.7h31.453v4.848h.118zm25.188 8.158l-14.9 37.602c-2.72 6.74-6.385 10.05-11.233 10.05-1.3 0-2.483-.118-3.43-.355V473.4c1.064.355 2.128.6 3.074.6 2.6 0 4.612-1.537 5.912-4.73l2.6-6.15-12.652-32.4h5.794l8.75 24.95c.118.355.355 1.182.7 2.483h.236c.118-.473.355-1.3.6-2.365l9.223-25.068h5.32zm8.75 27.788H.5v19.63h-5.203v-47.298H.5v5.676h.118c2.6-4.257 6.267-6.503 11.233-6.503 4.14 0 7.45 1.42 9.814 4.375s3.547 6.74 3.547 11.706c0 5.44-1.3 9.814-3.902 13.007s-6.267 4.848-10.88 4.848c-4.257 0-7.45-1.774-9.814-5.44zM.5 445.38v4.493c0 2.72.828 4.966 2.6 6.858s3.902 2.838 6.622 2.838c3.193 0 5.558-1.182 7.45-3.666s2.72-5.794 2.72-10.05c0-3.666-.828-6.385-2.483-8.514-1.655-2-3.902-3.074-6.74-3.074-3.074 0-5.44 1.064-7.33 3.193S.5 442.186.5 445.38zm56.758 2.838h-22.94c.118 3.666 1.064 6.385 2.956 8.395s4.375 2.956 7.686 2.956c3.666 0 6.976-1.182 10.05-3.666v4.848c-2.838 2.128-6.622 3.074-11.352 3.074-4.612 0-8.16-1.42-10.76-4.375s-3.902-7.095-3.902-12.416c0-5.085 1.42-9.105 4.257-12.297s6.385-4.73 10.642-4.73 7.568 1.42 9.814 4.14c2.365 2.72 3.43 6.503 3.43 11.47v2.6h.118zm-5.32-4.375c0-2.956-.7-5.32-2.128-6.976s-3.43-2.483-5.912-2.483-4.493.828-6.267 2.6c-1.655 1.774-2.72 4.02-3.193 6.858h17.5zm8.16 17.737v-3.547c3.3 2.128 6.503 3.074 9.933 3.074 3.547 0 6.267-.7 8.04-2.247 1.892-1.42 2.72-3.547 2.72-6.15 0-2.365-.6-4.14-1.892-5.558-1.182-1.42-3.902-3.3-8.04-5.676-4.612-2.72-7.568-4.966-8.75-6.74a11.2 11.2 0 0 1-1.892-6.267c0-3.193 1.3-5.912 3.784-8.16s5.79-3.31 9.93-3.31c2.72 0 5.44.473 8.16 1.42v3.3a21.13 21.13 0 0 0-8.514-1.774c-3.074 0-5.558.828-7.33 2.365s-2.72 3.547-2.72 5.912.6 4.14 1.892 5.558c1.182 1.42 3.902 3.193 8.04 5.558 4.257 2.365 7.095 4.493 8.514 6.385s2.128 4.02 2.128 6.503c0 3.43-1.182 6.267-3.666 8.514-2.365 2.247-5.794 3.3-10.287 3.3-1.537 0-3.3-.236-5.44-.7-1.892-.6-3.43-1.182-4.612-1.774zm51.436.118c-2.365 1.42-5.32 2.247-8.632 2.247-4.375 0-7.922-1.537-10.642-4.493-2.72-3.074-4.02-6.976-4.02-11.943 0-5.203 1.537-9.34 4.612-12.652s6.976-4.966 11.706-4.966c2.483 0 4.848.473 7.213 1.537v3.3a14.47 14.47 0 0 0-7.686-2.128c-3.784 0-6.858 1.42-9.223 4.14S91.3 443.014 91.3 447.4c0 4.257 1.064 7.568 3.193 10.17s4.966 3.784 8.514 3.784c3.193 0 6.03-.828 8.514-2.6v2.956zm19.63-27.906c-.946-.7-2.128-1.064-3.43-1.064-2.6 0-4.73 1.3-6.385 3.902-1.774 2.6-2.6 6.385-2.6 11.233v15.254H115.9v-32.4h2.838v7.213h.118c.7-2.483 1.892-4.375 3.547-5.794s3.43-2 5.557-2c1.182 0 2.247.236 3.193.6v3.074zm4.966-11.233c-.6 0-1.182-.236-1.655-.7s-.7-1.064-.7-1.774.236-1.3.7-1.655c.473-.473 1.064-.6 1.655-.6.7 0 1.182.236 1.774.6.473.473.7.946.7 1.655s-.236 1.3-.7 1.774c-.6.473-1.064.7-1.774.7zm-1.42 40.676v-32.4h2.956v32.4H134.7zm13.125-5.794h-.118v20.693h-2.956v-47.298h2.956v6.74h.118c1.182-2.365 2.838-4.257 4.966-5.558s4.493-1.892 7.095-1.892c4.14 0 7.33 1.42 9.696 4.257s3.43 6.74 3.43 11.588c0 5.44-1.3 9.814-4.02 13.125-2.6 3.3-6.15 4.966-10.524 4.966-4.73-.118-8.277-2.247-10.642-6.622zm-.118-12.06v4.14c0 3.3 1.064 6.03 3.074 8.395s4.73 3.547 8.04 3.547 6.03-1.42 8.04-4.257 3.074-6.622 3.074-11.233c0-4.02-.946-7.33-2.838-9.696s-4.493-3.547-7.568-3.547c-3.784 0-6.74 1.3-8.75 3.784s-3.074 5.44-3.074 8.868zm43.393 17.38c-1.537.7-2.956 1.064-4.257 1.064-4.848 0-7.213-2.838-7.213-8.632v-21.757h-5.794v-2.72h5.794v-8.395c.473-.118.946-.355 1.42-.473s.946-.355 1.42-.473v9.46h8.514v2.72h-8.514v21.402c0 2.247.355 3.902 1.064 4.848s1.892 1.537 3.547 1.537c1.182 0 2.483-.355 3.902-1.182v2.6h.118z"})))}var Xn,et,nt,tt,rt,it,at,ct,ot,st,lt,dt,ut,bt,pt,jt,ft,vt,ht,xt,gt,Ot,mt,yt,wt,Ct=i.forwardRef(Qn),kt=(t.p,h.c.footer(Xn||(Xn=Object(v.a)(["\n  /* background: black; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 0 30px;\n"])))),_t=h.c.a(et||(et=Object(v.a)(["\n  display: flex;\n  border: 1px solid var(--text-color-secondary);\n  border-radius: 5px;\n  padding: 15px 20px;\n  align-items: center;\n  margin-right: 25px;\n  min-width: 190px;\n  width: 150px;\n  svg {\n    width: 35px;\n    margin-right: 10px;\n    fill: var(--text-color-secondary);\n  }\n"]))),Et=h.c.div(nt||(nt=Object(v.a)(["\n  color: var(--text-color-secondary);\n"]))),St=h.c.div(tt||(tt=Object(v.a)(["\n  color: var(--text-color-secondary);\n"]))),zt=h.c.a(rt||(rt=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 18px;\n  color: var(--text-color-secondary);\n  margin-right: 25px;\n  :hover {\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n  svg {\n    width: 35px;\n    margin-right: 7px;\n    fill: var(--text-color-secondary);\n  }\n"]))),Mt=h.c.a(it||(it=Object(v.a)(["\n  margin-right: 25px;\n  svg {\n    width: 65px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Pt=h.c.a(at||(at=Object(v.a)(["\n  margin-right: 15px;\n  svg {\n    width: 95px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Lt=h.c.a(ct||(ct=Object(v.a)(["\n  margin-right: 15px;\n  svg {\n    min-width: 65px;\n    width: 120px;\n    height: 60px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),It=h.c.a(ot||(ot=Object(v.a)(["\n  margin-right: 20px;\n  svg {\n    width: 90px;\n    /* margin-right: 7px; */\n    fill: var(--text-color-secondary);\n  }\n"]))),Dt=function(){var e=Object(b.h)();return console.log("location",e.pathname.includes("conversation")),e.pathname.includes("conversation")?Object(Te.jsx)(Te.Fragment,{}):Object(Te.jsxs)(kt,{translate:"no",className:"footer notranslate",children:[Object(Te.jsxs)(_t,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/antonlavrinov/social-media",children:[Object(Te.jsx)(gn,{}),Object(Te.jsxs)(Et,{children:["Created by",Object(Te.jsx)(St,{children:"Anton Lavrinov"})]})]}),Object(Te.jsxs)(zt,{target:"_blank",rel:"noopener noreferrer",href:"https://reactjs.org/",children:[Object(Te.jsx)(In,{}),"React"]}),Object(Te.jsx)(Mt,{target:"_blank",rel:"noopener noreferrer",href:"https://nodejs.org/en/",children:Object(Te.jsx)($n,{})}),Object(Te.jsx)(Pt,{target:"_blank",rel:"noopener noreferrer",href:"https://www.mongodb.com/",children:Object(Te.jsx)(qn,{})}),Object(Te.jsx)(Lt,{target:"_blank",rel:"noopener noreferrer",href:"https://socket.io/",children:Object(Te.jsx)(Hn,{})}),Object(Te.jsx)(It,{target:"_blank",rel:"noopener noreferrer",href:"https://www.typescriptlang.org/",children:Object(Te.jsx)(Ct,{})})]})},Rt=Object(h.c)(l.b)(st||(st=Object(v.a)(["\n  font-size: 25px;\n  font-size: 28px;\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  color: var(--text-color-link);\n  display: flex;\n  align-items: center;\n  margin-right: 55px;\n  margin-left: 5px;\n  svg {\n    fill: var(--color-primary);\n    min-width: 10px;\n    margin-right: 10px;\n  }\n  :hover {\n    font-size: 25px;\n    font-size: 28px;\n    font-family: var(--font-family-secondary);\n    font-weight: 700;\n    color: var(--text-color-link);\n  }\n"]))),Nt=h.c.div(lt||(lt=Object(v.a)(["\n  width: 960px;\n  margin: 0 auto;\n"]))),Tt=h.c.div(dt||(dt=Object(v.a)(["\n  display: flex;\n"]))),Ut=h.c.header(ut||(ut=Object(v.a)(["\n  border-bottom: var(--border-primary);\n  box-shadow: var(--shadow-primary);\n  margin-bottom: 15px;\n"]))),qt=h.c.div(bt||(bt=Object(v.a)(["\n  display: flex;\n  /* padding: 20px 0; */\n  position: relative;\n"]))),Bt=h.c.nav(pt||(pt=Object(v.a)(["\n  min-width: 170px;\n  margin-right: 10px;\n"]))),Ft=Object(h.c)(l.b)(jt||(jt=Object(v.a)(["\n  font-size: var(--font-size-secondary);\n  display: flex;\n  align-items: center;\n  padding: 5px 5px;\n  border-radius: var(--border-radius-primary);\n  position: relative;\n  color: var(--color-black);\n  /* font-weight: 600; */\n  svg {\n    margin-right: 3px;\n    height: var(--icon-size-primary);\n    width: var(--icon-size-primary);\n    height: 35px;\n    width: 35px;\n    fill: var(--color-primary);\n    /* "," */\n  }\n  :hover {\n    background: var(--color-secondary);\n    font-size: var(--font-size-secondary);\n    /* font-weight: 600; */\n  }\n"])),ce),At=h.c.div(ft||(ft=Object(v.a)(["\n  display: flex;\n  margin-right: 5px;\n  position: relative;\n"]))),Zt=h.c.div(vt||(vt=Object(v.a)(["\n  display: flex;\n  align-items: center;\n\n  margin-left: auto;\n  /* padding: 15px 0; */\n"]))),Ht=h.c.div(ht||(ht=Object(v.a)(["\n  display: flex;\n  align-items: center;\n\n  height: 100%;\n  padding: 15px 5px;\n  img {\n    align-self: center;\n  }\n  :hover {\n    cursor: pointer;\n    background: var(--color-secondary);\n  }\n"]))),Vt=(h.c.img(xt||(xt=Object(v.a)(["\n  width: 38px;\n  height: 38px;\n  border-radius: 100px;\n  margin-right: 10px;\n"]))),h.c.div(gt||(gt=Object(v.a)(["\n  font-size: var(--text-size-secondary);\n  margin-right: 10px;\n"])))),Gt=h.c.div(Ot||(Ot=Object(v.a)(["\n  padding: 15px 0;\n"]))),Jt=h.c.div(mt||(mt=Object(v.a)([""]))),Kt=h.c.div(yt||(yt=Object(v.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),$t=function(e){var n=e.children,t=Object(i.useContext)(u),r=t.logout,a=t.meUserData,c=t.notifications,o=t.setNotifications,s=t.conversations,d=cn(),b=d.visible,p=d.show,v=d.hide,h=ke().request,x=function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("/api/auth/logout","POST");case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=0;s.forEach((function(e){e.messages.forEach((function(e){e.isRead||e.user._id===(null===a||void 0===a?void 0:a._id)||g++}))}));var O=0;c.forEach((function(e){"sent you a\xa0friend\xa0request"!==e.text||e.isRead||(console.log("notification",e.text),console.log("passed"),O++)})),console.log("pendingFriendRequestsCount",O);var m=Object(Te.jsx)(de,{children:Object(Te.jsxs)(Jt,{onClick:b?v:p,children:[Object(Te.jsx)(l.b,{to:"/profile/edit/".concat(null===a||void 0===a?void 0:a._id),children:Object(Te.jsx)(Kt,{children:"Edit profile"})}),Object(Te.jsx)(Kt,{onClick:x,children:"Sign out"})]})});return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Ut,{children:Object(Te.jsx)(Nt,{children:Object(Te.jsxs)(qt,{children:[Object(Te.jsx)(Rt,{to:"/",children:"intouch"}),Object(Te.jsx)(Gt,{children:Object(Te.jsx)(Ze,{meUserData:a})}),Object(Te.jsxs)(Zt,{children:[Object(Te.jsx)(jn,{setNotifications:o,notifications:c}),Object(Te.jsx)(He.a,{content:m,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,0],onClickOutside:v,visible:b,children:Object(Te.jsxs)(Ht,{onClick:b?v:p,children:[Object(Te.jsx)(fe,{marginRight:"10px",size:"medium-small",src:null===a||void 0===a?void 0:a.avatar}),Object(Te.jsx)(Vt,{children:null===a||void 0===a?void 0:a.firstName}),Object(Te.jsx)(ne,{})]})})]})]})})}),Object(Te.jsx)(Nt,{children:Object(Te.jsxs)(Tt,{children:[Object(Te.jsxs)(Bt,{children:[Object(Te.jsxs)(Ft,{to:"/profile/".concat(null===a||void 0===a?void 0:a._id),children:[Object(Te.jsx)(At,{children:Object(Te.jsx)(y,{})}),"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]}),Object(Te.jsxs)(Ft,{to:"/messages",children:[Object(Te.jsxs)(At,{children:[Object(Te.jsx)(E,{}),0!==g&&Object(Te.jsx)(xe,{top:"-7px",right:"-3px",children:g})]}),"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"]}),Object(Te.jsxs)(Ft,{to:"/friends",children:[Object(Te.jsx)(At,{children:Object(Te.jsx)(L,{})}),"\u0414\u0440\u0443\u0437\u044c\u044f"]})]}),Object(Te.jsx)("main",{children:n})]})}),Object(Te.jsx)(Dt,{})]})},Wt=t(40);function Yt(){return(Yt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Qt(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Xt(e,n){var t=e.title,r=e.titleId,a=Qt(e,["title","titleId"]);return i.createElement("svg",Yt({width:10,height:10,viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,wt||(wt=i.createElement("path",{d:"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z"})))}var er,nr,tr,rr,ir,ar,cr,or,sr,lr,dr,ur,br,pr,jr,fr=i.forwardRef(Xt),vr=(t.p,h.c.div(er||(er=Object(v.a)(["\n  background: var(--color-dark-grey);\n  border-radius: var(--border-radius-primary);\n  padding: 15px;\n  padding-right: 30px;\n  display: flex;\n  min-width: 344px !important;\n  max-width: 344px !important;\n  position: relative;\n  svg {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    fill: rgba(256, 256, 256, 0.5);\n    :hover {\n      cursor: pointer;\n    }\n  }\n"])))),hr=h.c.div(nr||(nr=Object(v.a)([""]))),xr=h.c.div(tr||(tr=Object(v.a)(["\n  color: white;\n"]))),gr=Object(i.forwardRef)((function(e,n){var t=e.id,r=e.message,i=e.type,a=Object(Wt.b)().closeSnackbar;return console.log("type",i),Object(Te.jsxs)(vr,{ref:n,children:[Object(Te.jsx)(fe,{style:{marginRight:"10px"},src:r.user.avatar,size:"small"}),Object(Te.jsx)(hr,{children:Object(Te.jsxs)(xr,{children:[r.user.firstName," ",r.user.lastName," ",r.text]})}),Object(Te.jsx)(fr,{onClick:function(){return a(t)}})]})})),Or=h.c.div(rr||(rr=Object(v.a)(["\n  background: var(--color-green);\n  border-radius: var(--border-radius-primary);\n  padding: 15px;\n  padding-right: 30px;\n  display: flex;\n  min-width: 344px !important;\n  max-width: 344px !important;\n  position: relative;\n  svg {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    fill: rgba(256, 256, 256, 0.5);\n    :hover {\n      cursor: pointer;\n    }\n  }\n  ","\n"])),(function(e){return"error"===e.type&&"\n    background: var(--color-red);\n  "})),mr=h.c.div(ir||(ir=Object(v.a)([""]))),yr=h.c.div(ar||(ar=Object(v.a)(["\n  color: white;\n"]))),wr=Object(i.forwardRef)((function(e,n){var t=e.id,r=e.message,i=Object(Wt.b)().closeSnackbar;return console.log("mes",r),Object(Te.jsxs)(Or,{ref:n,type:r.type,children:[Object(Te.jsx)(mr,{children:Object(Te.jsx)(yr,{children:r.text})}),Object(Te.jsx)(fr,{onClick:function(){return i(t)}})]})})),Cr=function(){var e=Object(Wt.b)().enqueueSnackbar;return{handleNotification:function(n,t){console.log("variant",t),e(n,{variant:t,content:function(e,n){return Object(Te.jsx)(gr,{id:e,message:n})}})},handlePageNotification:function(n,t){e(n,{variant:t,content:function(e,n){return Object(Te.jsx)(wr,{id:e,message:n})}})}}},kr=t(108),_r=t.n(kr),Er=t(58),Sr=h.c.svg(cr||(cr=Object(v.a)(["\n  animation: rotate 1s linear infinite;\n  /* margin: 70px; */\n  width: 40px;\n  height: 40px;\n\n  & .path {\n    stroke: #5652bf;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n"]))),zr=function(){return Object(Te.jsx)(Sr,{viewBox:"0 0 50 50",children:Object(Te.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"3"})})},Mr=t(68),Pr=t.n(Mr),Lr=h.c.div(or||(or=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n  /* margin: 0 auto; */\n  border-radius: 100px;\n  margin-bottom: 10px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n\n  position: relative;\n  overflow: hidden;\n  background: var(--color-secondary);\n\n  ","\n  svg {\n    display: none;\n    width: 35px;\n    height: 35px;\n  }\n  :hover {\n    cursor: pointer;\n    div {\n      position: absolute;\n      top: 0;\n      left: 0;\n      background: rgba(0, 0, 0, 0.3);\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    svg {\n      display: block;\n      fill: white;\n    }\n  }\n"])),(function(e){return e.image&&"\n    background: url(".concat(e.image,");\n    background-size: cover;\n    background-position: center center;\n  ")})),Ir=h.c.div(sr||(sr=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n  /* margin: 0 auto; */\n  border-radius: 100px;\n  margin-bottom: 10px;\n  position: relative;\n  overflow: hidden;\n  background: var(--color-secondary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Dr=h.c.div(lr||(lr=Object(v.a)(["\n  display: flex;\n  position: relative;\n"]))),Rr=h.c.div(dr||(dr=Object(v.a)(["\n  min-width: 70px;\n  text-align: right;\n  margin-right: 20px;\n  color: var(--text-color-secondary);\n"]))),Nr=h.c.div(ur||(ur=Object(v.a)(["\n  margin-bottom: 10px;\n  width: 100%;\n"]))),Tr=h.c.div(br||(br=Object(v.a)(["\n  font-family: var(--font-family-secondary);\n  font-weight: 600;\n  text-align: center;\n  font-size: 16px;\n  letter-spacing: 0;\n"]))),Ur=(h.c.div(pr||(pr=Object(v.a)(["\n  border: var(--border-primary);\n  border-radius: var(--border-radius-primary);\n  padding: 8px 13px;\n  display: flex;\n  /* justify-content: flex-end; */\n  align-items: center;\n  svg {\n    margin-left: auto;\n  }\n"]))),function(){var e,n,t,r,a,c,o,l,d,b,p,v,h,x=Object(i.useContext)(u),g=Cr().handlePageNotification,O=x.meUserData,m=O.firstName,y=O.lastName,w=O.avatar,C=O.dateOfBirth,k=O.gender,_=O.aboutMe,E=O.city,S=Object(i.useState)({avatar:w,firstName:m,lastName:y,dateOfBirth:C,gender:k,aboutMe:_,city:E}),z=Object(s.a)(S,2),M=z[0],P=z[1],L=Object(i.useState)(!1),I=Object(s.a)(L,2),D=I[0],R=I[1],N=ke(),T=(N.error,N.request),U=N.loading,q=cn(),B=(q.visible,q.show,q.hide,Object(i.useState)(!1)),F=Object(s.a)(B,2),A=F[0],Z=F[1],H=Object(i.useRef)(null),V=Object(i.useState)({value:null===(e=new Date(M.dateOfBirth))||void 0===e?void 0:e.getDate(),label:null===(n=new Date(M.dateOfBirth))||void 0===n?void 0:n.getDate()}),G=Object(s.a)(V,2),J=G[0],K=G[1],$=Object(i.useState)({value:null===(t=new Date(M.dateOfBirth))||void 0===t?void 0:t.getMonth(),label:["January","February","March","April","May","June","July","August","September","October","November","December"][null===(r=new Date(M.dateOfBirth))||void 0===r?void 0:r.getMonth()]}),W=Object(s.a)($,2),Y=W[0],Q=W[1],X=Object(i.useState)({value:null===(a=new Date(M.dateOfBirth))||void 0===a?void 0:a.getFullYear(),label:null===(c=new Date(M.dateOfBirth))||void 0===c?void 0:c.getFullYear()}),ee=Object(s.a)(X,2),ne=ee[0],te=ee[1],re=Object(i.useState)({value:null===(o=x.meUserData)||void 0===o?void 0:o.gender,label:"".concat((null===(l=x.meUserData)||void 0===l?void 0:l.gender)?null===(d=x.meUserData)||void 0===d?void 0:d.gender[0].toUpperCase():"").concat((null===(b=x.meUserData)||void 0===b?void 0:b.gender)?null===(p=x.meUserData)||void 0===p?void 0:p.gender.slice(1):"")}),ie=Object(s.a)(re,2),ae=ie[0],ce=ie[1];console.log("selectedGenderOption",ae),console.log("gender",null===(v=x.meUserData)||void 0===v?void 0:v.gender);var oe=function(){var e=Object(f.a)(j.a.mark((function e(n){var t,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,console.log("submit",new Date(Number(ne.value),Number(Y.value),Number(J.value)),ne,Y,J,new Date(2017,4,32)),e.next=5,T("/api/user/".concat(x.meUserData._id),"PUT",Object(Ge.a)(Object(Ge.a)({},M),{},{gender:ae.value,dateOfBirth:new Date(ne.value,Y.value,J.value)}));case 5:t=e.sent,r={text:t.message,type:"success"},x.setMeUserData((function(e){return Object(Ge.a)(Object(Ge.a)({},e),M)})),g(r),R(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),i={text:e.t0.message,type:"error"},g(i);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}(),se=function(e){P(Object(Ge.a)(Object(Ge.a)({},M),{},Object(Oe.a)({},e.target.name,e.target.value))),R(!0)},fe=function(e){return new Promise((function(n){Pr.a.imageFileResizer(e,300,600,"JPEG",80,0,(function(e){n(e)}),"base64")}))},ve=function(){var e=Object(f.a)(j.a.mark((function e(n){var t,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.files){e.next=20;break}return Z(!0),t=n.target.files[0],e.next=5,fe(t);case 5:return r=e.sent,e.prev=6,e.next=9,T("/api/upload-image","POST",{image:r});case 9:i=e.sent,console.log("image upload res",i),P(Object(Ge.a)(Object(Ge.a)({},M),{},{avatar:i.url})),Z(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),Z(!1);case 19:R(!0);case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(n){return e.apply(this,arguments)}}();return Object(Te.jsxs)(de,{style:{maxWidth:"480px"},children:[Object(Te.jsx)(ue,{children:Object(Te.jsx)(Tr,{children:"Edit profile"})}),Object(Te.jsx)(je,{}),Object(Te.jsx)(ue,{style:{padding:"30px"},children:Object(Te.jsxs)("form",{noValidate:!0,onSubmit:oe,children:[Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{children:"Avatar:"}),Object(Te.jsx)(Nr,{style:{display:"flex"},children:A?Object(Te.jsx)(Ir,{children:Object(Te.jsx)(zr,{})}):Object(Te.jsxs)("label",{children:[Object(Te.jsx)(Lr,{image:M.avatar,children:Object(Te.jsx)("div",{children:Object(Te.jsx)(_r.a,{})})}),Object(Te.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:ve,ref:H,style:{display:"none"}})]})})]}),Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{children:"Name:"}),Object(Te.jsxs)(Nr,{style:{display:"flex"},children:[Object(Te.jsx)(be,{name:"firstName",id:"firstName",value:M.firstName,onChange:se,disabled:U,style:{marginRight:"10px"}}),Object(Te.jsx)(be,{name:"lastName",id:"lastName",value:M.lastName,onChange:se,disabled:U})]})]}),Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{children:"Gender:"}),Object(Te.jsx)(Nr,{children:Object(Te.jsx)(Er.a,{value:ae,onChange:function(e){ce(e),R(!0)},options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],placeholder:"Select gender",defaultValue:null===(h=x.meUserData)||void 0===h?void 0:h.gender,className:"customSelect",classNamePrefix:"customSelectInner"})})]}),Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{children:"Birthday:"}),Object(Te.jsxs)(Nr,{style:{display:"flex",justifyContent:"space-between"},children:[Object(Te.jsx)(Er.a,{value:J,onChange:function(e){K(e),R(!0)},options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],placeholder:"Select gender",className:"daySelect",classNamePrefix:"customSelectInner"}),Object(Te.jsx)(Er.a,{value:Y,onChange:function(e){Q(e),R(!0)},options:[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}],placeholder:"Select gender",className:"monthSelect",classNamePrefix:"customSelectInner"}),Object(Te.jsx)(Er.a,{value:ne,onChange:function(e){te(e),R(!0)},options:[{value:"2021",label:"2021"},{value:"2020",label:"2020"},{value:"2019",label:"2019"},{value:"2018",label:"2018"},{value:"2017",label:"2017"},{value:"2016",label:"2016"},{value:"2015",label:"2015"},{value:"2014",label:"2014"},{value:"2013",label:"2013"},{value:"2012",label:"2012"},{value:"2011",label:"2011"},{value:"2010",label:"2010"},{value:"2009",label:"2009"},{value:"2008",label:"2008"},{value:"2007",label:"2007"},{value:"2006",label:"2006"},{value:"2005",label:"2005"},{value:"2004",label:"2004"},{value:"2003",label:"2003"},{value:"2002",label:"2002"},{value:"2001",label:"2001"},{value:"2000",label:"2000"},{value:"1999",label:"1999"},{value:"1998",label:"1998"},{value:"1997",label:"1997"},{value:"1996",label:"1996"},{value:"1995",label:"1995"},{value:"1994",label:"1994"},{value:"1993",label:"1993"},{value:"1992",label:"1992"},{value:"1991",label:"1991"},{value:"1990",label:"1990"},{value:"1989",label:"1989"},{value:"1988",label:"1988"},{value:"1987",label:"1987"},{value:"1986",label:"1986"},{value:"1985",label:"1985"},{value:"1984",label:"1984"},{value:"1983",label:"1983"},{value:"1982",label:"1982"},{value:"1981",label:"1981"},{value:"1980",label:"1980"},{value:"1979",label:"1979"},{value:"1978",label:"1978"},{value:"1977",label:"1977"},{value:"1976",label:"1976"},{value:"1975",label:"1975"},{value:"1974",label:"1974"},{value:"1973",label:"1973"},{value:"1972",label:"1972"},{value:"1971",label:"1971"},{value:"1970",label:"1970"},{value:"1969",label:"1969"},{value:"1968",label:"1968"},{value:"1967",label:"1967"},{value:"1966",label:"1966"},{value:"1965",label:"1965"},{value:"1964",label:"1964"},{value:"1963",label:"1963"},{value:"1962",label:"1962"},{value:"1961",label:"1961"},{value:"1960",label:"1960"},{value:"1959",label:"1959"},{value:"1958",label:"1958"},{value:"1957",label:"1957"},{value:"1956",label:"1956"},{value:"1955",label:"1955"},{value:"1954",label:"1954"},{value:"1953",label:"1953"},{value:"1952",label:"1952"},{value:"1951",label:"1951"},{value:"1950",label:"1950"},{value:"1949",label:"1949"},{value:"1948",label:"1948"},{value:"1947",label:"1947"},{value:"1946",label:"1946"},{value:"1945",label:"1945"},{value:"1944",label:"1944"},{value:"1943",label:"1943"},{value:"1942",label:"1942"},{value:"1941",label:"1941"},{value:"1940",label:"1940"},{value:"1939",label:"1939"},{value:"1938",label:"1938"}],placeholder:"Select gender",className:"yearSelect",classNamePrefix:"customSelectInner"})]})]}),Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{children:"City:"}),Object(Te.jsx)(Nr,{children:Object(Te.jsx)(be,{name:"city",id:"city",value:M.city,onChange:se,disabled:U})})]}),Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{children:"About\xa0me:"}),Object(Te.jsx)(Nr,{children:Object(Te.jsx)(pe,{$focuse:!0,name:"aboutMe",id:"aboutMe",value:M.aboutMe,onChange:se,disabled:U,style:{width:"100%",resize:"none"}})})]}),Object(Te.jsxs)(Dr,{children:[Object(Te.jsx)(Rr,{}),Object(Te.jsx)(Nr,{children:Object(Te.jsx)(le,{size:"small",type:"submit",disabled:U||!D,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})})]})}),qr=Object(i.createContext)({online:[],setOnline:function(){}});function Br(){return new URLSearchParams(Object(b.h)().search)}function Fr(){return(Fr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Ar(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Zr(e,n){var t=e.title,r=e.titleId,a=Ar(e,["title","titleId"]);return i.createElement("svg",Fr({width:22,height:22,viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,jr||(jr=i.createElement("path",{d:"M20.7111 12.6406L19.3361 11.8242C19.3361 11.5234 19.379 11.0508 19.379 10.75C19.379 10.4922 19.3361 10.0195 19.3361 9.71875L20.7111 8.90234C21.1407 8.6875 21.3126 8.17188 21.1837 7.74219C20.7111 6.10938 19.8517 4.64844 18.7345 3.44531C18.3907 3.10156 17.8751 3.01562 17.4454 3.27344L16.0704 4.08984C15.5978 3.70312 14.7814 3.23047 14.2228 3.01562V1.42578C14.2228 0.910156 13.922 0.523438 13.4493 0.394531C11.8165 0.0078125 10.1407 0.0078125 8.50793 0.394531C8.03527 0.523438 7.73449 0.910156 7.73449 1.42578V3.01562C7.1759 3.23047 6.35949 3.70312 5.88684 4.08984L4.51184 3.27344C4.08215 3.01562 3.56653 3.10156 3.22278 3.44531C2.10559 4.64844 1.24621 6.10938 0.773556 7.74219C0.64465 8.17188 0.816525 8.6875 1.24621 8.90234L2.62121 9.71875C2.62121 10.0195 2.57824 10.4922 2.57824 10.75C2.57824 11.0508 2.62121 11.5234 2.62121 11.8242L1.24621 12.6406C0.816525 12.8555 0.64465 13.3711 0.773556 13.8008C1.24621 15.4336 2.10559 16.8945 3.22278 18.0977C3.56653 18.4414 4.08215 18.5273 4.51184 18.2695L5.88684 17.4531C6.35949 17.8398 7.1759 18.3125 7.73449 18.5273V20.1172C7.73449 20.6328 8.03527 21.0195 8.50793 21.1484C10.1407 21.5352 11.8165 21.5352 13.4493 21.1484C13.922 21.0195 14.2228 20.6328 14.2228 20.1172V18.5273C14.7814 18.3125 15.5978 17.8398 16.0704 17.4531L17.4454 18.2695C17.8751 18.5273 18.3907 18.4414 18.7345 18.0977C19.8517 16.8945 20.7111 15.4336 21.1837 13.8008C21.3126 13.3711 21.1407 12.8555 20.7111 12.6406ZM17.9181 16.9375L15.8986 15.7773C14.7384 16.8086 14.3517 17.0234 12.8478 17.582V19.8594C12.3322 19.9883 11.5157 20.0742 11.0001 20.0742C10.4415 20.0742 9.62512 19.9883 9.10949 19.8594V17.582C7.64856 17.0664 7.21887 16.8086 6.05871 15.7773L4.03918 16.9375C3.22278 15.9922 2.57824 14.875 2.14856 13.6719L4.16809 12.5547C3.86731 11.0078 3.86731 10.5352 4.16809 8.98828L2.14856 7.87109C2.57824 6.66797 3.22278 5.55078 4.03918 4.60547L6.05871 5.76562C7.21887 4.73438 7.64856 4.47656 9.10949 3.96094V1.68359C9.62512 1.55469 10.4415 1.46875 11.0001 1.46875C11.5157 1.46875 12.3322 1.55469 12.8478 1.68359V3.96094C14.3087 4.47656 14.7384 4.73438 15.8986 5.76562L17.9181 4.60547C18.7345 5.55078 19.379 6.66797 19.8087 7.87109L17.7892 8.98828C18.09 10.5352 18.09 11.0078 17.7892 12.5547L19.8087 13.6719C19.379 14.875 18.7345 15.9922 17.9181 16.9375ZM11.0001 6.625C8.72278 6.625 6.87512 8.51562 6.87512 10.75C6.87512 13.0273 8.72278 14.875 11.0001 14.875C13.2345 14.875 15.1251 13.0273 15.1251 10.75C15.1251 8.51562 13.2345 6.625 11.0001 6.625ZM11.0001 13.5C9.45324 13.5 8.25012 12.2969 8.25012 10.75C8.25012 9.24609 9.45324 8 11.0001 8C12.504 8 13.7501 9.24609 13.7501 10.75C13.7501 12.2969 12.504 13.5 11.0001 13.5Z"})))}var Hr,Vr,Gr,Jr,Kr=i.forwardRef(Zr),$r=(t.p,h.c.div(Hr||(Hr=Object(v.a)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  svg {\n    ","\n  }\n"])),ie)),Wr=h.c.div(Vr||(Vr=Object(v.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 15px;\n"]))),Yr=h.c.div(Gr||(Gr=Object(v.a)([""]))),Qr=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(!1),c=Object(s.a)(a,2),o=c[0],l=c[1],d=Cr().handlePageNotification,u=ke().request,b=function(e){return new Promise((function(n){Pr.a.imageFileResizer(e,700,700,"JPEG",80,0,(function(e){n(e)}),"base64")}))};return{handleUploadImages:function(){var e=Object(f.a)(j.a.mark((function e(n){var t,i,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),n.preventDefault(),!n.target.files){e.next=21;break}t=0;case 4:if(!(t<n.target.files.length)){e.next=21;break}return i=n.target.files[t],e.next=8,b(i);case 8:return a=e.sent,e.prev=9,e.delegateYield(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/api/upload-image","POST",{image:a});case 2:t=e.sent,r((function(e){return[t].concat(Object(Ve.a)(e))})),n.target.files=null,n.target.value="",l(!1);case 7:case"end":return e.stop()}}),e)}))(),"t0",11);case 11:e.next=18;break;case 13:e.prev=13,e.t1=e.catch(9),console.log(e.t1),d({type:"error",text:e.t1.message}),l(!1);case 18:t++,e.next=4;break;case 21:case"end":return e.stop()}}),e,null,[[9,13]])})));return function(n){return e.apply(this,arguments)}}(),handleRemoveImage:function(){var e=Object(f.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((function(e){return e.filter((function(e){return e.public_id!==n.public_id}))})),e.prev=1,e.next=4,u("/api/remove-image/".concat(n.public_id),"DELETE");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}(),images:t,setImages:r,imageLoading:o}},Xr=t(109);function ei(){return(ei=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ni(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ti(e,n){var t=e.title,r=e.titleId,a=ni(e,["title","titleId"]);return i.createElement("svg",ei({width:22,height:20,viewBox:"0 0 22 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Jr||(Jr=i.createElement("path",{d:"M11 16.2812C13.8359 16.2812 16.1562 14.0039 16.1562 11.125C16.1562 8.28906 13.8359 5.96875 11 5.96875C8.12109 5.96875 5.84375 8.28906 5.84375 11.125C5.84375 14.0039 8.12109 16.2812 11 16.2812ZM11 7.34375C13.0625 7.34375 14.7812 9.0625 14.7812 11.125C14.7812 13.2305 13.0625 14.9062 11 14.9062C8.89453 14.9062 7.21875 13.2305 7.21875 11.125C7.21875 9.0625 8.89453 7.34375 11 7.34375ZM9.625 11.125C9.625 10.3945 10.2266 9.75 11 9.75C11.3438 9.75 11.6875 9.44922 11.6875 9.0625C11.6875 8.71875 11.3438 8.375 11 8.375C9.45312 8.375 8.25 9.62109 8.25 11.125C8.25 11.5117 8.55078 11.8125 8.9375 11.8125C9.28125 11.8125 9.625 11.5117 9.625 11.125ZM13.9219 1.5C14.0508 1.5 14.1797 1.62891 14.2227 1.75781L15.168 4.25H19.9375C20.2812 4.25 20.625 4.59375 20.625 4.9375V17.3125C20.625 17.6992 20.2812 18 19.9375 18H2.0625C1.67578 18 1.375 17.6992 1.375 17.3125V4.9375C1.375 4.59375 1.67578 4.25 2.0625 4.25H6.78906L7.64844 1.97266C7.73438 1.71484 7.99219 1.5 8.29297 1.5H13.9219ZM13.9219 0.125H8.29297C7.43359 0.125 6.66016 0.683594 6.35938 1.5L5.84375 2.875H2.0625C0.902344 2.875 0 3.82031 0 4.9375V17.3125C0 18.4727 0.902344 19.375 2.0625 19.375H19.9375C21.0547 19.375 22 18.4727 22 17.3125V4.9375C22 3.82031 21.0547 2.875 19.9375 2.875H16.1562L15.5117 1.24219C15.2539 0.597656 14.6523 0.125 13.9219 0.125Z"})))}var ri,ii=i.forwardRef(ti);t.p;function ai(){return(ai=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ci(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function oi(e,n){var t=e.title,r=e.titleId,a=ci(e,["title","titleId"]);return i.createElement("svg",ai({width:22,height:22,viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,ri||(ri=i.createElement("path",{d:"M10.6562 0.09375C4.76953 0.09375 0 4.86328 0 10.75C0 16.6367 4.76953 21.4062 10.6562 21.4062C16.543 21.4062 21.3125 16.6367 21.3125 10.75C21.3125 4.86328 16.543 0.09375 10.6562 0.09375ZM10.6562 20.0312C5.5 20.0312 1.375 15.9062 1.375 10.75C1.375 5.63672 5.5 1.46875 10.6562 1.46875C15.7695 1.46875 19.9375 5.63672 19.9375 10.75C19.9375 15.9062 15.7695 20.0312 10.6562 20.0312ZM14.5234 13.7578C13.5352 14.918 12.1172 15.5625 10.6562 15.5625C9.15234 15.5625 7.73438 14.918 6.74609 13.7578C6.53125 13.457 6.10156 13.457 5.80078 13.6719C5.5 13.9297 5.45703 14.3594 5.71484 14.6602C6.91797 16.1211 8.72266 16.9375 10.6562 16.9375C12.5469 16.9375 14.3516 16.1211 15.5547 14.6602C15.8125 14.3594 15.7695 13.9297 15.4688 13.6719C15.2109 13.457 14.7383 13.457 14.5234 13.7578ZM7.21875 10.0625C7.94922 10.0625 8.59375 9.46094 8.59375 8.6875C8.59375 7.95703 7.94922 7.3125 7.21875 7.3125C6.44531 7.3125 5.84375 7.95703 5.84375 8.6875C5.84375 9.46094 6.44531 10.0625 7.21875 10.0625ZM14.0938 10.0625C14.8242 10.0625 15.4688 9.46094 15.4688 8.6875C15.4688 7.95703 14.8242 7.3125 14.0938 7.3125C13.3203 7.3125 12.7188 7.95703 12.7188 8.6875C12.7188 9.46094 13.3203 10.0625 14.0938 10.0625Z"})))}var si,li,di,ui,bi,pi,ji,fi,vi,hi,xi,gi,Oi,mi,yi,wi,Ci,ki,_i,Ei,Si,zi,Mi,Pi,Li,Ii=i.forwardRef(oi),Di=(t.p,h.c.div(si||(si=Object(v.a)(["\n  position: relative;\n"])))),Ri=h.c.div(li||(li=Object(v.a)(["\n  padding: 10px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\n  grid-gap: 5px;\n\n  span {\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),Ni=h.c.div(di||(di=Object(v.a)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 100;\n  svg {\n    ","\n    position: relative;\n  }\n"])),ie),Ti=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83d\ude02","\ud83e\udd23","\ud83d\ude0a","\ud83d\ude07","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0c","\ud83d\ude0d","\ud83e\udd70","\ud83d\ude18","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1a"],Ui=function(e){var n=e.handleChooseEmoji,t=Object(i.useState)(!1),r=Object(s.a)(t,2),a=(r[0],r[1]),c=Object(Te.jsx)(de,{children:Object(Te.jsx)(Ri,{children:Ti.map((function(e,t){return Object(Te.jsx)("span",{onClick:n.bind(null,e),children:e},t)}))})});return Object(Te.jsx)(Di,{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:Object(Te.jsx)(He.a,{content:c,interactive:!0,placement:"bottom-end",duration:0,offset:[0,5],trigger:"click",children:Object(Te.jsx)(Ni,{children:Object(Te.jsx)(Ii,{})})})})},qi=(h.c.div(ui||(ui=Object(v.a)([""]))),h.c.div(bi||(bi=Object(v.a)(["\n  min-width: 450px;\n  position: relative;\n"])))),Bi=h.c.div(pi||(pi=Object(v.a)(["\n  margin-left: auto;\n"]))),Fi=Object(h.c)(fr)(ji||(ji=Object(v.a)(["\n  fill: var(--icon-color-secondary);\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  :hover {\n    cursor: pointer;\n  }\n"]))),Ai=h.c.div(fi||(fi=Object(v.a)(["\n  /* position: absolute;\n  top: 18px;\n  right: 55px; */\n  svg {\n    ","\n  }\n"])),ie),Zi=h.c.div(vi||(vi=Object(v.a)(["\n  display: flex;\n\n  /* margin-top: 1px; */\n"]))),Hi=h.c.div(hi||(hi=Object(v.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"]))),Vi=h.c.div(xi||(xi=Object(v.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    width: 20px;\n    fill: white;\n    top: auto;\n    right: auto;\n  }\n"]))),Gi=(h.c.div(gi||(gi=Object(v.a)(["\n  position: relative;\n  svg {\n    top: 0;\n  }\n"]))),h.c.img(Oi||(Oi=Object(v.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "}))),Ji=h.c.div(mi||(mi=Object(v.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n      padding: 15px;\n      padding-top: 0;\n    "})),Ki=h.c.div(yi||(yi=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),$i=function(e){var n=e.modalIsOpen,t=(e.openModal,e.closeModal),r=e.userData;console.log("USER DATA",r);var a=Object(i.useState)(""),c=Object(s.a)(a,2),o=c[0],l=c[1],d=Object(i.useContext)(u),b=d.conversations,p=d.setConversations,v=d.meUserData,h=d.socket,x=Qr(),g=x.images,O=x.setImages,m=x.handleUploadImages,y=x.handleRemoveImage,w=x.imageLoading,C=Cr().handlePageNotification,k=ke().request,_=Object(i.useRef)(null),E=Object(i.useRef)(null),S=b.find((function(e){return e.users.some((function(e){return e._id===(null===r||void 0===r?void 0:r._id)}))}));console.log("existingConversation",S);var z=function(){var e=Object(f.a)(j.a.mark((function e(){var n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/conversation","POST",{content:o,images:g,userIds:[null===r||void 0===r?void 0:r._id]});case 3:n=e.sent,l(""),O([]),p((function(e){return[n.conversation].concat(Object(Ve.a)(e))})),console.log("res create conversation",n),i={user:v,recipients:[r],text:"sent you a\xa0message: ".concat(n.newMessage.content.slice(0,70)).concat(n.newMessage.content.length>70?"...":""),url:"/conversation/".concat(n.conversation._id)},h.emit("createConversation",n.conversation),h.emit("createMessageNotification",i),t(),C({type:"success",text:n.message}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),C({type:"error",text:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(j.a.mark((function e(n){var i,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/message","POST",{content:o,images:g,conversationId:n._id});case 3:i=e.sent,l(""),O([]),p((function(e){var n=e.filter((function(e){return e._id!==i.newMessage.conversation._id})),t=e.find((function(e){return e._id===i.newMessage.conversation._id}));return[Object(Ge.a)(Object(Ge.a)({},t),{},{messages:[].concat(Object(Ve.a)(t.messages),[i.newMessage])})].concat(Object(Ve.a)(n))})),console.log("res create message",i),a={user:v,recipients:[r],text:"sent you a\xa0message: ".concat(i.newMessage.content.slice(0,70)).concat(i.newMessage.content.length>70?"...":""),url:"/conversation/".concat(i.conversation._id)},h.emit("createMessage",i.newMessage),console.log("notific",a),h.emit("createMessageNotification",a),t(),C({type:"success",text:i.message}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),C({type:"error",text:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),(o||0!==g.length)&&!w){e.next=3;break}return e.abrupt("return");case 3:(t=b.find((function(e){return e.users.some((function(e){return e._id===(null===r||void 0===r?void 0:r._id)}))})))?M(t):z();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(e){var n;"Enter"!==e.key||e.shiftKey||(null===_||void 0===_||null===(n=_.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())};return Object(Te.jsx)(Xr.a,{center:!0,closeIcon:Object(Te.jsx)("div",{}),open:n,onClose:t,focusTrapped:!1,classNames:{overlay:"customOverlay",modal:"customModal"},children:Object(Te.jsxs)(qi,{children:[Object(Te.jsx)(Fi,{onClick:t}),Object(Te.jsxs)(ue,{children:["Write a message to ",r.firstName]}),Object(Te.jsx)(je,{}),Object(Te.jsxs)("form",{ref:_,onSubmit:P,children:[Object(Te.jsxs)(ue,{children:[Object(Te.jsx)(Ui,{handleChooseEmoji:function(e){l(o+e)}}),Object(Te.jsx)(pe,{$focuse:!0,placeholder:"Write something...",style:{resize:"none"},onChange:function(e){l(e.target.value)},value:o,onKeyDown:L})]}),Object(Te.jsx)(Ji,{exists:w||g.length>0,children:Object(Te.jsxs)(Te.Fragment,{children:[w&&Object(Te.jsx)(Ki,{children:Object(Te.jsx)(zr,{})}),g.length>0&&Object(Te.jsx)(Zi,{children:g.map((function(e,n){return Object(Te.jsxs)(Hi,{children:[Object(Te.jsx)(Vi,{onClick:y.bind(null,e),children:Object(Te.jsx)(Fi,{})}),Object(Te.jsx)(Gi,{src:e.url})]},e.public_id)}))})]})}),Object(Te.jsx)(je,{}),Object(Te.jsxs)(ue,{style:{display:"flex"},children:[Object(Te.jsx)(Ai,{children:Object(Te.jsxs)("label",{children:[Object(Te.jsx)(ii,{}),Object(Te.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:m,onKeyPress:L,ref:E,style:{display:"none"}})]})}),Object(Te.jsxs)(Bi,{children:[Object(Te.jsx)(le,{size:"small",color:"secondary",marginRight:"10px",onClick:t,type:"button",children:"Cancel"}),Object(Te.jsx)(le,{size:"small",type:"submit",children:"Send"})]})]})]})]})})},Wi=function(){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),t=n[0],r=n[1];return{openModal:function(){r(!0)},closeModal:function(){r(!1)},modalIsOpen:t}},Yi=h.c.button(wi||(wi=Object(v.a)(["\n  color: var(--color-primary);\n  background: none;\n  font-weight: 600;\n  :hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n"]))),Qi=function(e){var n=e.friend,t=e.isPersonal,r=Object(i.useContext)(u),a=r.meUserData,c=r.setMeUserData,o=Object(i.useContext)(qr).online,s=ke().request,l=cn(),d=l.visible,b=l.show,p=l.hide,v=Wi(),h=v.openModal,x=v.modalIsOpen,g=v.closeModal,O=function(){var e=Object(f.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===a||void 0===a||null===(t=a.friendRequests)||void 0===t?void 0:t.find((function(e){return e.recipient===n._id||e.requester===n._id})),e.prev=1,e.next=4,s("/api/friend-request/unfriend/".concat(null===r||void 0===r?void 0:r._id),"PUT",{userId:n._id});case 4:c((function(e){var t=e.friends.filter((function(e){return e._id!==n._id}));return Object(Ge.a)(Object(Ge.a)({},e),{},{friends:t})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),m=Object(Te.jsx)(de,{onClick:p,children:Object(Te.jsx)(ve,{children:Object(Te.jsx)(he,{onClick:O,children:"Unfriend"})})});return Object(Te.jsxs)(Wr,{children:[Object(Te.jsx)(ge,{onlineType:!!o[n._id?n._id:"ds"],children:Object(Te.jsx)(fe,{size:"medium",src:n.avatar,style:{marginRight:"15px"}})}),Object(Te.jsxs)(Yr,{children:[Object(Te.jsxs)(oe,{style:{marginBottom:"7px",display:"block"},color:"black",to:"/profile/".concat(n._id),children:[n.firstName," ",n.lastName]}),Object(Te.jsx)(Yi,{onClick:h,children:"Send message"}),Object(Te.jsx)($i,{openModal:h,closeModal:g,modalIsOpen:x,userData:n})]}),t&&Object(Te.jsx)(He.a,{content:m,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,5],visible:d,onClickOutside:p,children:Object(Te.jsx)($r,{onClick:d?p:b,children:Object(Te.jsx)(Kr,{})})})]})},Xi=h.c.div(Ci||(Ci=Object(v.a)(["\n  width: 550px;\n  margin-right: 15px;\n"]))),ea=h.c.div(ki||(ki=Object(v.a)(["\n  display: flex;\n"]))),na=h.c.div(_i||(_i=Object(v.a)(["\n  padding: 15px 15px;\n  display: block;\n  position: relative;\n  :hover {\n    cursor: pointer;\n    background: var(--color-secondary);\n  }\n  ","\n"])),(function(e){return e.selected&&'\n:after {\n    content: "";\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 2px;\n    width: 100%;\n    background: var(--color-primary);\n  }\n  '})),ta=function(e){var n=e.tabs,t=e.children,r=e.activeTab,i=Object(b.g)(),a=Br();return Object(Te.jsx)(Xi,{children:Object(Te.jsxs)(de,{style:{minHeight:500},children:[Object(Te.jsx)(ea,{children:n.map((function(e){return Object(Te.jsxs)(na,{selected:e.title===r.title,onClick:function(){return i.push("/friends?section=".concat(e.url).concat(a.get("id")?"&id=".concat(a.get("id")):""))},children:[e.title," ",Object(Te.jsx)("span",{style:{color:"var(--text-color-secondary)"},children:e.count})]},e.url)}))}),Object(Te.jsx)(je,{}),t]})})},ra=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useContext)(qr).online,c=Br(),o=c.get("id"),l=ke(),d=l.request,u=l.loading;if(Object(i.useEffect)((function(){d("/api/friends/".concat(o),"GET").then((function(e){r(e.friends)}))}),[]),u)return Object(Te.jsx)(Te.Fragment,{});var b=t.filter((function(e){return a[e._id]})),p=[{title:"All friends",url:"all",count:t.length},{title:"Online",url:"online",count:b.length}];return Object(Te.jsxs)(Te.Fragment,{children:[("all"===c.get("section")||null===c.get("section"))&&Object(Te.jsx)(ta,{tabs:p,activeTab:p[0],children:0===t.length?Object(Te.jsx)("div",{children:"No friends yet..."}):Object(Te.jsx)(Te.Fragment,{children:t.map((function(e){return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Qi,{friend:e},e._id),Object(Te.jsx)(je,{})]})}))})}),"online"===c.get("section")&&Object(Te.jsx)(ta,{tabs:p,activeTab:p[1],children:0===b.length?Object(Te.jsx)("div",{children:"No friends online"}):Object(Te.jsx)(Te.Fragment,{children:b.map((function(e){return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Qi,{friend:e},e._id),Object(Te.jsx)(je,{})]})}))})})]})},ia=h.c.div(Ei||(Ei=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n  div {\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n"]))),aa=function(e){var n=e.friends,t=e.isPersonal,r=Br(),c=Object(i.useContext)(qr).online,o=n.filter((function(e){return c[e._id]})),s=[{title:"All friends",url:"all",count:n.length},{title:"Online",url:"online",count:o.length}];return Object(Te.jsxs)(Te.Fragment,{children:[("all"===r.get("section")||null===r.get("section"))&&Object(Te.jsx)(ta,{tabs:s,activeTab:s[0],children:0===n.length?Object(Te.jsx)(ia,{children:Object(Te.jsx)("div",{children:"No friends yet..."})}):Object(Te.jsx)(Te.Fragment,{children:n.map((function(e,n){return Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsx)(Qi,{friend:e,isPersonal:t}),Object(Te.jsx)(je,{})]},n)}))})}),"online"===r.get("section")&&Object(Te.jsx)(ta,{tabs:s,activeTab:s[1],children:0===o.length?Object(Te.jsx)(ia,{children:Object(Te.jsx)("div",{children:"No friends online..."})}):Object(Te.jsx)(Te.Fragment,{children:o.map((function(e,n){return Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsx)(Qi,{friend:e,isPersonal:t}),Object(Te.jsx)(je,{})]},n)}))})})]})},ca=function(e){var n=e.friend,t=e.friendRequestType,r=e.friendRequestId,a=e.setFriendRequests,c=Object(i.useContext)(u),o=c.meUserData,s=c.setMeUserData,l=c.socket,d=Object(i.useContext)(qr).online,b=ke().request,p=function(){var e=Object(f.a)(j.a.mark((function e(n,t){var r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("/api/friend-request/accept/".concat(t),"PUT",{userId:n._id});case 3:return s(Object(Ge.a)(Object(Ge.a)({},o),{},{friends:[].concat(Object(Ve.a)(null===o||void 0===o?void 0:o.friends),[n])})),a((function(e){return e.filter((function(e){return e.requester._id!==n._id}))})),r={user:o,recipients:[n],text:"accepted your\xa0friend\xa0request",url:"/friends"},e.next=8,b("/api/notify","POST",Object(Ge.a)({},r));case 8:i=e.sent,l.emit("createNotification",i.notification),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(j.a.mark((function e(n,t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("/api/friend-request/cancel/".concat(t),"DELETE",{userId:n._id});case 3:a((function(e){return e.filter((function(e){return e.recipient._id!==n._id}))})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(Te.jsxs)(Wr,{children:[Object(Te.jsx)(ge,{onlineType:!!d[n._id?n._id:"ds"],children:Object(Te.jsx)(fe,{size:"medium",src:n.avatar,style:{marginRight:"15px"}})}),Object(Te.jsxs)(Yr,{children:[Object(Te.jsxs)(oe,{style:{marginBottom:"10px",display:"block"},color:"black",to:"/profile/".concat(n._id),children:[n.firstName," ",n.lastName]}),"pending"===t?Object(Te.jsx)(le,{size:"small",onClick:function(){return p(n,r)},children:"Accept"}):Object(Te.jsx)(le,{size:"small",onClick:function(){return v(n,r)},children:"Unsubscribe"})]})]})},oa=function(){var e=ke(),n=e.request,t=e.loading,r=Object(i.useState)([]),c=Object(s.a)(r,2),o=c[0],l=c[1],d=Object(i.useContext)(u),b=d.meUserData,p=(d.setMeUserData,Br()),v=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("/api/pending_friend_requests","GET");case 3:t=e.sent,l(t.friendRequests),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){v()}),[]);var h=[{title:"Pending",url:"all_requests",count:o.filter((function(e){return e.recipient._id===(null===b||void 0===b?void 0:b._id)})).length},{title:"Out requests",url:"out_requests",count:o.filter((function(e){return e.requester._id===(null===b||void 0===b?void 0:b._id)})).length}];return Object(Te.jsxs)(Te.Fragment,{children:["all_requests"===p.get("section")&&Object(Te.jsx)(ta,{tabs:h,activeTab:h[0],children:!t&&o.filter((function(e){return e.recipient._id===(null===b||void 0===b?void 0:b._id)})).map((function(e,n){return Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsx)(ca,{friend:e.requester,friendRequestType:"pending",friendRequestId:e._id,setFriendRequests:l}),Object(Te.jsx)(je,{})]},e._id)}))}),"out_requests"===p.get("section")&&Object(Te.jsx)(ta,{tabs:h,activeTab:h[1],children:o.filter((function(e){return e.requester._id===(null===b||void 0===b?void 0:b._id)})).map((function(e,n){return Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsx)(ca,{friend:e.recipient,friendRequestType:"out_sent",friendRequestId:e._id,setFriendRequests:l}),Object(Te.jsx)(je,{})]},e._id)}))})]})},sa=h.c.div(Si||(Si=Object(v.a)(["\n  flex-grow: 1;\n"]))),la=h.c.div(zi||(zi=Object(v.a)(["\n  padding: 15px;\n  position: relative;\n  :last-child {\n    border-top: var(--border-primary);\n  }\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  ","\n"])),(function(e){return e.selected&&"\n        background: var(--color-secondary);\n        \n        :before {\n          content: '';\n          position: absolute;\n          height: 100%;\n          top: 0;\n          left: 0;\n          border-left: 3px solid var(--color-primary);\n        }\n  "})),da=function(e){var n=e.menuItems,t=Object(i.useState)(n[0]),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Object(b.g)();return Object(Te.jsx)(sa,{children:Object(Te.jsx)(de,{children:n.map((function(e,n){return Object(Te.jsx)(la,{selected:a.title===e.title,onClick:function(){o.push("/friends?section=".concat(e.url)),c(e)},children:e.title},n)}))})})},ua=h.c.div(Mi||(Mi=Object(v.a)(["\n  display: flex;\n  align-items: flex-start;\n"]))),ba=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useContext)(u).meUserData,c=Br(),o=ke(),l=o.request,d=o.loading;return Object(i.useEffect)((function(){l("/api/friends/".concat(null===a||void 0===a?void 0:a._id),"GET").then((function(e){r(e.friends)}))}),[]),d?Object(Te.jsx)(Te.Fragment,{}):Object(Te.jsxs)(ua,{children:[("all"===c.get("section")||"online"===c.get("section")||null===c.get("section"))&&Object(Te.jsx)(aa,{friends:t,isPersonal:!0}),("all_requests"===c.get("section")||"out_requests"===c.get("section"))&&Object(Te.jsx)(oa,{}),Object(Te.jsx)(da,{menuItems:[{title:"All friends",url:"all"},{title:"Friend requests",url:"all_requests"}]})]})},pa=h.c.div(Pi||(Pi=Object(v.a)(["\n  min-height: 550px;\n"]))),ja=function(){var e=Br();return Object(Te.jsx)(pa,{children:e.get("id")?Object(Te.jsx)(ra,{}):Object(Te.jsx)(ba,{})})};function fa(){return(fa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function va(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ha(e,n){var t=e.title,r=e.titleId,a=va(e,["title","titleId"]);return i.createElement("svg",fa({width:13,height:15,viewBox:"0 0 13 15",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Li||(Li=i.createElement("path",{d:"M8.09375 12.5625H8.53125C8.64062 12.5625 8.75 12.4805 8.75 12.3438V4.90625C8.75 4.79688 8.64062 4.6875 8.53125 4.6875H8.09375C7.95703 4.6875 7.875 4.79688 7.875 4.90625V12.3438C7.875 12.4805 7.95703 12.5625 8.09375 12.5625ZM3.71875 12.5625H4.15625C4.26562 12.5625 4.375 12.4805 4.375 12.3438V4.90625C4.375 4.79688 4.26562 4.6875 4.15625 4.6875H3.71875C3.58203 4.6875 3.5 4.79688 3.5 4.90625V12.3438C3.5 12.4805 3.58203 12.5625 3.71875 12.5625ZM12.0312 2.5H9.1875L8.25781 1.29688C8.03906 0.996094 7.57422 0.75 7.21875 0.75H5.03125C4.64844 0.75 4.18359 0.996094 3.96484 1.29688L3.0625 2.5H0.21875C0.0820312 2.5 0 2.60938 0 2.71875V3.15625C0 3.29297 0.0820312 3.375 0.21875 3.375H0.875V13.4375C0.875 14.1758 1.44922 14.75 2.1875 14.75H10.0625C10.7734 14.75 11.375 14.1758 11.375 13.4375V3.375H12.0312C12.1406 3.375 12.25 3.29297 12.25 3.15625V2.71875C12.25 2.60938 12.1406 2.5 12.0312 2.5ZM4.67578 1.81641C4.73047 1.70703 4.89453 1.65234 5.03125 1.625H7.21875C7.32812 1.65234 7.49219 1.70703 7.54688 1.81641L8.09375 2.5H4.15625L4.67578 1.81641ZM10.5 13.4375C10.5 13.6836 10.2812 13.875 10.0625 13.875H2.1875C1.94141 13.875 1.75 13.6836 1.75 13.4375V3.375H10.5V13.4375ZM5.90625 12.5625H6.34375C6.45312 12.5625 6.5625 12.4805 6.5625 12.3438V4.90625C6.5625 4.79688 6.45312 4.6875 6.34375 4.6875H5.90625C5.76953 4.6875 5.6875 4.79688 5.6875 4.90625V12.3438C5.6875 12.4805 5.76953 12.5625 5.90625 12.5625Z"})))}var xa,ga,Oa,ma,ya,wa,Ca,ka,_a,Ea,Sa,za,Ma,Pa,La,Ia,Da,Ra=i.forwardRef(ha),Na=(t.p,h.c.div(xa||(xa=Object(v.a)(["\n  position: relative;\n  display: flex;\n\n  :hover {\n    cursor: pointer;\n    background: var(--color-secondary);\n    svg {\n      display: block;\n    }\n  }\n  svg {\n    position: absolute;\n    top: 15px;\n    right: 10px;\n    display: none;\n    ","\n  }\n"])),ce)),Ta=Object(h.c)(l.b)(ga||(ga=Object(v.a)(["\n  display: flex;\n  width: 100%;\n  padding: 15px;\n"]))),Ua=h.c.div(Oa||(Oa=Object(v.a)(["\n  width: 100%;\n  /* padding-top: 5px; */\n"]))),qa=h.c.div(ma||(ma=Object(v.a)(["\n  margin-bottom: 10px;\n"]))),Ba=h.c.div(ya||(ya=Object(v.a)(["\n  background: none;\n  padding: none;\n  color: var(--text-color-secondary);\n  flex-grow: 1;\n  ","\n"])),(function(e){return!e.isRead&&"\n    background: rgba(18, 62, 165, 0.07);\n  padding: 5px 7px;\n  border-radius: 3px;\n  color: var(--text-color-primary);\n    \n  "})),Fa=h.c.div(wa||(wa=Object(v.a)(["\n  position: absolute;\n  top: 15px;\n  right: 30px;\n  color: var(--text-color-secondary);\n"]))),Aa=h.c.div(Ca||(Ca=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  img {\n    margin-right: 5px;\n  }\n"]))),Za=h.c.div(ka||(ka=Object(v.a)(["\n  width: 15px;\n  height: 15px;\n  background: var(--color-primary);\n  border-radius: 100px;\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n"]))),Ha=function(e){var n=e.conversation,t=an.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),r=ke().request,a=Object(i.useContext)(u),c=a.meUserData,o=a.setConversations,s=Object(i.useContext)(qr).online,l=Object(b.g)(),d=n.messages.filter((function(e){return!1===e.isRead&&e.user._id!==(null===c||void 0===c?void 0:c._id)})).length;n.messages.forEach((function(e){}));var p=function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this conversation?")){e.next=13;break}return e.prev=2,e.next=5,r("/api/conversation/".concat(n._id),"DELETE");case 5:e.sent,o((function(e){return e.filter((function(e){return e._id!==n._id}))})),l.push("/messages"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),v=n.messages[n.messages.length-1];return console.log("lastMessage",v),Object(Te.jsxs)(Na,{children:[Object(Te.jsxs)(Ta,{to:"/conversation/".concat(n._id),children:[1===n.users.length&&Object(Te.jsx)(ge,{onlineType:!!s[n.users[0]._id?n.users[0]._id:"ds"],children:Object(Te.jsx)(fe,{style:{marginRight:"15px"},size:"medium",src:n.users[0].avatar})}),Object(Te.jsxs)(Ua,{children:[n.users.map((function(e){return console.log("user",e),Object(Te.jsxs)(qa,{children:[e.firstName," ",e.lastName]},e._id)})),(null===v||void 0===v?void 0:v.user)===(null===c||void 0===c?void 0:c._id)?Object(Te.jsxs)(Aa,{children:[Object(Te.jsx)(fe,{src:null===c||void 0===c?void 0:c.avatar,size:"extra-small"}),v.content&&Object(Te.jsx)(Ba,{isRead:v.isRead,children:v.content}),!v.content&&v.images.length>0&&Object(Te.jsx)(Ba,{isRead:v.isRead,children:"Photo"})]}):Object(Te.jsxs)(Aa,{children:[(null===v||void 0===v?void 0:v.content)&&Object(Te.jsx)(Ba,{isRead:null===v||void 0===v?void 0:v.isRead,children:null===v||void 0===v?void 0:v.content}),!(null===v||void 0===v?void 0:v.content)&&(null===v||void 0===v?void 0:v.images.length)>0&&Object(Te.jsx)(Ba,{isRead:null===v||void 0===v?void 0:v.isRead,children:"Photo"}),d>0&&Object(Te.jsx)(Za,{children:d})]})]}),Object(Te.jsx)(Fa,{children:t})]}),Object(Te.jsx)(Ra,{onClick:p})]})},Va=h.c.div(_a||(_a=Object(v.a)(["\n  width: 550px;\n"]))),Ga=h.c.div(Ea||(Ea=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n  div {\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n"]))),Ja=function(){var e=Object(i.useContext)(u),n=e.conversations;e.setConversations;return Object(Te.jsx)(Va,{children:Object(Te.jsx)(de,{style:{minHeight:"500px"},children:n.length>0?Object(Te.jsx)(Te.Fragment,{children:n.map((function(e){return Object(Te.jsxs)(a.a.Fragment,{children:[Object(Te.jsx)(Ha,{conversation:e}),Object(Te.jsx)(je,{})]},e._id)}))}):Object(Te.jsx)(Ga,{children:Object(Te.jsx)("div",{children:"No conversations yet..."})})})})},Ka=t(205),$a=(h.c.div(Sa||(Sa=Object(v.a)([""]))),h.c.div(za||(za=Object(v.a)(["\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 10px;\n  font-size: 18px;\n"])))),Wa=function(){var e=Object(i.useState)({email:"",password:""}),n=Object(s.a)(e,2),t=n[0],r=n[1],a=ke(),c=a.request,o=a.error,l=a.loading,d=Object(i.useContext)(u),b=function(e){r(Object(Ge.a)(Object(Ge.a)({},t),{},Object(Oe.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(f.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,c("/api/auth/login","POST",t,{Authorization:d.accessToken});case 4:r=e.sent,d.login(r.accessToken,r.userData),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(Te.jsx)(de,{children:Object(Te.jsxs)(ue,{children:[Object(Te.jsx)($a,{children:"Sign in"}),o&&Object(Te.jsx)(Ka.a,{severity:"error",style:{marginBottom:"10px"},children:o.message}),Object(Te.jsxs)("form",{onSubmit:p,children:[Object(Te.jsx)(be,{value:t.email,onChange:b,disabled:l,style:{marginBottom:"10px"},placeholder:"Email",id:"email",name:"email",type:"email",required:!0}),Object(Te.jsx)(be,{value:t.password,onChange:b,disabled:l,placeholder:"Password",id:"password",name:"password",required:!0,type:"password",style:{marginBottom:"10px"}}),Object(Te.jsx)(le,{size:"small",type:"submit",disabled:l,children:"Sign in"})]})]})})},Ya=(h.c.div(Ma||(Ma=Object(v.a)([""]))),h.c.div(Pa||(Pa=Object(v.a)(["\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 2px;\n  font-size: 18px;\n"])))),Qa=h.c.div(La||(La=Object(v.a)(["\n  /* font-family: var(--font-family-secondary); */\n  color: var(--text-color-secondary);\n  text-align: center;\n  margin-bottom: 10px;\n"]))),Xa=function(){var e=Object(i.useState)({email:"",password:"",firstName:"",lastName:""}),n=Object(s.a)(e,2),t=n[0],r=n[1],a=ke(),c=a.request,o=a.error,l=a.loading,d=Object(i.useContext)(u),p=Object(b.g)(),v=function(e){r(Object(Ge.a)(Object(Ge.a)({},t),{},Object(Oe.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(f.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,c("/api/auth/register","POST",t,{Authorization:d.accessToken});case 4:r=e.sent,d.login(r.accessToken,r.userData),p.push("/profile/edit/".concat(r.userData._id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(Te.jsx)(de,{children:Object(Te.jsxs)(ue,{children:[Object(Te.jsx)(Ya,{children:"First time here?"}),Object(Te.jsx)(Qa,{children:"Let's sign up!"}),o&&Object(Te.jsx)(Ka.a,{severity:"error",children:o.message}),Object(Te.jsxs)("form",{onSubmit:h,children:[Object(Te.jsx)(be,{value:t.firstName,onChange:v,disabled:l,style:{marginBottom:"10px"},placeholder:"First Name",id:"firstName",name:"firstName",required:!0,type:"text"}),Object(Te.jsx)(be,{value:t.lastName,onChange:v,disabled:l,style:{marginBottom:"10px"},placeholder:"Last Name",id:"lastName",name:"lastName",required:!0,type:"text"}),Object(Te.jsx)(be,{value:t.email,onChange:v,disabled:l,style:{marginBottom:"10px"},placeholder:"Email",id:"email",name:"email",type:"email",required:!0}),Object(Te.jsx)(be,{value:t.password,onChange:v,disabled:l,placeholder:"Password",id:"password",name:"password",type:"password",required:!0,style:{marginBottom:"10px"}}),Object(Te.jsx)(le,{size:"small",type:"submit",disabled:l,children:"Sign up"})]})]})})},ec=h.c.div(Ia||(Ia=Object(v.a)(["\n  margin: 0 auto;\n  width: 300px;\n  padding: 50px 0;\n"]))),nc=h.c.div(Da||(Da=Object(v.a)(["\n  font-size: 38px;\n  font-family: var(--font-family-secondary);\n  font-weight: 700;\n  color: var(--text-color-link);\n  text-align: center;\n  margin-bottom: 25px;\n  letter-spacing: 0;\n  :hover {\n    cursor: pointer;\n  }\n"])));function tc(){return Object(Te.jsxs)(ec,{children:[Object(Te.jsx)(nc,{children:"intouch"}),Object(Te.jsx)(Wa,{}),Object(Te.jsx)("div",{style:{height:"20px"}}),Object(Te.jsx)(Xa,{})]})}var rc,ic,ac,cc,oc,sc,lc,dc,uc,bc,pc,jc,fc,vc,hc,xc,gc,Oc,mc,yc,wc,Cc,kc,_c,Ec,Sc,zc=t(204),Mc=t(110),Pc=h.c.div(rc||(rc=Object(v.a)(["\n  /* justify-content: center; */\n"]))),Lc=h.c.div(ic||(ic=Object(v.a)(["\n  /* margin: 0 10px; */\n  display: flex;\n  justify-content: center;\n  a {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: black;\n  }\n"]))),Ic=h.c.img(ac||(ac=Object(v.a)(["\n  border-radius: 100px;\n  width: 60px;\n  height: 60px;\n  object-fit: cover;\n  margin-bottom: 5px;\n"]))),Dc=h.c.div(cc||(cc=Object(v.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  /* grid-template-rows: 1fr 1fr; */\n  grid-gap: 10px;\n"]))),Rc=Object(h.c)(l.b)(oc||(oc=Object(v.a)(["\n  display: block;\n  margin-bottom: 10px;\n"]))),Nc=h.c.span(sc||(sc=Object(v.a)(["\n  color: var(--text-color-secondary);\n"]))),Tc=h.c.div(lc||(lc=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  /* padding-top: 10px; */\n  width: 100%;\n  div {\n    display: block;\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n  span {\n    color: var(--text-color-secondary);\n  }\n"]))),Uc=function(e){var n=e.friends,t=e._id,r=e.isPersonal,a=Object(i.useContext)(qr).online,c=n.filter((function(e){return a[e._id]}));return Object(Te.jsxs)(Pc,{children:[Object(Te.jsxs)(ue,{children:[Object(Te.jsxs)(Rc,{to:r?"/friends":"/friends?id=".concat(t),children:["\u0414\u0440\u0443\u0437\u044c\u044f ",Object(Te.jsx)(Nc,{children:n.length})]}),n.length>0?Object(Te.jsx)(Dc,{children:n.slice(0,6).map((function(e){var n=e.firstName.length<9?e.firstName:e.firstName.slice(0,9)+"...";return Object(Te.jsx)(Lc,{children:Object(Te.jsxs)(l.b,{to:"/profile/".concat(e._id),children:[Object(Te.jsx)(Ic,{src:e.avatar}),n]})},e._id)}))}):Object(Te.jsx)(Dc,{style:{minHeight:"100px",display:"flex"},children:Object(Te.jsxs)(Tc,{children:[Object(Te.jsx)("div",{children:"No friends yet..."}),Object(Te.jsx)(le,{marginTop:"10px",size:"small",children:"Find friends"})]})})]}),c.length>0&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(je,{}),Object(Te.jsxs)(ue,{children:[" ",Object(Te.jsxs)(Rc,{to:r?"/friends":"/friends?id=".concat(t),children:["Online"," ",Object(Te.jsx)(Nc,{children:c.length})]}),Object(Te.jsx)(Dc,{children:c.slice(0,6).map((function(e){var n=e.firstName.length<9?e.firstName:e.firstName.slice(0,9)+"...";return Object(Te.jsx)(Lc,{children:Object(Te.jsxs)(l.b,{to:"/profile/".concat(e._id),children:[Object(Te.jsx)(Ic,{src:e.avatar}),n]})},e._id)}))})]})]})]})},qc=Object(i.createContext)({userData:null,setUserData:function(){},isPersonal:!0}),Bc=function(e){var n=e.relationToMe,t=e.setRelationToMe,r=Object(i.useContext)(qc),a=function(e,n,t,r){var a=ke().request,c=Object(i.useContext)(u),o=c.meUserData,s=c.setMeUserData,l=c.socket,d=function(){var t=Object(f.a)(j.a.mark((function t(){var i,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("/api/friend-request/create","POST",{userId:e._id});case 3:return i=t.sent,n(Object(Ge.a)(Object(Ge.a)({},e),{},{friendRequest:i.friendRequest})),r("me_sent_request"),c={user:o,recipients:[e],text:"sent you a\xa0friend\xa0request",url:"/friends?section=all_requests"},t.next=9,a("/api/notify","POST",Object(Ge.a)({},c));case 9:s=t.sent,l.emit("createNotification",s.notification),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(f.a)(j.a.mark((function t(){var i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("/api/friend-request/unfriend/".concat(e.friendRequest._id),"PUT",{userId:e._id});case 3:i=t.sent,r("user_sent_request"),n((function(e){var n=e.friends.filter((function(e){return e._id!==(null===o||void 0===o?void 0:o._id)}));return Object(Ge.a)(Object(Ge.a)({},e),{},{friendRequest:i.friendRequest,friends:n})})),s((function(n){var t,r=null===n||void 0===n||null===(t=n.friends)||void 0===t?void 0:t.filter((function(n){return n._id!==(null===e||void 0===e?void 0:e._id)}));return Object(Ge.a)(Object(Ge.a)({},n),{},{friendRequest:i.friendRequest,friends:r})})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(f.a)(j.a.mark((function t(){var i,c,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("/api/friend-request/accept/".concat(e.friendRequest._id),"PUT",{userId:e._id});case 3:return i=t.sent,r("friend"),n((function(e){return Object(Ge.a)(Object(Ge.a)({},e),{},{friendRequest:i.friendRequest,friends:[].concat(Object(Ve.a)(null===e||void 0===e?void 0:e.friends),[o])})})),s((function(n){return Object(Ge.a)(Object(Ge.a)({},n),{},{friends:[].concat(Object(Ve.a)(null===n||void 0===n?void 0:n.friends),[e])})})),c={user:o,recipients:[e],text:"accepted your\xa0friend\xa0request",url:"/friends"},t.next=10,a("/api/notify","POST",Object(Ge.a)({},c));case 10:d=t.sent,l.emit("createNotification",d.notification),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();return{handleSendFriendRequest:d,handleCancelFriendRequest:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("/api/friend-request/cancel/".concat(e.friendRequest._id),"DELETE",{userId:e._id});case 3:t.sent,r("not_friends"),n(Object(Ge.a)(Object(Ge.a)({},e),{},{friendRequest:null})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),handleSendUnFriendRequest:b,handleAcceptFriendRequest:p,relationToMe:t}}(r.userData,r.setUserData,n,t),c=a.handleSendFriendRequest,o=a.handleCancelFriendRequest,s=a.handleSendUnFriendRequest,l=a.handleAcceptFriendRequest;return Object(Te.jsxs)("div",{children:[console.log("relation to me",n),"not_friend"===n&&Object(Te.jsx)(le,{onClick:c.bind(null),width:"fullwidth",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"}),"friend"===n&&Object(Te.jsx)(le,{color:"secondary",width:"fullwidth",onClick:s,children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"}),"user_sent_request"===n&&Object(Te.jsx)(le,{width:"fullwidth",onClick:l,children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"}),"me_sent_request"===n&&Object(Te.jsx)(le,{width:"fullwidth",onClick:o,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"})]})},Fc=Object(i.memo)(Bc),Ac=(t(150),h.c.div(dc||(dc=Object(v.a)([""])))),Zc=(h.c.div(uc||(uc=Object(v.a)(["\n  min-width: 450px;\n  position: relative;\n"]))),h.c.div(bc||(bc=Object(v.a)(["\n  margin-left: auto;\n"]))),Object(h.c)(fr)(pc||(pc=Object(v.a)(["\n  fill: var(--icon-color-secondary);\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  :hover {\n    cursor: pointer;\n  }\n"]))),h.c.div(jc||(jc=Object(v.a)(["\n  position: absolute;\n  top: 18px;\n  right: 55px;\n  svg {\n    ","\n  }\n"])),ie),h.c.div(fc||(fc=Object(v.a)(["\n  display: flex;\n  margin-left: 15px;\n  margin-bottom: 13px;\n\n  /* margin-top: 1px; */\n"]))),h.c.div(vc||(vc=Object(v.a)(["\n  position: relative;\n  width: 100px;\n"]))),h.c.div(hc||(hc=Object(v.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    width: 20px;\n    fill: white;\n  }\n"]))),h.c.img(xc||(xc=Object(v.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),function(e){var n=e.userData,t=Wi(),r=t.openModal,i=t.closeModal,a=t.modalIsOpen;return Object(Te.jsxs)(Ac,{children:[Object(Te.jsx)(le,{marginBottom:"10px",width:"fullwidth",onClick:r,children:"Send a message"}),Object(Te.jsx)($i,{modalIsOpen:a,openModal:r,closeModal:i,userData:n})]})}),Hc=function(){var e=Object(i.useContext)(qc),n=e.userData,t=(e.setUserData,function(e){var n=Object(i.useState)(null),t=Object(s.a)(n,2),r=t[0],a=t[1],c=Object(i.useContext)(u).meUserData;return Object(i.useEffect)((function(){if(e){var n=function(e){if(console.log("check relation",r),!e)return"not_friend";var n=e.recipient,t=e.requester,i=e.status;return n!==(null===c||void 0===c?void 0:c._id)&&t!==(null===c||void 0===c?void 0:c._id)||"accepted"!==i?n===(null===c||void 0===c?void 0:c._id)&&"pending"===i?"user_sent_request":t===(null===c||void 0===c?void 0:c._id)&&"pending"===i?"me_sent_request":"not_friend":"friend"}(e.friendRequest);a(n)}}),[e]),{relationToMe:r,setRelationToMe:a}}(n)),r=t.relationToMe,a=t.setRelationToMe;return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(Zc,{userData:n}),Object(Te.jsx)(Fc,{relationToMe:r,setRelationToMe:a})]})},Vc=function(){var e=Object(i.useContext)(u).meUserData;return Object(Te.jsx)(l.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id),children:Object(Te.jsx)(le,{color:"secondary",width:"fullwidth",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})},Gc=function(){return Object(Te.jsx)("div",{children:Object(Te.jsx)(Vc,{})})},Jc=h.c.div(gc||(gc=Object(v.a)(["\n  form {\n    display: flex;\n    flex-direction: column;\n    /* justify-content: flex-end; */\n    /* align-items: flex-end; */\n  }\n"]))),Kc=h.c.img(Oc||(Oc=Object(v.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),$c=h.c.div(mc||(mc=Object(v.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n\n      padding-top: 10px;\n    "})),Wc=h.c.div(yc||(yc=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Yc=h.c.div(wc||(wc=Object(v.a)(["\n  display: flex;\n  /* margin-left: 15px;\n  margin-bottom: 13px; */\n\n  /* margin-top: 1px; */\n"]))),Qc=h.c.div(Cc||(Cc=Object(v.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"]))),Xc=h.c.div(kc||(kc=Object(v.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    fill: white;\n    width: 20px;\n  }\n"]))),eo=h.c.div(_c||(_c=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  svg {\n    ","/* position: absolute; */\n    /* top: 0;\n    right: 8px; */\n  }\n"])),ie),no=h.c.div(Ec||(Ec=Object(v.a)(["\n  /* padding: 15px 0; */\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  svg {\n    ","\n  }\n"])),ie),to=function(e){var n=e.userData,t=e.setUserData,r=e.isPersonal,c=e.meUserData,o=(e.setMeUserData,a.a.useState("")),l=Object(s.a)(o,2),d=l[0],b=l[1],p=a.a.useState(!1),v=Object(s.a)(p,2),h=v[0],x=v[1],g=Qr(),O=g.images,m=g.setImages,y=g.handleUploadImages,w=g.handleRemoveImage,C=g.imageLoading,k=Object(i.useContext)(u).socket,_=ke().request,E=Cr().handlePageNotification,S=Object(i.useRef)(null),z=Object(i.useRef)(null);Ne(z,(function(){x(!1)}));var M=Object(i.useRef)(null);Object(i.useEffect)((function(){b("")}),[null===n||void 0===n?void 0:n._id]);var P=function(){var e=Object(f.a)(j.a.mark((function e(i){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),(d||0!==O.length)&&!C){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,_("/api/post","POST",{content:d,images:O,userId:null===n||void 0===n?void 0:n._id});case 6:if(a=e.sent,t(Object(Ge.a)(Object(Ge.a)({},n),{},{wall:[a.post].concat(Object(Ve.a)(n.wall))})),r){e.next=13;break}return e.next=11,_("/api/notify","POST",{text:"posted something on your page",url:"/profile/".concat(null===n||void 0===n?void 0:n._id),recipients:[null===n||void 0===n?void 0:n._id]});case 11:c=e.sent,k.emit("createNotification",c.notification);case 13:b(""),m([]),x(!1),console.log("RES",a.message),E({type:"success",text:a.message}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0),E({type:"error",message:e.t0.message});case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(n){return e.apply(this,arguments)}}();return Object(Te.jsx)(Jc,{ref:S,children:Object(Te.jsxs)("form",{ref:z,style:{width:"100%"},onSubmit:P,children:[Object(Te.jsxs)(ue,{children:[Object(Te.jsxs)(eo,{children:[Object(Te.jsx)(fe,{marginRight:"10px",size:"medium-small",src:null===c||void 0===c?void 0:c.avatar}),Object(Te.jsx)(pe,{placeholder:"What's on your mind?",style:{paddingRight:"40px",resize:"none"},$focuse:h||!!d||O.length>0,onChange:function(e){b(e.target.value),console.log(e)},value:d,minRows:h||d||O.length>0?4:1,onClick:function(){h||x(!0)},onKeyPress:function(e){var n;"Enter"!==e.key||e.shiftKey||(null===z||void 0===z||null===(n=z.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())}}),(h||d||O.length>0)&&Object(Te.jsx)(Ui,{handleChooseEmoji:function(e){b(d+e)}}),!h&&!(d||O.length>0)&&Object(Te.jsxs)("label",{children:[Object(Te.jsx)(ii,{}),Object(Te.jsx)("input",{type:"file",name:"file",accept:"image/*",multiple:!0,onChange:y,ref:M,style:{display:"none"}})]})]}),Object(Te.jsx)($c,{exists:C||O.length>0,children:Object(Te.jsxs)(Te.Fragment,{children:[C&&Object(Te.jsx)(Wc,{children:Object(Te.jsx)(zr,{})}),O.length>0&&Object(Te.jsx)(Yc,{children:O.map((function(e,n){return Object(Te.jsxs)(Qc,{children:[Object(Te.jsx)(Xc,{onClick:w.bind(null,e),children:Object(Te.jsx)(fr,{})}),Object(Te.jsx)(Kc,{src:e.url})]},e.public_id)}))})]})})]}),(h||d||O.length>0)&&Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(je,{}),Object(Te.jsx)(ue,{children:Object(Te.jsxs)(no,{children:[Object(Te.jsxs)("label",{children:[Object(Te.jsx)(ii,{}),Object(Te.jsx)("input",{type:"file",name:"file",accept:"image/*",multiple:!0,onChange:y,ref:M,style:{display:"none"}})]}),Object(Te.jsx)(le,{disabled:!d&&0===O.length,type:"submit",size:"small",children:"Publish"})]})})]})]})})};function ro(){return(ro=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function io(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ao(e,n){var t=e.title,r=e.titleId,a=io(e,["title","titleId"]);return i.createElement("svg",ro({width:23,height:20,viewBox:"0 0 23 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Sc||(Sc=i.createElement("path",{d:"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711ZM20.2931 9.4493L12.0001 18.043L3.66417 9.4493C2.03136 7.73055 1.68761 4.50789 4.00792 2.53133C6.3712 0.511796 9.1212 1.97273 10.1525 3.00398L12.0001 4.89461L13.8048 3.00398C14.7931 1.97273 17.586 0.511796 19.9493 2.53133C22.2696 4.50789 21.9259 7.73055 20.2931 9.4493Z"})))}var co,oo=i.forwardRef(ao);t.p;function so(){return(so=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function lo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function uo(e,n){var t=e.title,r=e.titleId,a=lo(e,["title","titleId"]);return i.createElement("svg",so({width:23,height:20,viewBox:"0 0 23 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,co||(co=i.createElement("path",{d:"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711Z"})))}var bo,po=i.forwardRef(uo);t.p;function jo(){return(jo=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function fo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function vo(e,n){var t=e.title,r=e.titleId,a=fo(e,["title","titleId"]);return i.createElement("svg",jo({width:23,height:20,viewBox:"0 0 23 20",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,bo||(bo=i.createElement("path",{d:"M11.9999 1.5C17.2851 1.5 21.6249 4.89453 21.6249 9.0625C21.6249 13.2305 17.2851 16.625 11.9999 16.625C10.7538 16.625 9.55069 16.4531 8.39054 16.1094L7.74601 15.8945L7.18741 16.2812C6.19913 16.9688 4.69523 17.7852 2.8046 18C3.32023 17.3555 4.05069 16.2383 4.52335 14.9922L4.82413 14.1758L4.26554 13.5742C3.01944 12.2422 2.37491 10.6953 2.37491 9.0625C2.37491 4.89453 6.67179 1.5 11.9999 1.5ZM11.9999 0.125C5.89835 0.125 0.999913 4.16406 0.999913 9.0625C0.999913 11.125 1.81632 13.0156 3.23429 14.5195C2.63273 16.1953 1.30069 17.6562 1.25773 17.6562C0.956945 17.957 0.913976 18.3867 1.04288 18.7734C1.21476 19.1602 1.60148 19.375 1.98819 19.375C4.65226 19.375 6.71476 18.3008 8.00382 17.3984C9.24991 17.7852 10.5819 18 11.9999 18C18.0585 18 22.9999 14.0039 22.9999 9.0625C22.9999 4.16406 18.0585 0.125 11.9999 0.125Z"})))}var ho,xo=i.forwardRef(vo);t.p;function go(){return(go=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Oo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function mo(e,n){var t=e.title,r=e.titleId,a=Oo(e,["title","titleId"]);return i.createElement("svg",go({width:10,height:10,viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,ho||(ho=i.createElement("path",{d:"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z"})))}var yo,wo,Co,ko,_o,Eo,So,zo,Mo,Po,Lo,Io,Do,Ro,No=i.forwardRef(mo),To=(t.p,h.c.div(yo||(yo=Object(v.a)(["\n  position: relative;\n"])))),Uo=(h.c.img(wo||(wo=Object(v.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),h.c.div(Co||(Co=Object(v.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n\n      padding-top: 10px;\n    "}))),qo=h.c.div(ko||(ko=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Bo=(h.c.div(_o||(_o=Object(v.a)(["\n  display: flex;\n  /* margin-left: 15px;\n  margin-bottom: 13px; */\n\n  /* margin-top: 1px; */\n"]))),h.c.div(Eo||(Eo=Object(v.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"])))),Fo=h.c.div(So||(So=Object(v.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  right: 0;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    fill: white;\n    width: 10px;\n  }\n"]))),Ao=h.c.div(zo||(zo=Object(v.a)(["\n  display: flex;\n  margin-top: 10px;\n  svg {\n    ","\n  }\n"])),ie),Zo=h.c.img(Mo||(Mo=Object(v.a)(["\n  width: 100%;\n"]))),Ho=h.c.div(Po||(Po=Object(v.a)(["\n  display: flex;\n  margin-left: auto;\n"]))),Vo=function(e){var n=e.post,t=(e.isPersonal,e.handleEditMode),r=Object(i.useState)(""),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useContext)(qc),d=l.userData,u=l.setUserData,b=ke().request,p=Cr().handlePageNotification,v=Object(i.useRef)(null),h=Qr(),x=h.handleUploadImages,g=h.handleRemoveImage,O=h.images,m=h.setImages,y=h.imageLoading;Object(i.useEffect)((function(){o(n.content),m(n.images)}),[n]);var w=function(){var e=Object(f.a)(j.a.mark((function e(r){var i,a,o,s,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!y){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,i={content:c,images:O},e.next=7,b("/api/post/".concat(n._id),"PUT",i);case 7:a=e.sent,o=d.wall.findIndex((function(e){return e._id===n._id})),(s=d.wall[o]).content=c,s.images=O,l=[].concat(Object(Ve.a)(d.wall.slice(0,o)),[s],Object(Ve.a)(d.wall.slice(o+1))),u(Object(Ge.a)(Object(Ge.a)({},d),{},{wall:l})),p({type:"success",text:a.message}),t(!1),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0),p({type:"error",text:e.t0.message}),t(!1);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(n){return e.apply(this,arguments)}}();return Object(Te.jsx)(To,{style:{marginTop:"15px"},children:Object(Te.jsxs)("form",{onSubmit:w,children:[Object(Te.jsx)(Ui,{handleChooseEmoji:function(e){o(c+e)}}),Object(Te.jsx)(pe,{$focuse:!0,value:c,onChange:function(e){o(e.target.value)},style:{resize:"none"},minRows:4}),O.length>0&&Object(Te.jsx)(Uo,{exists:y||O.length>0,children:Object(Te.jsxs)(Te.Fragment,{children:[y&&Object(Te.jsx)(qo,{children:Object(Te.jsx)(zr,{})}),O.map((function(e){return Object(Te.jsxs)(Bo,{children:[Object(Te.jsx)(Fo,{onClick:g.bind(null,e),children:Object(Te.jsx)(No,{})}),Object(Te.jsx)(Zo,{src:e.url,alt:"post image"})]},e.public_id)}))]})}),Object(Te.jsxs)(Ao,{children:[Object(Te.jsxs)("label",{children:[Object(Te.jsx)(ii,{}),Object(Te.jsx)("input",{type:"file",name:"file",accept:"image/*",multiple:!0,onChange:x,ref:v,style:{display:"none"}})]}),Object(Te.jsxs)(Ho,{children:[Object(Te.jsx)(le,{size:"small",color:"secondary",marginRight:"10px",onClick:function(){return t(!1)},children:"Cancel"}),Object(Te.jsx)(le,{size:"small",children:"Publish"})]})]})]})})},Go=h.c.div(Lo||(Lo=Object(v.a)(["\n  form {\n    display: flex;\n    align-items: flex-start;\n    padding: 10px 15px;\n  }\n"]))),Jo=(h.c.img(Io||(Io=Object(v.a)(["\n  width: 37px;\n  height: 37px;\n  margin-right: 15px;\n  border-radius: 100px;\n"]))),h.c.button(Do||(Do=Object(v.a)(["\n  margin-left: 10px;\n  padding-top: 5px;\n  background: none;\n  svg {\n    ","\n    fill: var(--color-dark-secondary);\n    :hover {\n      fill: var(--text-color-secondary);\n    }\n  }\n"])),ie),function(e){var n=e.post,t=e.setComments,r=Object(i.useState)(""),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useRef)(null),d=Object(i.useContext)(u),b=d.meUserData,p=d.socket,v=ke().request,h=function(){var e=Object(f.a)(j.a.mark((function e(r){var i,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,v("/api/comment","POST",{content:c,postId:n._id});case 3:if(i=e.sent,o(""),t((function(e){return[].concat(Object(Ve.a)(e),[i.comment])})),n.user._id===(null===b||void 0===b?void 0:b._id)){e.next=12;break}return console.log("not my post"),e.next=10,v("/api/notify","POST",{text:"left a comment under your post",url:"/profile/".concat(n.user._id),recipients:[n.user._id]});case 10:a=e.sent,p.emit("createNotification",a.notification);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(Te.jsx)(Go,{children:Object(Te.jsxs)("form",{ref:l,onSubmit:h,children:[Object(Te.jsx)(fe,{marginRight:"10px",size:"medium-small",src:null===b||void 0===b?void 0:b.avatar}),Object(Te.jsx)(pe,{$focuse:!0,placeholder:"Write something...",style:{resize:"none"},onChange:function(e){o(e.target.value)},value:c,onKeyDown:function(e){var n;"Enter"!==e.key||e.shiftKey||(null===l||void 0===l||null===(n=l.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())}}),Object(Te.jsx)(Ui,{handleChooseEmoji:function(e){o(c+e)}})]})})}),Ko=function(e,n){var t=Object(i.useState)(e.likes),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],b=l[1],p=Object(i.useState)(!1),v=Object(s.a)(p,2),h=v[0],x=v[1],g=ke().request,O=Object(i.useContext)(u).socket,m=Cr().handlePageNotification;Object(i.useEffect)((function(){a.find((function(e){return e._id===n._id}))&&b(!0)}),[a,n._id]);var y=function(){var t=Object(f.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return");case 2:return b(!0),x(!0),c([].concat(Object(Ve.a)(a),[n])),t.prev=5,t.next=8,g("/api/comment/like/".concat(e._id),"PUT");case 8:if(e.user._id===(null===n||void 0===n?void 0:n._id)){t.next=16;break}return console.log("i can like this comment",e),t.next=12,g("/api/notify","POST",{text:"liked your comment",url:"/profile/".concat(e.user._id),recipients:[e.user._id]});case 12:r=t.sent,O.emit("createNotification",r.notification),t.next=17;break;case 16:console.log("my comment");case 17:x(!1),t.next=25;break;case 20:t.prev=20,t.t0=t.catch(5),console.log(t.t0),m({type:"error",text:t.t0.message}),x(!1);case 25:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(f.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return");case 2:return b(!1),x(!0),r=a.filter((function(e){return e._id!==(null===n||void 0===n?void 0:n._id)})),c(r),t.prev=6,t.next=9,g("/api/comment/unlike/".concat(e._id),"PUT");case 9:x(!1),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(6),console.log(t.t0),m({type:"error",text:t.t0.message}),x(!1);case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}();return{likes:a,isLike:d,setIsLike:b,loadLike:h,setLoadLike:x,handleLikeComment:y,handleUnLikeComment:w}};function $o(){return($o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Wo(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Yo(e,n){var t=e.title,r=e.titleId,a=Wo(e,["title","titleId"]);return i.createElement("svg",$o({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Ro||(Ro=i.createElement("path",{d:"M12.6408 0.819587C11.1384 -0.438293 8.92579 -0.197422 7.53267 1.19427L7.01366 1.72954L6.46733 1.19427C5.10152 -0.197422 2.8616 -0.438293 1.3592 0.819587C-0.361717 2.26481 -0.443665 4.8341 1.08604 6.38637L6.38539 11.7391C6.71318 12.087 7.28682 12.087 7.61461 11.7391L12.914 6.38637C14.4437 4.8341 14.3617 2.26481 12.6408 0.819587Z",fill:"#DBE1EF"})))}var Qo,Xo,es,ns,ts,rs,is,as,cs,os,ss,ls,ds,us,bs,ps,js,fs,vs,hs,xs,gs,Os,ms,ys,ws,Cs,ks,_s,Es,Ss,zs,Ms,Ps,Ls,Is,Ds,Rs,Ns,Ts,Us,qs,Bs,Fs,As=i.forwardRef(Yo),Zs=(t.p,h.c.div(Qo||(Qo=Object(v.a)(["\n  padding: 15px 0;\n  display: flex;\n  align-items: flex-start;\n  position: relative;\n"])))),Hs=(h.c.img(Xo||(Xo=Object(v.a)(["\n  width: 35px;\n  height: 35px;\n  border-radius: 100px;\n  margin-right: 15px;\n"]))),h.c.div(es||(es=Object(v.a)(["\n  position: relative;\n"])))),Vs=h.c.div(ns||(ns=Object(v.a)([""]))),Gs=h.c.div(ts||(ts=Object(v.a)(["\n  display: flex;\n"]))),Js=(h.c.div(rs||(rs=Object(v.a)([""]))),h.c.div(is||(is=Object(v.a)(["\n  position: absolute;\n  top: 15px;\n  right: 0;\n  svg {\n    ","\n  }\n"])),ce)),Ks=h.c.div(as||(as=Object(v.a)([""]))),$s=h.c.div(cs||(cs=Object(v.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),Ws=h.c.div(os||(os=Object(v.a)(["\n  position: absolute;\n  bottom: 15px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  svg {\n    ","\n    margin-right: 3px;\n    position: relative;\n    /* top: px; */\n\n    ","\n  }\n"])),ce,(function(e){return e.liked&&"\n      fill: var(--color-red);\n      margin-right: 0;\n      :hover {\n        fill: var(--color-red);\n      }\n    "})),Ys=h.c.div(ss||(ss=Object(v.a)(["\n  margin-left: 3px;\n  /* color: var(--text-color-secondary); */\n"]))),Qs=function(e){var n=e.comment,t=e.setComments,r=e.post,a=cn(),c=a.visible,o=a.show,l=a.hide,d=Object(i.useState)(!0),b=Object(s.a)(d,2),p=b[0],v=b[1],h=ke().request,x=Cr().handlePageNotification,g=Object(i.useContext)(qc).isPersonal,O=Object(i.useContext)(u).meUserData;Object(i.useEffect)((function(){g||n.user._id===(null===O||void 0===O?void 0:O._id)||r.user._id===(null===O||void 0===O?void 0:O._id)?v(!0):v(!1)}),[n.user._id,O._id]);var m=Ko(n,O),y=m.handleLikeComment,w=m.handleUnLikeComment,C=m.isLike,k=m.likes,_=function(){var e=Object(f.a)(j.a.mark((function e(r){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("/api/comment/".concat(n._id),"DELETE",{postId:r});case 3:i=e.sent,t((function(e){return e.filter((function(e){return e._id!==n._id}))})),x({type:"success",text:i.message}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),x({type:"success",text:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),E=Object(Te.jsx)(de,{onClick:l,children:Object(Te.jsx)(Ks,{children:p&&Object(Te.jsx)($s,{onClick:_.bind(null,r._id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})}),S=an.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"});return Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)(Zs,{children:[Object(Te.jsx)(fe,{marginRight:"10px",size:"medium-small",src:n.user.avatar}),Object(Te.jsxs)(Hs,{children:[Object(Te.jsxs)(oe,{style:{marginBottom:"5px",display:"block"},to:"/profile/".concat(n.user._id),children:[n.user.firstName," ",n.user.lastName]}),Object(Te.jsx)(Vs,{children:n.content}),Object(Te.jsx)(Gs,{children:Object(Te.jsx)(se,{style:{marginTop:"5px"},children:S})})]}),p&&Object(Te.jsx)(He.a,{content:E,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,5],visible:c,onClickOutside:l,children:Object(Te.jsx)(Js,{onClick:c?l:o,children:Object(Te.jsx)(Kr,{})})}),C?Object(Te.jsxs)(Ws,{onClick:w,liked:!0,children:[Object(Te.jsx)(po,{}),k.length>0&&Object(Te.jsx)(Ys,{children:k.length})]}):Object(Te.jsxs)(Ws,{onClick:y,liked:!1,children:[Object(Te.jsx)(As,{}),k.length>0&&k.length]})]}),Object(Te.jsx)(je,{className:"separator"})]})},Xs=h.c.div(ls||(ls=Object(v.a)(["\n  padding: 0 15px;\n  .separator {\n    :last-child {\n      display: none;\n    }\n  }\n"]))),el=function(e){var n=e.comments,t=e.setComments,r=e.post;return Object(Te.jsx)(Xs,{children:n.map((function(e){return Object(Te.jsx)(Qs,{comment:e,setComments:t,post:r},e._id)}))})},nl=function(e,n){var t=Object(i.useState)(n.likes),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],b=l[1],p=Object(i.useState)(!1),v=Object(s.a)(p,2),h=v[0],x=v[1],g=Object(i.useContext)(u).socket,O=ke().request,m=Cr().handlePageNotification;Object(i.useEffect)((function(){a.find((function(n){return n._id===e._id}))&&b(!0)}),[a,e._id]);var y=function(){var t=Object(f.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return");case 2:return b(!0),x(!0),c([].concat(Object(Ve.a)(a),[e])),t.prev=5,t.next=8,O("/api/post/like/".concat(n._id),"PUT");case 8:if(n.user._id===(null===e||void 0===e?void 0:e._id)){t.next=14;break}return console.log("not my post"),t.next=12,O("/api/notify","POST",{text:"liked your post",url:"/profile/".concat(n.user._id),recipients:[n.user._id]});case 12:r=t.sent,g.emit("createNotification",r.notification);case 14:x(!1),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(5),console.log(t.t0),m({type:"error",text:t.t0.message}),x(!1);case 22:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(f.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return");case 2:return b(!1),x(!0),r=a.filter((function(n){return n._id!==(null===e||void 0===e?void 0:e._id)})),c(r),t.prev=6,t.next=9,O("/api/post/unlike/".concat(n._id),"PUT");case 9:x(!1),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(6),console.log(t.t0),m({type:"error",text:t.t0.message}),x(!1);case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}();return{likes:a,isLike:d,setIsLike:b,loadLike:h,setLoadLike:x,handleLikePost:y,handleUnLikePost:w}},tl=(h.c.div(ds||(ds=Object(v.a)(["\n  display: flex;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]))),h.c.img(us||(us=Object(v.a)(["\n  width: 100%;\n"])))),rl=h.c.div(bs||(bs=Object(v.a)(["\n  display: flex;\n  align-items: center;\n"]))),il=(h.c.img(ps||(ps=Object(v.a)(["\n  width: 45px;\n  height: 45px;\n  border-radius: 100px;\n  margin-right: 15px;\n"]))),h.c.div(js||(js=Object(v.a)([""])))),al=(h.c.div(fs||(fs=Object(v.a)(["\n  margin-bottom: 3px;\n"]))),h.c.div(vs||(vs=Object(v.a)(["\n  color: var(--text-color-secondary);\n"])))),cl=h.c.div(hs||(hs=Object(v.a)(["\n  margin-left: auto;\n  svg {\n    ","\n  }\n"])),ie),ol=h.c.div(xs||(xs=Object(v.a)([""]))),sl=h.c.div(gs||(gs=Object(v.a)(["\n  display: flex;\n  padding: 15px 15px;\n  align-items: center;\n  border-top: var(--border-primary);\n\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n  :first-child {\n    border-top: none;\n  }\n"]))),ll=h.c.div(Os||(Os=Object(v.a)(["\n  display: flex;\n"]))),dl=h.c.div(ms||(ms=Object(v.a)([""]))),ul=h.c.div(ys||(ys=Object(v.a)(["\n  padding-top: 20px;\n"]))),bl=h.c.div(ws||(ws=Object(v.a)(["\n  padding-top: 15px;\n"]))),pl=h.c.div(Cs||(Cs=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n\n  svg {\n    ","\n\n    ","\n  }\n"])),ie,(function(e){return e.liked&&"\n      fill: var(--color-red);\n      :hover {\n        fill: var(--color-red);\n      }\n    "})),jl=h.c.div(ks||(ks=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  svg {\n    ","\n  }\n"])),ie),fl=h.c.div(_s||(_s=Object(v.a)(["\n  margin-left: 5px;\n  /* color: var(--text-color-secondary); */\n  font-size: 16px;\n  top: 2px;\n"]))),vl=function(e){var n,t,r,a,c=e.post,o=e.setEditMode,l=e.editMode,d=Object(i.useState)(Object(Ve.a)(c.comments)),b=Object(s.a)(d,2),p=b[0],v=b[1],h=Object(i.useState)(!1),x=Object(s.a)(h,2),g=x[0],O=x[1],m=Object(i.useState)(!1),y=Object(s.a)(m,2),w=y[0],C=y[1],k=Object(i.useState)(!1),_=Object(s.a)(k,2),E=_[0],S=_[1],z=cn(),M=z.visible,P=z.show,L=z.hide,I=Cr().handlePageNotification,D=an.DateTime.fromISO(c.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),R=ke().request,N=Object(i.useContext)(qc),T=N.userData,U=N.setUserData,q=N.isPersonal,B=Object(i.useContext)(u),F=B.meUserData,A=(B.setMeUserData,nl(F,c)),Z=A.isLike,H=A.handleUnLikePost,V=A.handleLikePost,G=A.likes;Object(i.useEffect)((function(){q?(S(!0),T.wall.find((function(e){return e._id===c._id})).user._id===(null===F||void 0===F?void 0:F._id)?C(!0):(console.log("you cannot edit this post"),C(!1))):T.wall.find((function(e){return e.user._id===F._id&&e._id===c._id}))?(S(!0),C(!0)):(C(!1),S(!1))}),[c._id,F._id]);var J=function(){var e=Object(f.a)(j.a.mark((function e(){var n,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R("/api/post/".concat(c._id),"DELETE");case 3:n=e.sent,t=T.wall.filter((function(e){return e._id!==c._id})),U(Object(Ge.a)(Object(Ge.a)({},T),{},{wall:t})),I({type:"success",text:n.message}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),I({type:"error",text:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),K=function(e){e?l||(O(!0),o(!0)):(O(!1),o(!1))},$=Object(Te.jsx)(de,{onClick:L,children:Object(Te.jsxs)(ol,{children:[w&&Object(Te.jsx)(sl,{onClick:function(){return K(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),E&&Object(Te.jsx)(sl,{onClick:J,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})});return Object(Te.jsxs)(de,{style:{marginBottom:"15px"},children:[Object(Te.jsxs)(ue,{children:[Object(Te.jsxs)(rl,{children:[Object(Te.jsx)(fe,{size:"medium",marginRight:"15px",src:null===(n=c.user)||void 0===n?void 0:n.avatar}),Object(Te.jsxs)(il,{children:[Object(Te.jsxs)(oe,{to:"/profile/".concat(null===(t=c.user)||void 0===t?void 0:t._id),style:{marginBottom:"5px",display:"block"},children:[null===(r=c.user)||void 0===r?void 0:r.firstName," ",null===(a=c.user)||void 0===a?void 0:a.lastName]}),Object(Te.jsx)(al,{children:D})]}),(w||E)&&Object(Te.jsx)(He.a,{content:$,interactive:!0,placement:"bottom-end",trigger:"click",duration:0,offset:[0,5],visible:M,onClickOutside:L,children:Object(Te.jsx)(cl,{onClick:M?L:P,children:Object(Te.jsx)(Kr,{})})})]}),g?Object(Te.jsx)(Vo,{handleEditMode:K,post:c,isPersonal:q}):Object(Te.jsxs)(Te.Fragment,{children:[c.content&&Object(Te.jsx)(dl,{children:Object(Te.jsx)(ul,{children:c.content})}),c.images.length>0&&Object(Te.jsx)(bl,{children:c.images.map((function(e){return Object(Te.jsx)(tl,{src:e.url,alt:"post image"})}))})]})]}),Object(Te.jsx)(je,{}),Object(Te.jsx)(ue,{children:Object(Te.jsxs)(ll,{children:[Z?Object(Te.jsxs)(pl,{onClick:H,liked:!0,children:[Object(Te.jsx)(po,{}),G.length>0&&Object(Te.jsx)(fl,{children:G.length})]}):Object(Te.jsxs)(pl,{onClick:V,liked:!1,children:[Object(Te.jsx)(oo,{}),G.length>0&&Object(Te.jsx)(fl,{children:G.length})]}),Object(Te.jsxs)(jl,{children:[Object(Te.jsx)(xo,{}),p.length>0&&Object(Te.jsx)(fl,{children:p.length})]})]})}),Object(Te.jsx)(je,{}),Object(Te.jsx)(el,{comments:p,setComments:v,post:c}),Object(Te.jsx)(Jo,{post:c,setComments:v})]},c._id)},hl=function(e){var n=e.data,t=Object(i.useState)(!1),r=Object(s.a)(t,2),a=r[0],c=r[1];return Object(Te.jsx)(Te.Fragment,{children:n.map((function(e){return Object(Te.jsx)(vl,{post:e,setEditMode:c,editMode:a},e._id)}))})},xl=h.c.div(Es||(Es=Object(v.a)([""]))),gl=h.c.div(Ss||(Ss=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]))),Ol=h.c.div(zs||(zs=Object(v.a)(["\n  font-size: 18px;\n  color: var(--color-black);\n  /* font-weight: 600; */\n"]))),ml=h.c.div(Ms||(Ms=Object(v.a)(["\n  /* font-size: 13px; */\n  color: var(--text-color-secondary);\n"]))),yl=h.c.div(Ps||(Ps=Object(v.a)([""]))),wl=h.c.div(Ls||(Ls=Object(v.a)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),Cl=h.c.div(Is||(Is=Object(v.a)(["\n  min-width: 130px;\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-primary);\n"]))),kl=h.c.div(Ds||(Ds=Object(v.a)([""]))),_l=function(e){var n=e.userData,t=Object(i.useContext)(qr).online;return Object(Te.jsxs)(xl,{children:[Object(Te.jsx)(ue,{children:Object(Te.jsxs)(gl,{children:[Object(Te.jsx)(Ol,{children:n.firstName+" "+n.lastName}),t[(null===n||void 0===n?void 0:n._id)?null===n||void 0===n?void 0:n._id:"d"]&&Object(Te.jsx)(ml,{children:"online"})]})}),Object(Te.jsx)(je,{}),Object(Te.jsx)(ue,{children:Object(Te.jsxs)(yl,{children:[n.city&&Object(Te.jsxs)(wl,{children:[Object(Te.jsx)(Cl,{children:"City:"}),Object(Te.jsx)(kl,{children:n.city})]}),n.aboutMe&&Object(Te.jsxs)(wl,{children:[Object(Te.jsx)(Cl,{children:"About me:"}),Object(Te.jsx)(kl,{children:n.aboutMe})]})]})})]})},El=h.c.img(Rs||(Rs=Object(v.a)(["\n  width: 100%;\n  /* margin-right: 15px; */\n  margin-bottom: 10px;\n  /* object-fit: contain; */\n"]))),Sl=h.c.div(Ns||(Ns=Object(v.a)(["\n  width: 35%;\n  margin-right: 15px;\n"]))),zl=h.c.div(Ts||(Ts=Object(v.a)(["\n  width: 65%;\n"]))),Ml=(h.c.div(Us||(Us=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 100px;\n"]))),h.c.div(qs||(qs=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding-top: 25px;\n  div {\n    display: block;\n    font-size: 18px;\n    color: var(--text-color-secondary);\n  }\n  span {\n    color: var(--text-color-secondary);\n  }\n"])))),Pl=h.c.div(Bs||(Bs=Object(v.a)([""]))),Ll=function(){var e=function(e){var n=Object(i.useState)(null),t=Object(s.a)(n,2),r=t[0],a=t[1],c=Object(i.useState)(!1),o=Object(s.a)(c,2),l=o[0],d=o[1],p=Object(i.useContext)(u),j=p.meUserData,f=p.setMeUserData,v=(p.accessToken,Object(i.useState)(!1)),h=Object(s.a)(v,2),x=h[0],g=h[1],O=ke().request,m=Object(b.g)();return Object(i.useEffect)((function(){g(!0),e===(null===j||void 0===j?void 0:j._id)?d(!0):d(!1),O("/api/user/".concat(e),"GET").then((function(e){a(e.userData),g(!1)})).catch((function(e){m.push("/not-found"),a(null),g(!1)}))}),[e,null===j||void 0===j?void 0:j._id]),{userData:r,setUserData:a,isPersonal:l,loading:x,meUserData:j,setMeUserData:f}}(Object(b.i)().id),n=e.userData,t=e.setUserData,r=e.isPersonal,a=e.loading;e.meUserData,e.setMeUserData;return!n||a?Object(Te.jsx)("div",{style:{minHeight:"550px"}}):Object(Te.jsx)(qc.Provider,{value:{userData:n,setUserData:t,isPersonal:r},children:Object(Te.jsx)(Il,{})})},Il=function(){var e=Object(i.useContext)(qc),n=e.userData,t=e.setUserData,r=e.isPersonal,a=Object(i.useContext)(u),c=a.meUserData,o=a.setMeUserData,s=n,l=(s.firstName,s.lastName,s.avatar),d=s.wall;return console.log("user data",n),Object(Te.jsxs)("div",{className:"profile",style:{minHeight:"700px"},children:[Object(Te.jsxs)(Sl,{children:[Object(Te.jsx)(de,{marginBottom:"15px",children:Object(Te.jsx)(ue,{children:Object(Te.jsxs)(Pl,{children:[Object(Te.jsx)(El,{src:l}),r?Object(Te.jsx)(Gc,{}):Object(Te.jsx)(Hc,{})]})})}),Object(Te.jsx)(de,{children:Object(Te.jsx)(Uc,{isPersonal:r,friends:null===n||void 0===n?void 0:n.friends,_id:null===n||void 0===n?void 0:n._id})})]}),Object(Te.jsxs)(zl,{children:[Object(Te.jsx)(de,{marginBottom:"15px",children:Object(Te.jsx)(_l,{userData:n})}),Object(Te.jsx)(de,{marginBottom:"15px",children:Object(Te.jsx)(to,{userData:n,setUserData:t,isPersonal:r,meUserData:c,setMeUserData:o})}),d.length>0?Object(Te.jsx)(hl,{data:d}):Object(Te.jsx)(Ml,{children:r?Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)("div",{children:"Empty wall..."}),Object(Te.jsx)("span",{children:"Post something on your wall by writing in a text field above!"})]}):Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)("div",{children:"Empty wall..."}),Object(Te.jsx)("span",{children:"You can make this wall alive by posting somethin on it!"})]})})]})]})};function Dl(){return(Dl=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Rl(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Nl(e,n){var t=e.title,r=e.titleId,a=Rl(e,["title","titleId"]);return i.createElement("svg",Dl({width:6,height:11,viewBox:"0 0 6 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},a),t?i.createElement("title",{id:r},t):null,Fs||(Fs=i.createElement("path",{d:"M5.17627 9.9668L5.32666 9.81641C5.43408 9.70898 5.43408 9.55859 5.32666 9.45117L1.13721 5.26172L5.32666 1.05078C5.43408 0.943359 5.43408 0.792969 5.32666 0.685547L5.17627 0.535156C5.06885 0.427734 4.91846 0.427734 4.81104 0.535156L0.277832 5.06836C0.17041 5.17578 0.17041 5.32617 0.277832 5.43359L4.81103 9.9668C4.91846 10.0742 5.06885 10.0742 5.17627 9.9668Z",fill:"#414141"})))}var Tl,Ul,ql,Bl,Fl,Al,Zl,Hl,Vl,Gl,Jl,Kl,$l,Wl,Yl,Ql,Xl,ed,nd,td,rd,id,ad,cd,od,sd=i.forwardRef(Nl),ld=(t.p,h.c.div(Tl||(Tl=Object(v.a)(["\n  width: 550px;\n  max-height: 50vh;\n\n  .contentBox {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n"])))),dd=h.c.div(Ul||(Ul=Object(v.a)([""]))),ud=h.c.div(ql||(ql=Object(v.a)([""]))),bd=h.c.div(Bl||(Bl=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    align-self: center;\n    margin-right: 15px;\n  }\n  /* a {\n    display: block;\n  } */\n"]))),pd=Object(h.c)(l.b)(Fl||(Fl=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  /* height: 100%; */\n  background: none;\n  padding: 20px 18px;\n  svg {\n    ","\n    width: 5px;\n    margin-right: 8px;\n  }\n  :hover {\n    background: var(--color-secondary);\n    cursor: pointer;\n  }\n"])),ce),jd=h.c.div(Al||(Al=Object(v.a)(["\n  /* font-size: 13px; */\n  text-align: center;\n  color: var(--text-color-secondary);\n"]))),fd=function(e){var n,t,r=e.children,a=e.conversation,c=Object(i.useContext)(qr).online,o=Object(b.g)();a||o.push("/messages");Object(i.useContext)(u).meUserData;return Object(Te.jsx)(ld,{children:Object(Te.jsxs)(de,{className:"contentBox",children:[Object(Te.jsxs)(dd,{children:[Object(Te.jsxs)(bd,{children:[Object(Te.jsxs)(pd,{to:"/messages",children:[Object(Te.jsx)(sd,{}),"Back"]}),a.users.length>1?Object(Te.jsx)(Te.Fragment,{children:a.users.map((function(e){return Object(Te.jsx)("div",{children:e.firstName})}))}):Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsxs)("div",{children:[Object(Te.jsxs)(oe,{color:"black",to:"/profile/".concat(a.users[0]._id),children:[a.users[0].firstName," ",a.users[0].lastName]}),c[(null===(n=a.users[0])||void 0===n?void 0:n._id)?null===(t=a.users[0])||void 0===t?void 0:t._id:"d"]&&Object(Te.jsx)(jd,{children:"online"})]}),Object(Te.jsx)(l.b,{to:"/profile/".concat(a.users[0]._id),children:Object(Te.jsx)(fe,{src:a.users[0].avatar,size:"small"})})]})]}),Object(Te.jsx)(je,{})]}),Object(Te.jsx)(ud,{children:r})]})})},vd=h.c.div(Zl||(Zl=Object(v.a)(["\n  padding: 15px;\n  display: flex;\n  position: relative;\n  margin-top: auto;\n  img {\n    margin-right: 15px;\n  }\n  svg {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    display: none;\n    ","\n  }\n  :hover {\n    background: var(--color-secondary);\n    svg {\n      display: block;\n    }\n  }\n  ","\n"])),ce,(function(e){return!e.isRead&&"\n    background: var(--color-secondary);\n  "})),hd=h.c.div(Hl||(Hl=Object(v.a)([""]))),xd=h.c.div(Vl||(Vl=Object(v.a)(["\n  margin-bottom: 5px;\n"]))),gd=h.c.span(Gl||(Gl=Object(v.a)(["\n  color: var(--text-color-secondary);\n"]))),Od=h.c.div(Jl||(Jl=Object(v.a)([""]))),md=h.c.img(Kl||(Kl=Object(v.a)(["\n  width: 300px;\n  height: auto;\n  margin-top: 5px;\n"]))),yd=function(e){var n=e.message,t=e.isMe,r=e.messages,a=an.DateTime.fromISO(n.createdAt).toLocaleString({day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),c=ke().request,o=Object(b.g)(),s=Object(i.useContext)(u),l=s.socket,d=s.setConversations,p=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handle read message",n),e.prev=1,e.next=4,c("/api/read_message/".concat(n._id),"PUT");case 4:t=e.sent,console.log("res",t),d((function(e){console.log("i'm setting conversations with this message",t.readMsg);var n=e.find((function(e){return e._id===t.readMsg.conversation._id})),r=e.findIndex((function(e){return e._id===t.readMsg.conversation._id})),i=n.messages.findIndex((function(e){return e._id===t.readMsg._id})),a=[].concat(Object(Ve.a)(n.messages.slice(0,i)),[t.readMsg],Object(Ve.a)(n.messages.slice(i+1)));console.log("messages",a);var c=Object(Ge.a)(Object(Ge.a)({},n),{},{messages:a});console.log("updated conversation",c);var o=[].concat(Object(Ve.a)(e.slice(0,r)),[c],Object(Ve.a)(e.slice(r+1)));return console.log("newConversations",o),o})),l.emit("readMessage",t.readMsg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this message?")){e.next=3;break}return e.abrupt("return");case 3:if(1!==r.length){e.next=16;break}return e.prev=4,e.next=7,c("/api/conversation/".concat(n.conversation._id),"DELETE");case 7:o.push("/messages"),d((function(e){return e.filter((function(e){return e._id!==n.conversation._id}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,c("/api/message/".concat(n._id),"DELETE");case 19:t=e.sent,d((function(e){console.log("i'm deleting a message",t.readMsg);var r=e.find((function(e){return e._id===n.conversation._id})),i=e.findIndex((function(e){return e._id===n.conversation._id})),a=r.messages.filter((function(e){return e._id!==n._id})),c=Object(Ge.a)(Object(Ge.a)({},r),{},{messages:a});return[].concat(Object(Ve.a)(e.slice(0,i)),[c],Object(Ve.a)(e.slice(i+1)))})),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.log(e.t1);case 26:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){t||n.isRead||(console.log("read"),p())}),[]),Object(Te.jsxs)(vd,{isRead:n.isRead,children:[Object(Te.jsx)(fe,{size:"medium-small",src:n.user.avatar}),Object(Te.jsxs)(hd,{children:[Object(Te.jsxs)(xd,{children:[Object(Te.jsxs)(oe,{to:"/profile/".concat(n.user._id),children:[n.user.firstName," ",n.user.lastName]}),"  ",Object(Te.jsx)(gd,{children:a})]}),n.content&&Object(Te.jsx)(Od,{children:n.content}),n.images&&n.images.map((function(e,n){return Object(Te.jsx)(md,{src:e.url},n)}))]}),Object(Te.jsx)(Ra,{onClick:v}),Object(Te.jsx)("div",{style:{position:"absolute",bottom:0},id:n._id})]})},wd=h.c.div($l||($l=Object(v.a)(["\n  position: relative;\n  form {\n    display: flex;\n    align-items: flex-start;\n    padding: 10px 15px;\n  }\n  textarea {\n    display: block;\n    border: 1px solid var(--text-color-secondary);\n    border-radius: var(--border-radius-primary);\n    padding: 11px;\n    padding-right: 65px;\n    width: 100%;\n    position: relative;\n    overflow-y: hidden;\n    ::placeholder {\n      color: var(--text-color-secondary);\n    }\n  }\n"]))),Cd=h.c.div(Wl||(Wl=Object(v.a)(["\n  position: absolute;\n  top: 18px;\n  right: 55px;\n  svg {\n    ","\n  }\n"])),ie),kd=(h.c.img(Yl||(Yl=Object(v.a)(["\n  width: 37px;\n  height: 37px;\n  margin-right: 15px;\n  border-radius: 100px;\n"]))),h.c.button(Ql||(Ql=Object(v.a)(["\n  margin-left: 10px;\n  padding-top: 5px;\n  background: none;\n  svg {\n    ","\n    fill: var(--color-dark-secondary);\n    :hover {\n      fill: var(--text-color-secondary);\n    }\n  }\n"])),ie),h.c.div(Xl||(Xl=Object(v.a)(["\n  display: flex;\n  /* margin-left: 15px;\n  margin-bottom: 13px; */\n\n  /* margin-top: 1px; */\n"])))),_d=h.c.div(ed||(ed=Object(v.a)(["\n  position: relative;\n  width: 100px;\n  margin-right: 10px;\n"]))),Ed=h.c.div(nd||(nd=Object(v.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :hover {\n    cursor: pointer;\n  }\n  svg {\n    width: 20px;\n    fill: white;\n  }\n"]))),Sd=h.c.img(td||(td=Object(v.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 5px;\n  ","\n"])),(function(e){return 2===e.count&&"\n    width: 50%;\n    height: auto;\n  "})),zd=h.c.div(rd||(rd=Object(v.a)(["\n  display: flex;\n  ","\n"])),(function(e){return e.exists&&"\n      padding: 15px;\n      padding-top: 0;\n    "})),Md=h.c.div(id||(id=Object(v.a)(["\n  width: 100px;\n  height: 100px;\n  background: var(--color-secondary);\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Pd=function(e){var n=e.conversation,t=Object(i.useState)(""),r=Object(s.a)(t,2),a=r[0],c=r[1],o=Qr(),l=o.images,d=o.setImages,b=o.handleUploadImages,p=o.handleRemoveImage,v=o.imageLoading,h=Object(i.useRef)(null),x=Object(i.useRef)(null),g=Object(i.useState)("auto"),O=Object(s.a)(g,2),m=(O[0],O[1]),y=Object(i.useContext)(u),w=y.meUserData,C=y.socket,k=y.setConversations,_=ke().request,E=function(){var e=Object(f.a)(j.a.mark((function e(t){var r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a||0!==l.length)&&!v){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_("/api/message","POST",{content:a,images:l,conversationId:n._id});case 5:r=e.sent,c(""),d([]),k((function(e){var n=e.filter((function(e){return e._id!==r.newMessage.conversation._id})),t=e.find((function(e){return e._id===r.newMessage.conversation._id}));return[Object(Ge.a)(Object(Ge.a)({},t),{},{messages:[].concat(Object(Ve.a)(t.messages),[r.newMessage])})].concat(Object(Ve.a)(n))})),i={user:w,recipients:Object(Ve.a)(n.users),text:"sent you a\xa0message: ".concat(r.newMessage.content.slice(0,70)).concat(r.newMessage.content.length>70?"...":""),url:"/".concat(n,"/").concat(n._id)},C.emit("createMessage",r.newMessage),C.emit("createMessageNotification",i);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(e){var n;"Enter"!==e.key||e.shiftKey||(null===h||void 0===h||null===(n=h.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),e.preventDefault())};return Object(Te.jsxs)(wd,{children:[Object(Te.jsxs)("form",{ref:h,onSubmit:E,children:[Object(Te.jsx)(fe,{size:"medium-small",style:{marginRight:"15px"},src:null===w||void 0===w?void 0:w.avatar}),Object(Te.jsx)(pe,{$focuse:!0,placeholder:"Write something...",style:{resize:"none"},onChange:function(e){m("auto"),c(e.target.value)},value:a,onKeyDown:S}),Object(Te.jsx)(Cd,{children:Object(Te.jsxs)("label",{children:[Object(Te.jsx)(ii,{}),Object(Te.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:b,onKeyPress:S,ref:x,style:{display:"none"}})]})}),Object(Te.jsx)(Ui,{handleChooseEmoji:function(e){c(a+e)}})]}),Object(Te.jsx)(zd,{exists:v||l.length>0,children:Object(Te.jsxs)(Te.Fragment,{children:[v&&Object(Te.jsx)(Md,{children:Object(Te.jsx)(zr,{})}),l.length>0&&Object(Te.jsx)(kd,{children:l.map((function(e,n){return Object(Te.jsxs)(_d,{children:[Object(Te.jsx)(Ed,{onClick:p.bind(null,e),children:Object(Te.jsx)(fr,{})}),Object(Te.jsx)(Sd,{src:e.url})]},e.public_id)}))})]})})]})},Ld=h.c.div(ad||(ad=Object(v.a)([""]))),Id=h.c.div(cd||(cd=Object(v.a)(["\n  padding: 15px 0;\n  height: 100%;\n  min-height: 100%;\n  display: flex;\n\n  flex-direction: column;\n  /* justify-content: flex-end;  */\n"]))),Dd=h.c.div(od||(od=Object(v.a)(["\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  /* &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 15px;\n    height: 15px;\n    border: 1px solid black;\n  } */\n  &::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: none;\n    /* box-shadow: inset 0 0 10px black; */\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 5px;\n    background: var(--color-dark-secondary);\n    box-shadow: inset 0 0 5px $pale-orange;\n  }\n\n  ","\n  > :first-child {\n    margin-top: auto !important;\n  }\n  /* flex-direction: row; */\n"])),(function(e){return e.height&&"min-height: calc(".concat(e.height,"px - 250px);\n      max-height: calc(").concat(e.height,"px - 250px);\n  ")})),Rd=function(e){var n=e.conversation,t=Object(i.useContext)(u).meUserData,r=a.a.useState({height:window.innerHeight,width:window.innerWidth}),c=Object(s.a)(r,2),o=c[0];c[1];return Object(i.useEffect)((function(){var e;null===(e=document.getElementById(n.messages[n.messages.length-1]._id))||void 0===e||e.scrollIntoView()}),[n]),Object(Te.jsxs)(Ld,{children:[Object(Te.jsxs)(Dd,{height:o.height,children:[console.log("messages list updated"),Object(Te.jsx)(Id,{children:n.messages.map((function(e){return e.user._id===(null===t||void 0===t?void 0:t._id)?Object(Te.jsx)(yd,{message:e,isMe:!0,messages:n.messages},e._id):Object(Te.jsx)(yd,{message:e,isMe:!1,messages:n.messages},e._id)}))})]}),Object(Te.jsx)(je,{}),Object(Te.jsx)(Pd,{conversation:n})]})},Nd=function(){var e=Object(b.i)().id,n=Object(i.useContext)(u).conversations;Object(b.g)();console.log("conversationsSSS",n);var t=n.find((function(n){return n._id===e}));return t?(console.log("CONVERSATION",t),Object(Te.jsx)(Te.Fragment,{children:Object(Te.jsx)(fd,{conversation:t,children:Object(Te.jsx)(Rd,{conversation:t})})})):Object(Te.jsx)(Te.Fragment,{})},Td=function(){var e=Object(i.useContext)(u),n=e.meUserData,t=e.socket,r=e.setNotifications,a=e.setConversations,c=Object(i.useContext)(qr).setOnline,o=Cr().handleNotification;return Object(i.useEffect)((function(){return t.on("createNotificationToClient",(function(e){r((function(n){return console.log("setting notifications..."),[e].concat(Object(Ve.a)(n))})),o(e,"default")})),function(){return t.off("createNotificationToClient")}}),[t]),Object(i.useEffect)((function(){return t.on("joinUserToClient",(function(e){c(e)})),function(){return t.off("joinUserToClient")}}),[t]),Object(i.useEffect)((function(){return t.on("disconnectUserToClient",(function(e){c(e)})),function(){return t.off("disconnectUserToClient")}}),[t]),Object(i.useEffect)((function(){return t.on("createMessageNotificationToClient",(function(e){window.location.href.includes("conversation")||o(e,"default")})),function(){return t.off("createMessageNotificationToClient")}}),[t]),Object(i.useEffect)((function(){t.emit("joinUser",null===n||void 0===n?void 0:n._id)}),[t,null===n||void 0===n?void 0:n._id]),Object(i.useEffect)((function(){t.emit("checkUsersOnline")}),[t]),Object(i.useEffect)((function(){return t.on("checkUsersOnlineToMe",(function(e){c(e)})),function(){t.off("checkUsersOnlineToMe")}}),[t]),Object(i.useEffect)((function(){t.on("createMessageToClient",(function(e){return console.log("createMessageToClient",e),a((function(n){console.log("set conversations");var t=n.filter((function(n){return n._id!==e.conversation._id})),r=n.find((function(n){return n._id===e.conversation._id}));return[Object(Ge.a)(Object(Ge.a)({},r),{},{messages:[].concat(Object(Ve.a)(r.messages),[e])})].concat(Object(Ve.a)(t))})),function(){t.off("createConversationsToClient")}}))}),[t]),Object(i.useEffect)((function(){t.on("createConversationToClient",(function(e){return console.log("createConversationToClient",e),a((function(n){return console.log("set conversations"),[e].concat(Object(Ve.a)(n))})),function(){t.off("createConversationToClient")}}))}),[t]),Object(i.useEffect)((function(){t.on("readConversationToClient",(function(e){return console.log("readConversationToClient",e),a((function(n){var t=n.find((function(n){return n._id===e.conversation._id})),r=n.findIndex((function(n){return n._id===e.conversation._id})),i=t.messages.findIndex((function(n){return n._id===e._id})),a=[].concat(Object(Ve.a)(t.messages.slice(0,i)),[e],Object(Ve.a)(t.messages.slice(i+1))),c=Object(Ge.a)(Object(Ge.a)({},t),{},{messages:a});return console.log("setConversations in sockets",c),[].concat(Object(Ve.a)(n.slice(0,r)),[c],Object(Ve.a)(n.slice(r+1)))})),function(){t.off("readConversationToClient")}}))}),[t]),Object(Te.jsx)(Te.Fragment,{})},Ud=t(112),qd=t.n(Ud),Bd="firstLogin";function Fd(){var e=Object(b.h)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Ad=function(){var e=function(){var e=Object(i.useState)(null),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(!1),c=Object(s.a)(a,2),o=c[0],l=c[1],d=Object(i.useState)(null),u=Object(s.a)(d,2),b=u[0],p=u[1],v=Object(i.useState)([]),h=Object(s.a)(v,2),x=h[0],g=h[1],O=Object(i.useState)([]),m=Object(s.a)(O,2),y=m[0],w=m[1],C=Object(i.useState)(null),k=Object(s.a)(C,2),_=k[0],E=k[1],S=Object(i.useState)([]),z=Object(s.a)(S,2),M=z[0],P=z[1],L=ke().request,I=Object(i.useCallback)(function(){var e=Object(f.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("/api/notifies","GET",null,{Authorization:"Bearer ".concat(n)});case 3:t=e.sent,console.log("notifications from server",t),g(t.notifications),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),[]),D=Object(i.useCallback)(function(){var e=Object(f.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/api/conversations","GET",null,{Authorization:"Bearer ".concat(n)});case 2:t=e.sent,w((function(e){return t.conversations}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),R=Object(i.useCallback)(function(){var e=Object(f.a)(j.a.mark((function e(n,t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(t),r(n),e.next=4,I(n);case 4:return e.next=6,D(n);case 6:localStorage.setItem(Bd,"true");case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),N=Object(i.useCallback)((function(){r(null),E(null),localStorage.removeItem(Bd)}),[]),T=Object(i.useCallback)(Object(f.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem(Bd)){e.next=17;break}return e.prev=2,e.next=5,L("/api/auth/refresh_token","POST");case 5:n=e.sent,R(n.accessToken,n.userData),console.log("firing ready"),l(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),l(!0);case 15:e.next=18;break;case 17:l(!0);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),[]);return Object(i.useEffect)((function(){T();var e=qd()();return p(e),function(){e.close()}}),[]),{login:R,logout:N,accessToken:t,meUserData:_,setMeUserData:E,ready:o,socket:b,notifications:x,setNotifications:g,conversations:y,setConversations:w,online:M,setOnline:P}}(),n=e.login,t=e.logout,r=e.accessToken,a=e.meUserData,c=e.setMeUserData,o=e.ready,d=e.socket,p=e.notifications,v=e.setNotifications,h=e.conversations,x=e.setConversations,g=Object(i.useState)([]),O=Object(s.a)(g,2),m=O[0],y=O[1],w=!!r,C=function(e,n,t){return t?e?Object(Te.jsx)($t,{children:Object(Te.jsxs)(Wt.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:1e4,children:[Object(Te.jsx)(Td,{}),Object(Te.jsx)(zc.a,{utils:Mc.a,children:Object(Te.jsxs)(b.d,{children:[Object(Te.jsx)(b.b,{path:"/messages",exact:!0,component:Ja}),Object(Te.jsx)(b.b,{path:"/conversation/:id",exact:!0,component:Nd}),Object(Te.jsx)(b.b,{path:"/friends",component:ja}),Object(Te.jsx)(b.b,{path:"/profile/edit/:id",exact:!0,component:Ur}),Object(Te.jsx)(b.b,{path:"/profile/:id",exact:!0,component:Ll}),Object(Te.jsx)(b.a,{to:"/profile/".concat(n)})]})})]})}):Object(Te.jsxs)(b.d,{children:[Object(Te.jsx)(b.a,{exact:!0,from:"/",to:"/signup"}),Object(Te.jsx)(b.b,{path:"/signup",exact:!0,component:tc}),Object(Te.jsx)(b.a,{to:"/signup"})]}):Object(Te.jsx)("div",{children:"Loading..."})}(w,null===a||void 0===a?void 0:a._id,o);return Object(Te.jsx)(u.Provider,{value:{accessToken:r,meUserData:a,setMeUserData:c,isAuthenticated:w,login:n,logout:t,socket:d,notifications:p,setNotifications:v,conversations:h,setConversations:x},children:Object(Te.jsxs)(qr.Provider,{value:{online:m,setOnline:y},children:[Object(Te.jsx)(re,{}),Object(Te.jsxs)(l.a,{children:[Object(Te.jsx)(Fd,{}),C]})]})})},Zd=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,208)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))};o.a.render(Object(Te.jsx)(Ad,{}),document.getElementById("root")),Zd()}},[[180,1,2]]]);
//# sourceMappingURL=main.7fc1d5c6.chunk.js.map