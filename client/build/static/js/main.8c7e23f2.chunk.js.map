{"version":3,"sources":["assets/icons/profile-icon.svg","context/AuthContext.tsx","assets/icons/messages-icon.svg","assets/icons/friends-icon.svg","assets/icons/arrow-more-icon.svg","assets/icons/looking-glass-icon.svg","styled-components/global.tsx","hooks/useDebounce.tsx","hooks/useHttp.tsx","hooks/useOnClickOutside.tsx","assets/icons/notifications-icon.svg","components/Search.tsx","assets/icons/footer/gitHub.svg","hooks/useTippyVisibility.tsx","components/profile-page/Notifications.tsx","assets/icons/footer/react.svg","assets/icons/footer/mongoDB.svg","assets/icons/footer/socketIO.svg","assets/icons/footer/nodeJS.svg","assets/icons/footer/typescript.svg","assets/icons/cross-icon.svg","components/Footer.tsx","components/Spinner.tsx","components/RecentUsers.tsx","components/Layout.tsx","components/CustomNotification.tsx","components/CustomPageNotification.tsx","hooks/useNotistack.tsx","components/ErrorBoundary.jsx","pages/EditProfilePage.tsx","assets/icons/cogwheel-icon.svg","context/OnlineContext.tsx","hooks/useQuery.tsx","assets/icons/image-upload-icon.svg","components/friends-page/styles.tsx","hooks/useUploadImages.tsx","assets/icons/emoji-icon.svg","assets/icons/trash-icon.svg","components/Emojis.tsx","components/ButtonSpinner.tsx","components/SendMessageModal.tsx","hooks/useModal.tsx","components/friends-page/FriendCard.tsx","components/friends-page/FriendsNavigation.tsx","components/friends-page/user/UserFriendsPage.tsx","components/friends-page/FriendList.tsx","components/friends-page/personal/FriendRequestCard.tsx","components/friends-page/personal/FriendRequestList.tsx","components/friends-page/FriendsMenu.tsx","components/friends-page/personal/PersonalFriendsPage.tsx","pages/FriendsPage.tsx","components/messages-page/Conversation.tsx","pages/MessagesPage.tsx","components/friends-page/SignIn.tsx","components/friends-page/SignUp.tsx","pages/SignInSignUpPage.tsx","assets/icons/like-icon_disabled.svg","components/profile-page/Friends.tsx","context/UserContext.tsx","components/profile-page/profile-actions/other-user/FriendRequestButton.tsx","components/profile-page/profile-actions/other-user/useFriendRequest.tsx","components/profile-page/profile-actions/other-user/SendMessageButton.tsx","components/profile-page/profile-actions/other-user/OtherUserActions.tsx","hooks/useCheckRelationToMe.tsx","components/profile-page/profile-actions/personal/EditProfileButton.tsx","components/profile-page/profile-actions/personal/PersonalActions.tsx","components/profile-page/SubmitPostBox.tsx","assets/icons/like-icon_liked.svg","assets/icons/comment-icon.svg","assets/icons/image-remove-icon.svg","assets/icons/like-icon_filled.svg","components/profile-page/post/PostEdit.tsx","components/profile-page/post/PostSubmitComment.tsx","hooks/useLikeComment.tsx","assets/icons/spider-web.svg","components/profile-page/post/comments/Comment.tsx","components/profile-page/post/comments/Comments.tsx","hooks/useLikePost.tsx","components/profile-page/post/Post.tsx","components/profile-page/Wall.tsx","assets/icons/arrow-icon_left.svg","components/profile-page/Info.tsx","pages/ProfilePage.tsx","hooks/useLoadUser.tsx","components/conversation-page/MessagesNavigation.tsx","components/conversation-page/Message.tsx","components/conversation-page/SendMessageBox.tsx","components/conversation-page/MessagesList.tsx","pages/ConversationPage.tsx","SocketClient.tsx","pages/SearchPage.tsx","routes.tsx","hooks/useAuth.tsx","ScrollToTop.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["_path","noop","AuthContext","createContext","accessToken","meUserData","setMeUserData","isAuthenticated","login","logout","socket","notifications","setNotifications","conversations","setConversations","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgProfileIcon","_ref","svgRef","title","titleId","props","id","xmlns","viewBox","ref","d","ForwardRef","SvgMessagesIcon","SvgFriendsIcon","SvgArrowMoreIcon","width","height","fill","GlobalStyle","createGlobalStyle","svgPrimaryStyle","css","svgPrimaryStyleNoHover","svgSecondaryStyle","CustomLink","styled","Link","color","CustomDate","div","Button","button","size","marginBottom","marginTop","marginRight","ContentBox","ContentBoxContainer","Input","input","paddingLeft","TextArea","TextareaAutosize","$focuse","Separator","Avatar","img","marginLeft","OptionsPopup","OptionsPopupSelect","NotificationsCount","top","right","AvatarOnlineWrapper","onlineType","onlineIconRightPosition","onlineIconSmall","useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useHttp","loading","setLoading","useContext","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","console","log","fetch","credentials","response","json","data","ok","Error","message","clearError","SvgLookingGlassIcon","useOnClickOutside","listener","event","el","current","contains","document","addEventListener","removeEventListener","InputWrapper","ResultsWrapper","Result","ResultAvatar","ResultName","Search","useRef","setIsFocused","users","setUsers","isFocused","inputText","setInputText","debouncedText","then","res","catch","err","onClick","style","fontSize","placeholder","onChange","e","map","user","to","_id","src","avatar","firstName","lastName","SvgNotificationsIcon","useTippyVisibility","visible","setVisible","show","hide","NotificationsIconWrapper","NotificationsPopup","NotificationsPopupSelect","isRead","NotificationInfo","NotificationText","NotificationDate","Notification","notification","date","DateTime","fromISO","createdAt","toLocaleString","day","month","hour","minute","handleReadNotification","prevState","notificIdx","findIndex","notific","slice","text","Notifications","unreadNotifications","filter","notif","notificationList","iteration","forEach","push","userNotificationsPopup","idx","display","textAlign","justifyContent","padding","content","interactive","placement","trigger","duration","offset","onClickOutside","onMount","SvgGitHub","focusable","className","role","SvgReact","_defs","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","SvgMongoDb","SvgSocketIo","SvgNodeJs","SvgTypescript","Wrapper","footer","Creator","CreatorInfo","CreatorName","ReactIconWrapper","NodeJsWrapper","MongoDBWrapper","SocketIOWrapper","TypescriptWrapper","Footer","location","useLocation","pathname","includes","translate","rel","href","StyledSpinner","svg","Spinner","cx","cy","r","strokeWidth","CardInfo","CardWrapper","Title","SpinnerWrapper","RecentUsers","User","Logo","Container","MainWrapper","Header","header","HeaderWrapper","Navigation","nav","NavigationLink","NavigationLinkIcon","UserNavbar","UserInfo","UserName","SearchWrapper","UserInfoPopup","UserInfoPopupSelect","LeftNav","Layout","children","handleLogOut","disconnect","unReadMessagesCount","conversation","messages","pendingFriendRequestsCount","userInfoPopup","SvgCrossIcon","CustomNotification","forwardRef","type","closeSnackbar","useSnackbar","CustomPageNotification","useNotistack","enqueueSnackbar","handleNotification","variant","handlePageNotification","ErrorFallback","resetErrorBoundary","ImageUpload","image","ImageLoading","EditField","EditTitle","EditContent","EditProfilePage","auth","dateOfBirth","gender","aboutMe","city","setCredentials","readyToSubmit","setReadyToSubmit","avatarLoading","setAvatarLoading","Date","getDate","label","selectedDayOption","setSelectedDayOption","getMonth","selectedMonthOption","setSelectedMonthOption","getFullYear","selectedYearOption","setSelectedYearOption","toUpperCase","selectedGenderOption","setSelectedGenderOption","handleSubmit","preventDefault","Number","handleChange","name","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","handleChangeAvatar","files","resized","maxWidth","FallbackComponent","onReset","noValidate","onSubmit","accept","disabled","selectedOption","options","defaultValue","classNamePrefix","resize","OnlineContext","online","setOnline","useQuery","URLSearchParams","search","SvgCogwheelIcon","Options","FriendCardWrapper","FriendCardInfo","useUploadImages","images","setImages","imageLoading","setImageLoading","handleUploadImages","handleRemoveImage","public_id","SvgImageUploadIcon","SvgEmojiIcon","EmojiWrapper","EmojiPopup","EmojiIconWrapper","emojiList","Emojis","handleChooseEmoji","setOpen","emojiPopup","emoji","bind","onMouseEnter","onMouseLeave","ButtonSpinner","SendMessagePopup","ButtonsWrapper","CrossIcon","Cross","PreviewImagesWrapper","PreviewImageWrapper","DeleteImageIcon","PreviewImage","count","ImagesPreviewWrapper","exists","SendMessageModal","modalIsOpen","closeModal","openModal","userData","setContent","imageUploadRef","existingConversation","find","some","handleCreateConversation","userIds","recipients","newMessage","emit","handleCreateMessage","conversationId","newArr","currentConv","handleKeyPress","shiftKey","dispatchEvent","Event","cancelable","bubbles","center","closeIcon","open","onClose","focusTrapped","classNames","overlay","modal","onKeyDown","onKeyPress","alignItems","useModal","setIsOpen","CustomLinkButton","FriendCard","friend","isPersonal","handleDeleteFriend","friendRequest","friendRequests","req","recipient","requester","userId","newFriendsArr","friends","optionsPopup","FriendsNavigationWrapper","TabsWrapper","Tab","selected","FriendsNavigation","tabs","activeTab","history","useHistory","query","minHeight","tab","get","UserFriendsPage","setFriends","onlineFriends","NoFriends","FriendList","Fragment","FriendRequestCard","friendRequestType","friendRequestId","setFriendRequests","handleAcceptFriendRequest","resNotif","handleCancelFriendRequest","FriendRequestList","loadFriendRequests","Select","FriendsMenu","menuItems","selectedItem","setSelectedItem","item","PersonalFriendsPage","FriendsPage","SvgTrashIcon","WrapperLink","ConversationInfo","ConversationLastUser","ConversationLastText","ConversationLastTextWrapper","Count","Conversation","handleDeleteConversation","window","confirm","lastMessage","NoConversations","MessagesPage","conv","BoxTitle","SignIn","email","password","Authorization","Alert","severity","required","BoxSubTitle","SignUp","LogoWrapper","SignInSignUpPage","FriendsWrapper","Friend","FriendAvatar","FriendsList","FriendsTitle","FriendsTitleCount","span","Friends","slicedName","UserContext","setUserData","FriendRequestButton","relationToMe","setRelationToMe","handleSendFriendRequest","newId","uuidv4","newFriendRequest","toISOString","status","handleSendUnFriendRequest","meFriends","useFriendRequest","memo","SendMessageButton","OtherUserActions","otherUserData","checkRelationToUser","useCheckRelationToMe","EditProfileButton","PersonalActions","PostBoxWrapper","FormMainWrapper","FormFooter","SubmitPostBox","React","isFocus","setIsFocus","formWrapperRef","formRef","newPost","comments","likes","repostedBy","updatedAt","wall","newPostsFromApi","post","paddingRight","minRows","multiple","SvgLikeIconDisabled","SvgLikeIconLiked","SvgCommentIcon","SvgImageRemoveIcon","PostEditContent","ImageRemoveIconWrapper","PostEditFooter","PostImage","PostEdit","handleEditMode","editText","setEditText","handleSubmitUpdatedPost","updatedPost","postIdx","pst","newWallArr","alt","PostCommentWrapper","PostSubmitComment","setComments","setText","handleCreateComment","newComment","postId","newCommentsFromApi","comment","useLikeComment","setLikes","isLike","setIsLike","loadLike","setLoadLike","like","handleLikeComment","handleUnLikeComment","SvgLikeIconFilled","CommentWrapper","CommentContent","CommentText","CommentInfo","CommentOptions","EditPopup","EditPopupSelect","LikeIconWrapper","liked","LikeCount","Comment","canDelete","setCanDelete","handleDeleteComment","editPopup","PostCommentsWrapper","PostComments","useLikePost","handleLikePost","handleUnLikePost","PostHeader","PostDate","PostOptions","EditPostPopup","EditPostPopupSelect","PostFooter","PostContent","PostText","PostImagesWrapper","CommentIconWrapper","Post","setEditMode","editMode","isEdit","setIsEdit","canEdit","setCanEdit","handleDeletePost","updatedPosts","boolean","editPostPopup","Wall","SvgSpiderWeb","transform","InfoHeader","UserStatus","AdditionalInfo","InfoItem","InfoItemTitle","InfoItemContent","ProfileInfo","String","year","LeftSide","RightSide","NoPosts","AvatarWrapper","PersonalProfilePage","slugId","setIsPersonal","useLoadUser","useParams","Provider","Page","Info","SvgArrowIconLeft","NavigationHeader","NavigationBody","NavigationHeaderWrapper","BackButton","MessagesNavigation","MessageInfo","MessageHeader","MessageContent","Image","Message","isMe","handleReadMessage","conversationIdx","conversationMsgIdx","updatedConversation","newConversations","readMsg","handleDeleteMessage","newMessagesArr","position","bottom","SendMessageBox","setTextAreaHeight","newMessageId","apiMessages","MessagesWrapper","Wrap","MessagesList","innerHeight","innerWidth","dimensions","getElementById","scrollIntoView","ConversationPage","SocketClient","on","off","UserCardWrapper","UserCardInfo","SearchPage","resUsers","border","UserCard","storageName","ScrollToTop","scrollTo","App","setAccessToken","ready","setReady","setSocket","getNotifications","token","allNotifications","getConversations","jwtToken","localStorage","setItem","removeItem","refreshToken","getItem","socketItem","io","close","useAuth","routes","meUserId","maxSnack","anchorOrigin","vertical","horizontal","autoHideDuration","utils","MomentUtils","path","exact","component","ProfilePage","from","useRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE9O,MAAO,OAAQ8O,MAAO,QACxB,CAAE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","file":"static/js/main.8c7e23f2.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgProfileIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"f5b8572e-e789-4a67-a3d4-fd233b7f5529\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.82,16.38c-1.24,0-1.8.68-3.82.68s-2.62-.68-3.87-.68a5.79,5.79,0,0,0-5.75,5.8v1.76A2,2,0,0,0,7.44,26H22.56a2.06,2.06,0,0,0,2.06-2.06V22.18A5.83,5.83,0,0,0,18.82,16.38Zm4.43,7.56a.7.7,0,0,1-.69.68H7.44a.68.68,0,0,1-.69-.68V22.18a4.38,4.38,0,0,1,4.38-4.43c.86,0,1.68.69,3.87.69s3-.69,3.82-.69a4.43,4.43,0,0,1,4.43,4.43ZM15,15A5.5,5.5,0,1,0,9.5,9.5,5.51,5.51,0,0,0,15,15Zm0-9.62a4.12,4.12,0,1,1,0,8.24,4.12,4.12,0,0,1,0-8.24Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgProfileIcon);\nexport default __webpack_public_path__ + \"static/media/profile-icon.e5b06066.svg\";\nexport { ForwardRef as ReactComponent };","import { Dispatch } from \"react\";\r\nimport { createContext } from \"react\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport type AuthContextType = {\r\n  accessToken: null | string;\r\n  meUserData: null | IUserData;\r\n  isAuthenticated: boolean;\r\n  login: (jwtToken: string, data: IUserData) => void;\r\n  logout: () => void;\r\n  setMeUserData: Dispatch<any>;\r\n  socket: null | any;\r\n  notifications: any;\r\n  setNotifications: Dispatch<any>;\r\n  conversations: any;\r\n  setConversations: Dispatch<any>;\r\n\r\n  // loading: boolean;\r\n};\r\n\r\nconst noop = (): void => {};\r\n\r\nexport const AuthContext = createContext<AuthContextType>({\r\n  accessToken: null,\r\n  meUserData: null,\r\n  setMeUserData: noop,\r\n  isAuthenticated: false,\r\n  login: noop,\r\n  logout: noop,\r\n  socket: null,\r\n  notifications: [],\r\n  setNotifications: noop,\r\n  conversations: null,\r\n  setConversations: noop,\r\n\r\n  // loading: false,\r\n});\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMessagesIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a2b7b2d4-3a7e-4ef8-815f-f2ff2ed50e60\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.94,6.75H6.06A2.06,2.06,0,0,0,4,8.81V21.19a2,2,0,0,0,2.06,2.06H23.94A2.06,2.06,0,0,0,26,21.19V8.81A2.1,2.1,0,0,0,23.94,6.75ZM6.06,8.12H23.94a.74.74,0,0,1,.68.69v1.81c-.94.77-2.32,1.89-6.48,5.2-.73.6-2.15,2-3.14,1.93s-2.45-1.33-3.18-1.93c-4.17-3.31-5.54-4.43-6.44-5.2V8.81A.71.71,0,0,1,6.06,8.12ZM23.94,21.88H6.06a.68.68,0,0,1-.68-.69V12.38c.94.82,2.49,2.06,5.58,4.51.9.73,2.45,2.28,4,2.23s3.09-1.5,4-2.23c3.09-2.45,4.64-3.69,5.62-4.51v8.81A.71.71,0,0,1,23.94,21.88Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMessagesIcon);\nexport default __webpack_public_path__ + \"static/media/messages-icon.dd183351.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFriendsIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a8958859-8e13-4d28-be3a-2b1bd58f0dfc\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.88,15a4.13,4.13,0,1,0-4.13-4.12A4.13,4.13,0,0,0,21.88,15Zm0-6.88a2.77,2.77,0,0,1,2.74,2.76,2.75,2.75,0,1,1-2.74-2.76ZM9.5,15a4.81,4.81,0,1,0-4.81-4.81A4.83,4.83,0,0,0,9.5,15Zm0-8.25a3.44,3.44,0,1,1,0,6.87,3.44,3.44,0,1,1,0-6.87Zm3.44,9.11c-1.46,0-1.81.52-3.44.52s-2-.52-3.48-.52a4.81,4.81,0,0,0-3.95,2,5.15,5.15,0,0,0-.82,2.79v1.89a2,2,0,0,0,2.06,2.06H15.69a2.06,2.06,0,0,0,2.06-2.06V20.67a5.19,5.19,0,0,0-.86-2.79A4.83,4.83,0,0,0,12.94,15.86Zm3.44,6.7a.71.71,0,0,1-.69.69H3.31a.69.69,0,0,1-.69-.69V20.67a3.39,3.39,0,0,1,.61-2A3.34,3.34,0,0,1,6,17.23c1.2,0,1.63.52,3.48.52s2.23-.52,3.44-.52a3.34,3.34,0,0,1,2.79,1.42,3.38,3.38,0,0,1,.6,2v1.89ZM28,17.66A3.9,3.9,0,0,0,24.71,16c-1.16,0-1.46.43-2.83.43S20.2,16,19,16a3.65,3.65,0,0,0-1.64.38,4.15,4.15,0,0,1,.86,1.12,4.64,4.64,0,0,1,.78-.09c.94,0,1.29.43,2.88.43s1.93-.43,2.83-.43a2.58,2.58,0,0,1,2.67,2.58v1.59a.35.35,0,0,1-.35.35H19.12A5.92,5.92,0,0,1,19,23.25h8a1.69,1.69,0,0,0,1.72-1.72V19.94A3.83,3.83,0,0,0,28,17.66Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFriendsIcon);\nexport default __webpack_public_path__ + \"static/media/friends-icon.66f0650d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowMoreIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 6,\n    viewBox: \"0 0 10 6\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.42627 0.510254L9.01807 0.0805664C8.91064 -0.0268555 8.73877 -0.0268555 8.65283 0.0805664L4.76416 3.96924L0.854004 0.0805664C0.768066 -0.0268555 0.596191 -0.0268555 0.48877 0.0805664L0.0805664 0.510254C-0.0268555 0.596191 -0.0268555 0.768066 0.0805664 0.875488L4.5708 5.36572C4.67822 5.47314 4.82861 5.47314 4.93604 5.36572L9.42627 0.875488C9.53369 0.768066 9.53369 0.596191 9.42627 0.510254Z\",\n    fill: \"#BAC4DB\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowMoreIcon);\nexport default __webpack_public_path__ + \"static/media/arrow-more-icon.8e743f16.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLookingGlassIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 16,\n    viewBox: \"0 0 15 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.8828 14.9961L11.1035 11.2168C11.0449 11.1582 10.957 11.1289 10.8691 11.1289H10.5469C11.5723 10.0156 12.1875 8.58008 12.1875 6.96875C12.1875 3.62891 9.43359 0.875 6.09375 0.875C2.72461 0.875 0 3.62891 0 6.96875C0 10.3379 2.72461 13.0625 6.09375 13.0625C7.67578 13.0625 9.14062 12.4473 10.2246 11.4512V11.7441C10.2246 11.8613 10.2539 11.9492 10.3125 12.0078L14.0918 15.7871C14.2383 15.9336 14.4434 15.9336 14.5898 15.7871L14.8828 15.4941C15.0293 15.3477 15.0293 15.1426 14.8828 14.9961ZM6.09375 12.125C3.22266 12.125 0.9375 9.83984 0.9375 6.96875C0.9375 4.12695 3.22266 1.8125 6.09375 1.8125C8.93555 1.8125 11.25 4.12695 11.25 6.96875C11.25 9.83984 8.93555 12.125 6.09375 12.125Z\",\n    fill: \"#B6C3E1\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLookingGlassIcon);\nexport default __webpack_public_path__ + \"static/media/looking-glass-icon.2f53510f.svg\";\nexport { ForwardRef as ReactComponent };","import styled, { css } from \"styled-components\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  letter-spacing: .05em;\r\n  font-family: 'Roboto', sans-serif;\r\n  font-family: 'Open Sans', sans-serif;\r\n  font-family: 'Noto Sans', sans-serif;\r\n  font-family: 'Ubuntu', sans-serif;\r\n  font-family: 'Rubik', sans-serif;\r\n  font-family: \"Segoe UI\", sans-serif;\r\n  line-height: 1.35;\r\n  letter-spacing: 0.05rem;\r\n  \r\n  \r\n  font-size: var(--text-size-primary);\r\n  /* font-weight: 500; */\r\n  color: #45557A;\r\n}\r\n\r\n#root {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\nmain {\r\n  width: 100%;\r\n}\r\n\r\ninput, input:hover, input:active, input:focus {\r\n  outline: none;\r\n}\r\n\r\ntextarea, textarea:hover, textarea:active, textarea:focus {\r\n  outline: none;\r\n}\r\n\r\nimg {\r\n  -ms-flex-item-align: start;\r\n      -ms-grid-row-align: start;\r\n      align-self: start;\r\n}\r\n\r\np {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nul, li {\r\n  display: block;\r\n  padding: 0;\r\n  margin: 0;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\ndiv, p, a, span, input, form, button {\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\na, a:hover {\r\n  text-decoration: none;\r\n  color: inherit;\r\n  font-weight: inherit;\r\n  letter-spacing: inherit;\r\n  font-size: inherit;\r\n}\r\n\r\nbutton {\r\n  border: none;\r\n}\r\n\r\nbutton:focus {\r\n  outline: none;\r\n}\r\n\r\nul, li {\r\n  display: block;\r\n  padding: 0;\r\n  margin: 0;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\nfooter {\r\n  margin-top: auto;\r\n}\r\n\r\n.customSelect {\r\n  /* border: var(----border-primary); */\r\n  \r\n  \r\n  :focus {\r\n    outline: none;\r\n  }\r\n  :active {\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.daySelect {\r\n  /* border: var(--border-primary); */\r\n  flex-grow: 1;\r\n  margin-right: 10px;\r\n}\r\n\r\n.monthSelect {\r\n  /* border: var(--border-primary); */\r\n  flex-grow: 10;\r\n  margin-right: 10px;\r\n}\r\n\r\n.yearSelect {\r\n  /* border: var(--border-primary); */\r\n  flex-grow: 2;\r\n}\r\n\r\n.customSelectInner__control {\r\n  border: var(--border-primary) !important;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n  :active {\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.customSelectInner__indicator-separator {\r\n  display: none;\r\n}\r\n.customSelectInner__indicator {\r\n  svg {\r\n    fill: var(--text-color-secondary);\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n}\r\n\r\n\r\n.react-responsive-modal-root {\r\n  padding-right: 15px !important;\r\n}\r\n\r\n.customOverlay {\r\n    background: rgba(93, 102, 122, 0.6) !important;\r\n    padding: 0 !important;\r\n    padding-right: 15px !important;\r\n    /* filter: blur(4px); */\r\n  }\r\n\r\n  .customModal {\r\n    border-radius: var(--border-radius-primary);\r\n    background: white;\r\n    box-shadow: 0 5px 10px rgba(0,0,0,0.3);\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow-y: visible;\r\n\r\n  }\r\n\r\n\r\n  * {\r\n    --color-primary: #2965F1;\r\n    --color-secondary: #EFF2F9;\r\n    --color-dark-secondary: rgb(211, 218, 235);\r\n    --color-light-secondary: #DFE5F3;\r\n    --color-dark-primary: rgb(18, 62, 165);\r\n    --color-green: #00E296;\r\n    --color-dark-grey: #303030;\r\n    --color-grey: #616161;\r\n    --color-red: #FF3366;\r\n    --color-black: #324164;\r\n\r\n\r\n    --text-color-secondary: #ACB7D1;\r\n    --text-color-dark-secondary: #45557A;\r\n    --text-color-primary: var(--color-black);\r\n    --text-color-link: var(--color-primary);\r\n\r\n\r\n\r\n    --font-size-primary: 15px;\r\n\r\n    --font-size-secondary: 16px;\r\n    --font-family-primary: Open Sans, sans-serif;\r\n    /* --font-family-primary: Roboto, sans-serif; */\r\n    --font-family-secondary: Montserrat, sans-serif;\r\n\r\n    --shadow-primary: 0 5px 5px rgba(211, 218, 235, 0.5);\r\n    --shadow-popup: 0 5px 5px rgba(211, 218, 235, 0.5);\r\n    /* --shadow-popup_dark */\r\n\r\n    --border-radius-primary: 5px;\r\n    --border-primary: 1px solid var(--text-color-secondary);\r\n\r\n    --text-size-primary: 14px;\r\n    --text-size-secondary: 16px;\r\n    --text-size-button: 14px;\r\n\r\n    --icon-size-primary: 25px;\r\n    --icon-size-primary_blue: 25px;\r\n    --icon-size-secondary: 16px;\r\n\r\n    --icon-color-primary: var(--color-primary);\r\n    --icon-color-secondary: var(--text-color-secondary);\r\n\r\n    --z-index-popup: 100;\r\n\r\n\r\n  }\r\n\r\n`;\r\n\r\nexport const svgPrimaryStyle = css`\r\n  width: var(--icon-size-primary);\r\n  height: var(--icon-size-primary);\r\n  fill: var(--text-color-secondary);\r\n  :hover {\r\n    cursor: pointer;\r\n    fill: var(--text-color-dark-secondary);\r\n  }\r\n`;\r\n\r\nexport const svgPrimaryStyleNoHover = css`\r\n  width: var(--icon-size-primary);\r\n  height: var(--icon-size-primary);\r\n  fill: var(--text-color-secondary);\r\n`;\r\n\r\nexport const svgSecondaryStyle = css`\r\n  width: var(--icon-size-secondary);\r\n  height: var(--icon-size-secondary);\r\n  fill: var(--text-color-secondary);\r\n  :hover {\r\n    cursor: pointer;\r\n    fill: var(--text-color-dark-secondary);\r\n  }\r\n`;\r\n\r\nexport const CustomLink = styled(Link)<{ color?: \"black\" }>`\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n\r\n  :hover {\r\n    color: var(--color-primary);\r\n    font-weight: 500;\r\n    text-decoration: underline;\r\n  }\r\n  ${(props) =>\r\n    props.color === \"black\" &&\r\n    `\r\n      color: var(--color-black);\r\n      :hover {\r\n        color: var(--color-black);\r\n      }\r\n  `}\r\n`;\r\n\r\nexport const CustomDate = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nexport const Button = styled.button<{\r\n  size?: \"small\";\r\n  color?: \"secondary\";\r\n  width?: \"fullwidth\";\r\n  marginBottom?: string;\r\n  marginTop?: string;\r\n  marginRight?: string;\r\n  marginLeft?: string;\r\n}>`\r\n  /* display: inline-flex; */\r\n  border-radius: var(--border-radius-primary);\r\n  font-size: var(--font-size-secondary);\r\n  padding: 12px 20px;\r\n  background: var(--color-primary);\r\n  color: white;\r\n  :hover {\r\n    background: var(--color-dark-primary);\r\n    cursor: pointer;\r\n  }\r\n  :disabled {\r\n    background: var(--color-secondary);\r\n    color: var(--text-color-secondary);\r\n    :hover {\r\n      background: var(--color-secondary);\r\n      cursor: default;\r\n    }\r\n  }\r\n\r\n  ${(props) =>\r\n    props.size === \"small\" &&\r\n    `\r\n    padding: 7px 20px;\r\n    font-size: var(--text-size-primary);\r\n  `}\r\n  ${(props) =>\r\n    props.width === \"fullwidth\" &&\r\n    `\r\n    width: 100%;\r\n  `}\r\n  ${(props) =>\r\n    props.color === \"secondary\" &&\r\n    `\r\n        background: var(--color-secondary);\r\n        color: var(--text-color-dark-secondary);\r\n        // border: 1px solid var(--color-dark-secondary);\r\n        :hover {\r\n            background: var(--color-dark-secondary);\r\n        }\r\n    `}\r\n  ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n    ${(props) =>\r\n    props.marginTop &&\r\n    `\r\n    margin-top: ${props.marginTop};\r\n  `}\r\n    ${(props) =>\r\n    props.marginRight &&\r\n    `\r\n    margin-right: ${props.marginRight};\r\n  `}\r\n`;\r\nexport const ContentBox = styled.div<{ marginBottom?: string }>`\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  box-shadow: var(--shadow-primary);\r\n\r\n  background: white;\r\n  ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n`;\r\n\r\nexport const ContentBoxContainer = styled.div`\r\n  padding: 15px;\r\n`;\r\n\r\nexport const Input = styled.input<{ paddingLeft?: string }>`\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 8px 10px;\r\n  overflow-y: hidden;\r\n  /* font-size: var(--text-size-secondary); */\r\n  font-size: var(--text-size-primary);\r\n  width: 100%;\r\n  ::placeholder {\r\n    color: var(--text-color-secondary);\r\n  }\r\n  ${(props) =>\r\n    props.paddingLeft &&\r\n    `\r\n    padding-left: ${props.paddingLeft};\r\n  `}//35px\r\n`;\r\n\r\nexport const TextArea = styled(TextareaAutosize)<{\r\n  $focuse?: boolean;\r\n  marginBottom?: string;\r\n}>`\r\n  border: 1px solid white;\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 11px;\r\n  padding-right: 35px;\r\n  width: 100%;\r\n  position: relative;\r\n  font-size: var(--text-size-primary);\r\n  overflow-y: hidden;\r\n  ::placeholder {\r\n    color: var(--text-color-secondary);\r\n  }\r\n  ${(props) =>\r\n    props.$focuse &&\r\n    `\r\n    border: var(--border-primary);\r\n  `}\r\n  ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n`;\r\nexport const Separator = styled.div`\r\n  border-top: var(--border-primary);\r\n  width: 100%;\r\n  /* background: var(--text-color-secondary); */\r\n`;\r\n\r\nexport const Avatar = styled.img<{\r\n  size: \"small\" | \"medium\" | \"large\" | \"extra-small\" | \"medium-small\";\r\n  marginBottom?: string;\r\n  marginTop?: string;\r\n  marginRight?: string;\r\n  marginLeft?: string;\r\n  // onlineType?: boolean;\r\n}>`\r\n  border-radius: 150px;\r\n  object-fit: cover;\r\n  ${(props) =>\r\n    props.size === \"extra-small\" &&\r\n    `\r\n    width: 25px;\r\n    height: 25px;\r\n    min-width: 25px;\r\n    min-height: 25px;\r\n  `}\r\n  ${(props) =>\r\n    props.size === \"small\" &&\r\n    `\r\n    width: 35px;\r\n    height: 35px;\r\n    min-width: 35px;\r\n    min-height: 35px;\r\n  `}\r\n    ${(props) =>\r\n    props.size === \"medium-small\" &&\r\n    `\r\n    width: 40px;\r\n    height: 40px;\r\n    min-width: 40px;\r\n    min-height: 40px;\r\n  `}\r\n  ${(props) =>\r\n    props.size === \"medium\" &&\r\n    `\r\n    width: 53px;\r\n    height: 53px;\r\n    min-width: 53px;\r\n    min-height: 53px;\r\n  `}\r\n    ${(props) =>\r\n    props.size === \"large\" &&\r\n    `\r\n    width: 150px;\r\n    height: 150px;\r\n    min-width: 150px;\r\n    min-height: 150px;\r\n  `}\r\n    ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n      ${(props) =>\r\n    props.marginTop &&\r\n    `\r\n    margin-top: ${props.marginTop};\r\n  `}\r\n      ${(props) =>\r\n    props.marginRight &&\r\n    `\r\n    margin-right: ${props.marginRight};\r\n  `}\r\n      ${(props) =>\r\n    props.marginLeft &&\r\n    `\r\n    margin-left: ${props.marginLeft};\r\n  `}\r\n`;\r\n\r\nexport const PopupPrimary = styled.div`\r\n  background: white;\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 10px;\r\n`;\r\n\r\nexport const OptionsPopup = styled.div``;\r\n\r\nexport const OptionsPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nexport const NotificationsCount = styled.div<{ top?: string; right?: string }>`\r\n  background: var(--color-red);\r\n  height: 24px;\r\n  width: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid white;\r\n  position: absolute;\r\n  top: 13px;\r\n  right: 7px;\r\n  border-radius: 100px;\r\n  color: white;\r\n  ${(props) =>\r\n    props.top &&\r\n    `\r\n    top: ${props.top};\r\n  `}\r\n  ${(props) =>\r\n    props.right &&\r\n    `\r\n    right: ${props.right};\r\n  `} /* font-size: 11px; */\r\n`;\r\n\r\nexport const AvatarOnlineWrapper = styled.div<{\r\n  onlineType?: boolean;\r\n  onlineIconRightPosition?: string;\r\n  onlineIconSmall?: boolean;\r\n}>`\r\n  width: auto;\r\n  height: auto;\r\n  ${(props) =>\r\n    props.onlineType &&\r\n    `\r\n  position: relative;\r\n  :after {\r\n    content: '';\r\n    background: var(--color-green);\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 100px;\r\n    position: absolute;\r\n    bottom: 3px;\r\n    right: 15px;\r\n    border: 2px solid white;\r\n  }\r\n`}\r\n  ${(props) =>\r\n    props.onlineIconRightPosition &&\r\n    `\r\n\r\n  :after {\r\n    right: ${props.onlineIconRightPosition};\r\n  }\r\n`}\r\n  ${(props) =>\r\n    props.onlineIconSmall &&\r\n    `\r\n\r\n  :after {\r\n    width: 7px;\r\n    height: 7px;\r\n    border: 1px solid white;\r\n  }\r\n`}\r\n`;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useDebounce = (value: string, delay: number): string => {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n};\r\n","import React, { useState, useCallback, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { accessToken } = useContext(AuthContext);\r\n\r\n  const [error, setError] = useState<null | {\r\n    message: string;\r\n    errors?: {\r\n      value?: string;\r\n      msg?: string;\r\n      param?: string;\r\n      location?: string;\r\n    }[];\r\n  }>(null);\r\n\r\n  // console.log(\"useHttp\");\r\n\r\n  const request = useCallback(\r\n    async (\r\n      url: string,\r\n      method: string = \"GET\",\r\n      body: any = null,\r\n      headers: any = {}\r\n    ) => {\r\n      setLoading(true);\r\n      try {\r\n        if (body) {\r\n          body = JSON.stringify(body);\r\n          headers[\"Content-Type\"] = \"application/json\";\r\n        }\r\n        if (!headers[\"Authorization\"]) {\r\n          headers[\"Authorization\"] = `Bearer ${accessToken}`;\r\n        }\r\n\r\n        console.log(\"REQUEST\", body);\r\n\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          credentials: \"include\",\r\n          // withCredentials: true,\r\n        });\r\n\r\n        // console.log(response);\r\n\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n          setError(data);\r\n          throw new Error(data.message || \"-   \");\r\n        }\r\n\r\n        setLoading(false);\r\n        return data;\r\n      } catch (e) {\r\n        setLoading(false);\r\n\r\n        throw e;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = useCallback(() => setError(null), []);\r\n  return { loading, request, error, clearError };\r\n};\r\n","import { useEffect, RefObject } from \"react\";\r\n\r\ntype AnyEvent = MouseEvent | TouchEvent;\r\n\r\nfunction useOnClickOutside<T extends HTMLElement = HTMLElement>(\r\n  ref: RefObject<T>,\r\n  handler: (event: AnyEvent) => void\r\n) {\r\n  useEffect(() => {\r\n    const listener = (event: AnyEvent) => {\r\n      // console.log(\"listener\");\r\n      const el = ref?.current;\r\n\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!el || el.contains(event.target as Node)) {\r\n        return;\r\n      }\r\n\r\n      handler(event);\r\n    };\r\n\r\n    document.addEventListener(`mousedown`, listener);\r\n    document.addEventListener(`touchstart`, listener);\r\n\r\n    return () => {\r\n      document.removeEventListener(`mousedown`, listener);\r\n      document.removeEventListener(`touchstart`, listener);\r\n    };\r\n\r\n    // Reload only if ref or handler changes\r\n  }, [ref, handler]);\r\n}\r\n\r\nexport default useOnClickOutside;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNotificationsIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 27,\n    viewBox: \"0 0 26 27\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.7087 25.0625C11.6891 25.0625 10.8962 24.2695 10.8962 23.25H9.08367C9.08367 25.2891 10.6696 26.875 12.7087 26.875C14.6911 26.875 16.3337 25.2891 16.3337 23.25H14.5212C14.5212 24.2695 13.6716 25.0625 12.7087 25.0625ZM24.5466 18.9746C22.9606 17.502 21.7712 15.916 21.7712 10.5352C21.7712 6.06055 18.1462 2.37891 13.6149 1.92578V0.90625C13.6149 0.453125 13.1618 0 12.7087 0C12.1989 0 11.8024 0.453125 11.8024 0.90625V1.92578C7.21453 2.37891 3.58953 6.06055 3.58953 10.5352C3.58953 15.916 2.40008 17.502 0.814143 18.9746C0.0211746 19.7676 -0.205388 20.9004 0.191096 21.9199C0.587581 22.9395 1.60711 23.5625 2.73992 23.5625H22.6774C23.7536 23.5625 24.7731 22.9395 25.1696 21.9199C25.5661 20.9004 25.3395 19.7676 24.5466 18.9746ZM22.6774 21.75H2.73992C1.89032 21.75 1.49383 20.8438 2.06024 20.2773C4.04266 18.4082 5.40203 16.3125 5.40203 10.5352C5.40203 6.74023 8.68719 3.625 12.7087 3.625C16.6735 3.625 19.9587 6.74023 19.9587 10.5352C19.9587 16.3125 21.3181 18.4082 23.3005 20.2773C23.8669 20.8438 23.4704 21.75 22.6774 21.75Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotificationsIcon);\nexport default __webpack_public_path__ + \"static/media/notifications-icon.abd3b569.svg\";\nexport { ForwardRef as ReactComponent };","import { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { useStyles } from \"./useStyles\";\r\nimport styled from \"styled-components\";\r\nimport { useDebounce } from \"../hooks/useDebounce\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as SearchIcon } from \"../assets/icons/looking-glass-icon.svg\";\r\n// import { AuthContext } from \"../context/AuthContext\";\r\n\r\nimport { Input } from \"../styled-components/global\";\r\nimport useOnClickOutside from \"../hooks/useOnClickOutside\";\r\n\r\nconst InputWrapper = styled.div`\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 10px;\r\n  }\r\n`;\r\n\r\nconst ResultsWrapper = styled.div`\r\n  position: absolute;\r\n  top: 45px;\r\n  left: 0;\r\n  width: 100%;\r\n  border: var(--border-primary);\r\n  box-shadow: var(--shadow-popup);\r\n  border-radius: var(--border-radius-primary);\r\n  background: white;\r\n  z-index: 100;\r\n`;\r\n\r\nconst Result = styled(Link)`\r\n  display: flex;\r\n  padding: 15px 12px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n  :hover {\r\n    background: var(--color-light-secondary);\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst ResultAvatar = styled.img`\r\n  /* min-width: 15px;\r\n  min-height: 15px; */\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 100px;\r\n  margin-right: 10px;\r\n`;\r\nconst ResultName = styled.div``;\r\n\r\ntype Props = {\r\n  meUserData: null | IUserData;\r\n};\r\n\r\nconst Search: React.FC<Props> = ({ meUserData }) => {\r\n  const ref = useRef(null);\r\n  useOnClickOutside(ref, () => {\r\n    setIsFocused(false);\r\n  });\r\n  // const classes = useStyles();\r\n  const { request } = useHttp();\r\n  const [users, setUsers] = useState<IUserData[]>([]);\r\n  const [isFocused, setIsFocused] = useState<boolean>(false);\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [inputText, setInputText] = useState<string>(\"\");\r\n\r\n  const debouncedText = useDebounce(inputText, 250);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputText(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (debouncedText) {\r\n      request(`/api/search/users?search=${debouncedText}`, \"GET\")\r\n        .then((res) => {\r\n          console.log(\"search res\", res);\r\n          // const filtered = res.users.filter(\r\n          //   (el: IUserData) => el._id !== auth.userData?._id\r\n          // );\r\n          setUsers(res.users);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setUsers([]);\r\n    }\r\n  }, [debouncedText]);\r\n\r\n  const handleClose = () => {\r\n    setInputText(\"\");\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <InputWrapper\r\n        ref={ref}\r\n        onClick={() => {\r\n          if (!isFocused) {\r\n            setIsFocused(true);\r\n          }\r\n        }}\r\n      >\r\n        <SearchIcon />\r\n        <Input\r\n          style={{ fontSize: \"var(--text-size-secondary)\" }}\r\n          placeholder=\"Search...\"\r\n          value={inputText}\r\n          onChange={handleChange}\r\n          paddingLeft=\"35px\"\r\n          // onFocus={() => setIsFocused(true)}\r\n          // onBlur={() => setIsFocused(false)}\r\n        />\r\n        {users.length !== 0 && isFocused && (\r\n          <ResultsWrapper>\r\n            {users.map((user) => {\r\n              // console.log(user._id);\r\n              // if (user._id === meUserData?._id) {\r\n              //   console.log(\"me\", user._id);\r\n              //   return;\r\n              // }\r\n              return (\r\n                <Result\r\n                  key={user._id}\r\n                  to={`/profile/${user._id}`}\r\n                  onClick={() => {\r\n                    setIsFocused(false);\r\n                    setInputText(\"\");\r\n                  }}\r\n                >\r\n                  <ResultAvatar src={user.avatar} />\r\n                  <ResultName>\r\n                    {user.firstName} {user.lastName}\r\n                  </ResultName>\r\n                </Result>\r\n              );\r\n            })}\r\n          </ResultsWrapper>\r\n        )}\r\n      </InputWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGitHub(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"github\",\n    className: \"svg-inline--fa fa-github fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 496 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGitHub);\nexport default __webpack_public_path__ + \"static/media/gitHub.ecb1b24f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\n\r\nexport const useTippyVisibility = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const show = () => setVisible(true);\r\n  const hide = () => setVisible(false);\r\n\r\n  return { visible, show, hide };\r\n};\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  CustomLink,\r\n  NotificationsCount,\r\n  svgPrimaryStyleNoHover,\r\n} from \"../../styled-components/global\";\r\nimport styled from \"styled-components\";\r\nimport { ReactComponent as NotificationsIcon } from \"../../assets/icons/notifications-icon.svg\";\r\nimport { DateTime } from \"luxon\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { useTippyVisibility } from \"../../hooks/useTippyVisibility\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst NotificationsIconWrapper = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  position: relative;\r\n  svg {\r\n    ${svgPrimaryStyleNoHover}\r\n  }\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst NotificationsPopup = styled.div`\r\n  min-width: 250px;\r\n  /* min-height: 300px; */\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  /* &::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    width: 15px;\r\n    height: 15px;\r\n    border: 1px solid black;\r\n  } */\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: none;\r\n    /* box-shadow: inset 0 0 10px black; */\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    background: var(--color-dark-secondary);\r\n    box-shadow: inset 0 0 5px $pale-orange;\r\n  }\r\n`;\r\n\r\nconst NotificationsPopupSelect = styled(Link)<{ isRead: boolean }>`\r\n  display: flex;\r\n  padding: 20px 18px;\r\n  align-items: flex-start;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n  ${(props) =>\r\n    !props.isRead &&\r\n    `\r\n    background: var(--color-secondary);\r\n  `}\r\n`;\r\n\r\nconst NotificationInfo = styled.div``;\r\n\r\nconst NotificationText = styled.div`\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst NotificationDate = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\ntype NotificationProps = {\r\n  notification: any;\r\n  visible: boolean;\r\n};\r\n\r\nconst Notification: React.FC<NotificationProps> = ({\r\n  notification,\r\n  visible,\r\n}) => {\r\n  // const history = useHistory();\r\n  const date = DateTime.fromISO(notification.createdAt).toLocaleString({\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  });\r\n  const { request } = useHttp();\r\n  const { setNotifications } = useContext(AuthContext);\r\n  // console.log(\"NOTIFICATION\", notification);\r\n\r\n  const handleReadNotification = async () => {\r\n    try {\r\n      console.log(\"read notification\", notification);\r\n\r\n      setNotifications((prevState: any) => {\r\n        const notificIdx = prevState.findIndex(\r\n          (el: any) => el._id === notification._id\r\n        );\r\n\r\n        const notific = {\r\n          ...notification,\r\n          isRead: true,\r\n        };\r\n        // console.log(\"notific\", notific);\r\n        // console.log(\"notificIdx\", notificIdx);\r\n\r\n        // console.log(\"first slice\", [...prevState.slice(0, notificIdx)]);\r\n        // console.log(\"second slice\", [...prevState.slice(notificIdx + 1)]);\r\n\r\n        const newArr = [\r\n          ...prevState.slice(0, notificIdx),\r\n          notific,\r\n          ...prevState.slice(notificIdx + 1),\r\n        ];\r\n        // console.log(\"prevState\", prevState);\r\n        // console.log(\"newArr\", newArr);\r\n\r\n        return newArr;\r\n      });\r\n      const res = await request(`/api/notify/${notification._id}`, \"PUT\");\r\n      console.log(\"i read notificatio\", res);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!notification.isRead) {\r\n      handleReadNotification();\r\n    }\r\n  }, []);\r\n  return (\r\n    <NotificationsPopupSelect\r\n      to={notification.url}\r\n      isRead={notification.isRead}\r\n    >\r\n      <Avatar\r\n        style={{ marginRight: \"15px\" }}\r\n        size=\"small\"\r\n        src={notification.user.avatar}\r\n      />\r\n      <NotificationInfo>\r\n        <NotificationText>\r\n          <CustomLink to={`/profile/${notification.user._id}`}>\r\n            {notification.user.firstName} {notification.user.lastName}\r\n          </CustomLink>{\" \"}\r\n          {notification.text}\r\n        </NotificationText>\r\n        <NotificationDate>{date}</NotificationDate>\r\n      </NotificationInfo>\r\n    </NotificationsPopupSelect>\r\n  );\r\n};\r\n\r\ntype Props = {\r\n  setNotifications: React.Dispatch<any>;\r\n  notifications: any;\r\n};\r\nconst Notifications: React.FC<Props> = ({\r\n  notifications,\r\n  setNotifications,\r\n}) => {\r\n  // const count = notifications.length;\r\n  // const [notificationsCount, setNotificationsCount] = useState<number>(count);\r\n  // console.log(\"length\", notificationsCount);\r\n  const { visible, show, hide } = useTippyVisibility();\r\n\r\n  const unreadNotifications = notifications.filter(\r\n    (notif: any) => !notif.isRead\r\n  );\r\n  const notificationList: any = [];\r\n  let iteration = 5;\r\n  notifications.forEach((el: any) => {\r\n    if (!el.isRead) {\r\n      notificationList.push(el);\r\n    } else if (iteration) {\r\n      notificationList.push(el);\r\n      iteration--;\r\n    } else {\r\n      return;\r\n    }\r\n  });\r\n  const handleOpenPopup = () => {\r\n    show();\r\n  };\r\n  const userNotificationsPopup = (\r\n    <ContentBox>\r\n      <NotificationsPopup onClick={visible ? hide : show}>\r\n        {notificationList.length > 0 && visible ? (\r\n          <>\r\n            {notificationList.map((notification: any, idx: number) => {\r\n              // console.log(\"not\", notification);\r\n\r\n              return (\r\n                <Notification\r\n                  key={idx}\r\n                  visible={visible}\r\n                  notification={notification}\r\n                />\r\n              );\r\n            })}\r\n          </>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              textAlign: \"center\",\r\n              justifyContent: \"center\",\r\n              color: \"var(--text-color-secondary)\",\r\n              padding: \"45px 15px\",\r\n            }}\r\n          >\r\n            No notifications yet...\r\n          </div>\r\n        )}\r\n      </NotificationsPopup>\r\n    </ContentBox>\r\n  );\r\n  return (\r\n    <Tippy\r\n      content={userNotificationsPopup}\r\n      interactive={true}\r\n      placement={\"bottom-end\"}\r\n      trigger=\"click\"\r\n      duration={0}\r\n      offset={[0, 0]}\r\n      visible={visible}\r\n      onClickOutside={hide}\r\n      onMount={() => console.log(\"mounted!\")}\r\n    >\r\n      <NotificationsIconWrapper onClick={visible ? hide : handleOpenPopup}>\r\n        <NotificationsIcon />\r\n        {unreadNotifications.length > 0 && (\r\n          <NotificationsCount>{unreadNotifications.length}</NotificationsCount>\r\n        )}\r\n        {console.log(\"notifications\", notifications)}\r\n      </NotificationsIconWrapper>\r\n    </Tippy>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgReact(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    className: \"svg-inline--fa fa-react fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReact);\nexport default __webpack_public_path__ + \"static/media/react.721051cd.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMongoDb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 1112.61 300\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M1088.41,233.64A16.61,16.61,0,1,1,1105,216.8a16.4,16.4,0,0,1-16.61,16.84m0-31.72a15.12,15.12,0,1,0,15,15.16,14.87,14.87,0,0,0-15-15.16m4.06,25.61-4.29-9.23h-3.46v9.23h-2.51v-21h6.2c4.62,0,6.53,2.05,6.53,5.88,0,3.08-1.45,5-4.15,5.59l4.43,9.52Zm-7.75-11.43h3.64c2.94,0,4.06-1,4.06-3.68s-1.07-3.6-4.38-3.6h-3.32Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M841.24,218.5c4.5,3.6,13.48,5.08,21.4,5.08,10.26,0,20.31-1.9,30.14-10.78,10.06-9.1,16.9-23.06,16.9-45.26,0-21.36-8.13-38.7-24.81-48.85-9.41-5.92-21.59-8.25-35.5-8.25-4.06,0-8.13.21-10.48,1.27a5.56,5.56,0,0,0-1.92,3c-.43,3.81-.43,32.78-.43,49.91,0,17.55,0,42.08.43,45,.21,2.54,1.5,7,4.27,8.88M798.56,100.93c3.63,0,17.45.63,23.87.63,12,0,20.31-.63,42.77-.63,18.82,0,34.65,5.08,46,14.8,13.69,11.84,21,28.34,21,48.43,0,28.54-13,45-26.09,54.34-13,9.73-29.95,15.23-54.11,15.23-12.83,0-34.86-.42-53.26-.63h-.25c-.85-1.7,1.58-8.29,3.08-8.46,5-.57,6.32-.76,8.63-1.71,3.88-1.6,4.8-3.58,5.23-10.56.64-13.11.43-28.76.43-46.52,0-12.69.21-37.43-.22-45.26-.64-6.55-3.41-8.24-9-9.51a118.52,118.52,0,0,0-12-1.91c-.43-1.27,2.86-7,3.93-8.24\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M985.2,111.66c-.85.21-1.93,2.33-1.93,3.39-.21,7.61-.42,27.49-.42,41.23a1.37,1.37,0,0,0,1.07,1.06c2.78.21,9.62.43,15.39.43,8.13,0,12.84-1.07,15.4-2.34,6.85-3.38,10-10.78,10-18.81,0-18.4-12.83-25.38-31.86-25.38a57.48,57.48,0,0,0-7.7.42m48.55,84.59c0-18.61-13.69-29.18-38.72-29.18-1.06,0-9-.22-10.9.21-.64.21-1.28.63-1.28,1.06,0,13.32-.22,34.68.42,43.14.43,3.59,3,8.67,6.21,10.15,3.42,1.9,11.12,2.32,16.47,2.32,14.75,0,27.8-8.24,27.8-27.7M946.57,101.3c1.93,0,7.62.63,22.16.63,13.69,0,24.81-.42,38.07-.42,16.47,0,39.14,5.93,39.14,30.45,0,12.06-8.56,21.78-19.68,26.44-.64.21-.64.63,0,.84,15.83,4,29.73,13.75,29.73,32.36,0,18.18-11.33,29.61-27.8,36.79-10.06,4.45-22.46,5.92-35.08,5.92-9.62,0-35.41-1.05-49.74-.84-1.5-.63,1.37-7.4,2.65-8.46a39.93,39.93,0,0,0,9.7-1.52c5.13-1.26,5.74-2.92,6.38-10.53.43-6.56.43-30,.43-46.74,0-22.84.21-38.27,0-45.89-.22-5.92-2.35-7.83-6.42-8.88-3.2-.64-8.55-1.27-12.82-1.9-1.08-1.06,2.22-7.41,3.28-8.25\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M179.51,233.64a9.24,9.24,0,0,1-.66-4.28,5.5,5.5,0,0,1,.66-2.85,73.34,73.34,0,0,0,8.21-1.67c3.78-.94,5.2-3,5.43-7.83.62-11.4.65-32.79.43-47.83v-.44c0-1.62,0-3.82-2-5.38a43,43,0,0,0-11.34-5c-1.8-.53-2.79-1.47-2.73-2.57S178.7,153.4,181,153c6.19-.64,22.43-4.51,28.8-7.46a4.2,4.2,0,0,1,.86,3c0,.66-.1,1.36-.17,2.08-.18,2.13-.38,4.54-.38,6.94a1.58,1.58,0,0,0,2.68.91c12.15-9.52,23-12.92,28.6-12.92,9.18,0,16.33,4.39,21.86,13.42a1.49,1.49,0,0,0,1.25.73,1.39,1.39,0,0,0,1.15-.62c11.17-8.47,22.24-13.53,29.63-13.53,17.51,0,28,13.11,28,35.06,0,6.31-.06,14.3-.12,21.77-.05,6.54-.1,12.68-.1,16.93,0,1,1.38,3.88,3.45,4.45,2.56,1.25,6.26,1.89,10.93,2.69l.18,0c.36,1.26-.38,6.15-1.1,7.15-1.16,0-2.76-.09-4.76-.19-3.63-.18-8.62-.44-14.42-.44-11.63,0-17.71.23-23.52.61-.43-1.45-.59-6.14-.05-7.11a64.2,64.2,0,0,0,7.09-1.67c3.7-1.22,4.77-2.9,5-7.82.09-3.5.76-34.28-.43-41.59-1.1-7.57-6.8-16.44-19.29-16.44-4.63,0-12.11,1.93-19.25,7.34a2.84,2.84,0,0,0-.69,1.81v.15c.84,3.94.84,8.54.84,15.51,0,4,0,8.17-.05,12.35-.05,8.49-.09,16.5.05,22.55,0,4.13,2.49,5.12,4.5,5.91,1.09.24,2,.45,2.82.65,1.68.41,3.42.83,6,1.24a11.49,11.49,0,0,1-.1,5.32,4,4,0,0,1-.75,1.82c-6.46-.22-13.1-.42-22.68-.42-2.9,0-7.64.13-11.83.24-3.38.09-6.6.18-8.42.19A8.34,8.34,0,0,1,236,230a6.38,6.38,0,0,1,.67-3.44l2.57-.47c2.24-.4,4.18-.74,6-1.2,3.17-1,4.36-2.73,4.6-6.76.62-9.41,1.1-36.52-.23-43.31-2.27-10.89-8.47-16.42-18.44-16.42-5.84,0-13.21,2.81-19.23,7.33a5.83,5.83,0,0,0-1.78,4.35c0,3.23,0,7.08,0,11.2,0,13.61-.09,30.56.24,37.9.2,2.25,1,4.93,5.24,5.92.93.27,2.53.53,4.39.84,1.08.18,2.25.37,3.45.59a15.21,15.21,0,0,1-.57,7.16c-1.86,0-4.15-.12-6.77-.24-4-.17-9-.4-14.67-.4-6.69,0-11.34.23-15.08.4-2.51.13-4.68.23-6.85.24\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M394.18,154.55A18.28,18.28,0,0,0,384,157.42c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.43,42.14,30.21,42.14A19,19,0,0,0,416,221.73c5.46-4.46,8.36-13.57,8.36-26.32,0-24.44-12.14-40.86-30.21-40.86m3.43,81C365.47,235.54,354,212,354,189.92c0-15.41,6.3-27.46,18.72-35.81a57.11,57.11,0,0,1,28.92-8.56c24.52,0,41.65,17.64,41.65,42.89,0,17.16-6.85,30.71-19.79,39.18-6.21,3.81-17,7.92-25.92,7.92\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M721.32,154.55a18.27,18.27,0,0,0-10.24,2.87c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.42,42.14,30.21,42.14a19,19,0,0,0,13.08-4.62c5.46-4.45,8.36-13.56,8.36-26.31,0-24.44-12.14-40.86-30.2-40.86m3.42,81c-32.14,0-43.58-23.57-43.58-45.62,0-15.42,6.3-27.46,18.73-35.81a57,57,0,0,1,28.91-8.56c24.52,0,41.65,17.64,41.65,42.88,0,17.18-6.85,30.72-19.79,39.18-6.21,3.82-17,7.93-25.92,7.93\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M613.14,153.7c-9.91,0-16.31,7.82-16.31,19.93s5.51,26.49,21,26.49c2.67,0,7.5-1.19,9.89-3.82,3.6-3.31,5.95-10.16,5.95-17.38,0-15.79-7.68-25.22-20.54-25.22m-1.29,83.53a16.41,16.41,0,0,0-8,2c-7.84,5-11.47,10.05-11.47,15.83,0,5.45,2.12,9.78,6.66,13.63,5.51,4.66,12.93,6.93,22.69,6.93,19.21,0,27.82-10.33,27.82-20.56,0-7.13-3.58-11.9-10.93-14.6-5.67-2.08-15.14-3.22-26.73-3.22m1.29,49.07c-11.54,0-19.85-2.44-26.95-7.9-6.9-5.33-10-13.24-10-18.7a14.61,14.61,0,0,1,3.78-9.51c2-2.29,6.67-6.56,17.42-14a.9.9,0,0,0,.57-.85.89.89,0,0,0-.68-.88c-8.87-3.39-11.54-9-12.34-12,0-.11-.05-.28-.09-.47-.26-1.19-.5-2.3,1.11-3.46,1.24-.88,3.23-2.06,5.35-3.31a71,71,0,0,0,8.59-5.6,1.35,1.35,0,0,0,.37-1.19,1.39,1.39,0,0,0-.72-1c-13.12-4.4-19.72-14.15-19.72-29a28.87,28.87,0,0,1,12.11-23.76c5.28-4.17,18.52-9.18,27.1-9.18h.5c8.82.21,13.8,2.06,20.68,4.61a32.89,32.89,0,0,0,12.23,2c7.3,0,10.49-2.32,13.23-5a11.39,11.39,0,0,1,.7,3.78A14.17,14.17,0,0,1,664,159.6c-1.5,2.07-5,3.58-8.22,3.58-.34,0-.65,0-1-.05a29.36,29.36,0,0,1-5-.83l-.82.28c-.26.39-.09.81.12,1.35a2.74,2.74,0,0,1,.12.32,58.87,58.87,0,0,1,1.19,8.11c0,15.57-6.13,22.35-12.77,27.37a43.59,43.59,0,0,1-22.07,8.53h0c-.17,0-1,.08-2.55.22-1,.09-2.31.2-2.5.2l-.19,0c-1.44.41-5.21,2.2-5.21,5.52,0,2.77,1.71,6.21,9.84,6.82l5.26.37c10.74.75,24.14,1.68,30.45,3.82a21.08,21.08,0,0,1,14.08,20.29c0,14-9.92,27.1-26.55,35.12a57.66,57.66,0,0,1-25.11,5.65\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M564,226.19c-4.71-.63-8.14-1.27-12.19-3.17a5.56,5.56,0,0,1-1.5-3c-.43-6.56-.43-25.59-.43-38.07,0-10.15-1.71-19-6-25.37-5.13-7.19-12.4-11.42-21.81-11.42-8.34,0-19.46,5.7-28.66,13.53-.22.21-1.63,1.55-1.59-.53s.35-6.31.54-9a4.6,4.6,0,0,0-1.4-3.92c-6,3-22.85,7-29.08,7.61-4.55.88-5.7,5.26-.85,6.77l.07,0a41.79,41.79,0,0,1,11.05,4.84c1.92,1.48,1.7,3.6,1.7,5.29.21,14.17.21,35.95-.42,47.8-.22,4.65-1.5,6.34-4.93,7.19l.32-.11a66.65,66.65,0,0,1-7.92,1.48c-1.07,1.05-1.07,7.19,0,8.46,2.14,0,13.05-.63,22-.63,12.4,0,18.82.63,22,.63,1.29-1.48,1.71-7.19.85-8.46a45.12,45.12,0,0,1-8.77-1.27c-3.42-.84-4.27-2.54-4.48-6.34-.43-9.94-.43-31.09-.43-45.47,0-4,1.06-5.92,2.35-7,4.28-3.81,11.33-6.34,17.54-6.34,6,0,10.05,1.9,13,4.44,4.07,3.38,5.56,8.24,6,11.84.86,8,.64,24.11.64,38.06,0,7.62-.64,9.53-3.42,10.37-1.28.63-4.71,1.27-8.77,1.69-1.28,1.27-.86,7.19,0,8.46,5.56,0,12-.63,21.39-.63,11.76,0,19.24.63,22.24.63,1.28-1.48,1.71-7,.86-8.46\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M131.69,120.49C116.44,53.19,80.4,31.06,76.53,22.61,72.27,16.63,68,6,68,6c-.08-.17-.19-.49-.32-.8-.44,5.95-.67,8.27-6.3,14.29C52.62,26.36,7.82,63.94,4.17,140.41c-3.4,71.29,51.52,113.79,59,119.21l.84.59,0,0c.05.35,2.36,17,4,34.57l5.81,0a344.12,344.12,0,0,1,6.14-37l.45-.3a97.92,97.92,0,0,0,9.48-7.76l.34-.31a136.77,136.77,0,0,0,43.89-102.11A163.1,163.1,0,0,0,131.69,120.49ZM67.32,219.36s0-100,3.35-100c2.57,0,5.91,129,5.91,129C72,247.82,67.32,227.14,67.32,219.36Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMongoDb);\nexport default __webpack_public_path__ + \"static/media/mongoDB.798a28af.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSocketIo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M45.2 29.57c-.106-6.514-3.734-12.843-9.348-16.18-4.422-2.754-10-3.495-15.04-2.224-7.573 1.907-13.6 8.765-14.38 16.577-.953 7.388 2.78 15.067 9.162 18.854 6.25 3.92 14.75 3.76 20.867-.37 5.508-3.575 8.924-10.1 8.74-16.656zm-18.377 17c-8.844.874-17.398-6.62-17.636-15.5-.662-7.203 4.078-14.326 10.857-16.7 9.506-3.813 21.184 3.23 22.164 13.426 1.536 9.162-6.1 18.483-15.385 18.775zm-5.826-17.555l12.8-10.46-6.9 10.486c-1.96 0-3.92 0-5.88-.026zm3.6 1.933l5.88.026-12.8 10.486 6.9-10.513z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.065 35.91c.648.367 1.62.627 2.7.627 2.356 0 3.61-1.167 3.61-2.766-.022-1.318-.756-2.14-2.356-2.7-1.124-.41-1.556-.67-1.556-1.232 0-.54.432-.93 1.232-.93.778 0 1.49.28 1.88.52l.432-1.578c-.52-.28-1.36-.52-2.356-.52-2.053 0-3.35 1.2-3.35 2.788-.022 1.037.713 1.988 2.442 2.593 1.102.39 1.448.692 1.448 1.297 0 .583-.432.972-1.426.972-.8 0-1.772-.324-2.27-.627zm11.39-8.623c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004zm11.735 5.49a4.49 4.49 0 0 1-1.772.346c-1.534 0-2.7-1.037-2.7-2.853-.022-1.62.994-2.874 2.7-2.874.8 0 1.318.173 1.686.346l.41-1.664c-.52-.238-1.34-.41-2.16-.41-3.112 0-4.927 2.075-4.927 4.733 0 2.745 1.794 4.517 4.56 4.517 1.102 0 2.03-.238 2.507-.454zm3.436-10.978h-2.248v12.923h2.248V33.34l.756-.886 2.55 3.912h2.745l-3.74-5.23 3.285-3.63h-2.7l-2.14 2.853c-.238.303-.497.692-.713 1.037h-.043zM91.24 32.54c.043-.194.065-.52.065-.95 0-1.945-.95-4.322-3.825-4.322-2.83 0-4.322 2.312-4.322 4.776 0 2.7 1.686 4.473 4.56 4.473 1.275 0 2.334-.238 3.1-.54l-.324-1.556c-.67.26-1.426.41-2.464.41-1.426 0-2.68-.692-2.723-2.29zm-5.92-1.556c.086-.908.67-2.16 2.053-2.16 1.49 0 1.86 1.34 1.837 2.16zm7.413-5.49v2h-1.253v1.664h1.275v4.17c0 1.167.216 1.967.692 2.464.41.454 1.102.735 1.923.735.713 0 1.297-.086 1.62-.216l-.043-1.707c-.194.065-.497.108-.864.108-.864 0-1.145-.562-1.145-1.642v-3.912h2.14v-1.664h-2.14v-2.55zM99 36.56c.843 0 1.383-.627 1.383-1.448 0-.864-.562-1.448-1.383-1.448-.8 0-1.383.605-1.383 1.448 0 .82.562 1.448 1.383 1.448zm4.668-.216v-8.86h-2.248v8.86zm-1.124-12.556c-.756 0-1.253.52-1.253 1.2 0 .67.497 1.2 1.232 1.2.778 0 1.275-.52 1.275-1.2-.022-.67-.497-1.2-1.253-1.2zm6.786 3.5c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSocketIo);\nexport default __webpack_public_path__ + \"static/media/socketIO.35bda906.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNodeJs(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"node\",\n    className: \"svg-inline--fa fa-node fa-w-20\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 640 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M316.3 452c-2.1 0-4.2-.6-6.1-1.6L291 439c-2.9-1.6-1.5-2.2-.5-2.5 3.8-1.3 4.6-1.6 8.7-4 .4-.2 1-.1 1.4.1l14.8 8.8c.5.3 1.3.3 1.8 0L375 408c.5-.3.9-.9.9-1.6v-66.7c0-.7-.3-1.3-.9-1.6l-57.8-33.3c-.5-.3-1.2-.3-1.8 0l-57.8 33.3c-.6.3-.9 1-.9 1.6v66.7c0 .6.4 1.2.9 1.5l15.8 9.1c8.6 4.3 13.9-.8 13.9-5.8v-65.9c0-.9.7-1.7 1.7-1.7h7.3c.9 0 1.7.7 1.7 1.7v65.9c0 11.5-6.2 18-17.1 18-3.3 0-6 0-13.3-3.6l-15.2-8.7c-3.7-2.2-6.1-6.2-6.1-10.5v-66.7c0-4.3 2.3-8.4 6.1-10.5l57.8-33.4c3.7-2.1 8.5-2.1 12.1 0l57.8 33.4c3.7 2.2 6.1 6.2 6.1 10.5v66.7c0 4.3-2.3 8.4-6.1 10.5l-57.8 33.4c-1.7 1.1-3.8 1.7-6 1.7zm46.7-65.8c0-12.5-8.4-15.8-26.2-18.2-18-2.4-19.8-3.6-19.8-7.8 0-3.5 1.5-8.1 14.8-8.1 11.9 0 16.3 2.6 18.1 10.6.2.8.8 1.3 1.6 1.3h7.5c.5 0 .9-.2 1.2-.5.3-.4.5-.8.4-1.3-1.2-13.8-10.3-20.2-28.8-20.2-16.5 0-26.3 7-26.3 18.6 0 12.7 9.8 16.1 25.6 17.7 18.9 1.9 20.4 4.6 20.4 8.3 0 6.5-5.2 9.2-17.4 9.2-15.3 0-18.7-3.8-19.8-11.4-.1-.8-.8-1.4-1.7-1.4h-7.5c-.9 0-1.7.7-1.7 1.7 0 9.7 5.3 21.3 30.6 21.3 18.5 0 29-7.2 29-19.8zm54.5-50.1c0 6.1-5 11.1-11.1 11.1s-11.1-5-11.1-11.1c0-6.3 5.2-11.1 11.1-11.1 6-.1 11.1 4.8 11.1 11.1zm-1.8 0c0-5.2-4.2-9.3-9.4-9.3-5.1 0-9.3 4.1-9.3 9.3 0 5.2 4.2 9.4 9.3 9.4 5.2-.1 9.4-4.3 9.4-9.4zm-4.5 6.2h-2.6c-.1-.6-.5-3.8-.5-3.9-.2-.7-.4-1.1-1.3-1.1h-2.2v5h-2.4v-12.5h4.3c1.5 0 4.4 0 4.4 3.3 0 2.3-1.5 2.8-2.4 3.1 1.7.1 1.8 1.2 2.1 2.8.1 1 .3 2.7.6 3.3zm-2.8-8.8c0-1.7-1.2-1.7-1.8-1.7h-2v3.5h1.9c1.6 0 1.9-1.1 1.9-1.8zM137.3 191c0-2.7-1.4-5.1-3.7-6.4l-61.3-35.3c-1-.6-2.2-.9-3.4-1h-.6c-1.2 0-2.3.4-3.4 1L3.7 184.6C1.4 185.9 0 188.4 0 191l.1 95c0 1.3.7 2.5 1.8 3.2 1.1.7 2.5.7 3.7 0L42 268.3c2.3-1.4 3.7-3.8 3.7-6.4v-44.4c0-2.6 1.4-5.1 3.7-6.4l15.5-8.9c1.2-.7 2.4-1 3.7-1 1.3 0 2.6.3 3.7 1l15.5 8.9c2.3 1.3 3.7 3.8 3.7 6.4v44.4c0 2.6 1.4 5.1 3.7 6.4l36.4 20.9c1.1.7 2.6.7 3.7 0 1.1-.6 1.8-1.9 1.8-3.2l.2-95zM472.5 87.3v176.4c0 2.6-1.4 5.1-3.7 6.4l-61.3 35.4c-2.3 1.3-5.1 1.3-7.4 0l-61.3-35.4c-2.3-1.3-3.7-3.8-3.7-6.4v-70.8c0-2.6 1.4-5.1 3.7-6.4l61.3-35.4c2.3-1.3 5.1-1.3 7.4 0l15.3 8.8c1.7 1 3.9-.3 3.9-2.2v-94c0-2.8 3-4.6 5.5-3.2l36.5 20.4c2.3 1.2 3.8 3.7 3.8 6.4zm-46 128.9c0-.7-.4-1.3-.9-1.6l-21-12.2c-.6-.3-1.3-.3-1.9 0l-21 12.2c-.6.3-.9.9-.9 1.6v24.3c0 .7.4 1.3.9 1.6l21 12.1c.6.3 1.3.3 1.8 0l21-12.1c.6-.3.9-.9.9-1.6v-24.3zm209.8-.7c2.3-1.3 3.7-3.8 3.7-6.4V192c0-2.6-1.4-5.1-3.7-6.4l-60.9-35.4c-2.3-1.3-5.1-1.3-7.4 0l-61.3 35.4c-2.3 1.3-3.7 3.8-3.7 6.4v70.8c0 2.7 1.4 5.1 3.7 6.4l60.9 34.7c2.2 1.3 5 1.3 7.3 0l36.8-20.5c2.5-1.4 2.5-5 0-6.4L550 241.6c-1.2-.7-1.9-1.9-1.9-3.2v-22.2c0-1.3.7-2.5 1.9-3.2l19.2-11.1c1.1-.7 2.6-.7 3.7 0l19.2 11.1c1.1.7 1.9 1.9 1.9 3.2v17.4c0 2.8 3.1 4.6 5.6 3.2l36.7-21.3zM559 219c-.4.3-.7.7-.7 1.2v13.6c0 .5.3 1 .7 1.2l11.8 6.8c.4.3 1 .3 1.4 0L584 235c.4-.3.7-.7.7-1.2v-13.6c0-.5-.3-1-.7-1.2l-11.8-6.8c-.4-.3-1-.3-1.4 0L559 219zm-254.2 43.5v-70.4c0-2.6-1.6-5.1-3.9-6.4l-61.1-35.2c-2.1-1.2-5-1.4-7.4 0l-61.1 35.2c-2.3 1.3-3.9 3.7-3.9 6.4v70.4c0 2.8 1.9 5.2 4 6.4l61.2 35.2c2.4 1.4 5.2 1.3 7.4 0l61-35.2c1.8-1 3.1-2.7 3.6-4.7.1-.5.2-1.1.2-1.7zm-74.3-124.9l-.8.5h1.1l-.3-.5zm76.2 130.2l-.4-.7v.9l.4-.2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNodeJs);\nexport default __webpack_public_path__ + \"static/media/nodeJS.e857c44e.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTypescript(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"-64.9 417 256 61.369\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-33.33 422.558h-13.125v40.558h-5.32v-40.558H-64.9V417.7h31.453v4.848h.118zm25.188 8.158l-14.9 37.602c-2.72 6.74-6.385 10.05-11.233 10.05-1.3 0-2.483-.118-3.43-.355V473.4c1.064.355 2.128.6 3.074.6 2.6 0 4.612-1.537 5.912-4.73l2.6-6.15-12.652-32.4h5.794l8.75 24.95c.118.355.355 1.182.7 2.483h.236c.118-.473.355-1.3.6-2.365l9.223-25.068h5.32zm8.75 27.788H.5v19.63h-5.203v-47.298H.5v5.676h.118c2.6-4.257 6.267-6.503 11.233-6.503 4.14 0 7.45 1.42 9.814 4.375s3.547 6.74 3.547 11.706c0 5.44-1.3 9.814-3.902 13.007s-6.267 4.848-10.88 4.848c-4.257 0-7.45-1.774-9.814-5.44zM.5 445.38v4.493c0 2.72.828 4.966 2.6 6.858s3.902 2.838 6.622 2.838c3.193 0 5.558-1.182 7.45-3.666s2.72-5.794 2.72-10.05c0-3.666-.828-6.385-2.483-8.514-1.655-2-3.902-3.074-6.74-3.074-3.074 0-5.44 1.064-7.33 3.193S.5 442.186.5 445.38zm56.758 2.838h-22.94c.118 3.666 1.064 6.385 2.956 8.395s4.375 2.956 7.686 2.956c3.666 0 6.976-1.182 10.05-3.666v4.848c-2.838 2.128-6.622 3.074-11.352 3.074-4.612 0-8.16-1.42-10.76-4.375s-3.902-7.095-3.902-12.416c0-5.085 1.42-9.105 4.257-12.297s6.385-4.73 10.642-4.73 7.568 1.42 9.814 4.14c2.365 2.72 3.43 6.503 3.43 11.47v2.6h.118zm-5.32-4.375c0-2.956-.7-5.32-2.128-6.976s-3.43-2.483-5.912-2.483-4.493.828-6.267 2.6c-1.655 1.774-2.72 4.02-3.193 6.858h17.5zm8.16 17.737v-3.547c3.3 2.128 6.503 3.074 9.933 3.074 3.547 0 6.267-.7 8.04-2.247 1.892-1.42 2.72-3.547 2.72-6.15 0-2.365-.6-4.14-1.892-5.558-1.182-1.42-3.902-3.3-8.04-5.676-4.612-2.72-7.568-4.966-8.75-6.74a11.2 11.2 0 0 1-1.892-6.267c0-3.193 1.3-5.912 3.784-8.16s5.79-3.31 9.93-3.31c2.72 0 5.44.473 8.16 1.42v3.3a21.13 21.13 0 0 0-8.514-1.774c-3.074 0-5.558.828-7.33 2.365s-2.72 3.547-2.72 5.912.6 4.14 1.892 5.558c1.182 1.42 3.902 3.193 8.04 5.558 4.257 2.365 7.095 4.493 8.514 6.385s2.128 4.02 2.128 6.503c0 3.43-1.182 6.267-3.666 8.514-2.365 2.247-5.794 3.3-10.287 3.3-1.537 0-3.3-.236-5.44-.7-1.892-.6-3.43-1.182-4.612-1.774zm51.436.118c-2.365 1.42-5.32 2.247-8.632 2.247-4.375 0-7.922-1.537-10.642-4.493-2.72-3.074-4.02-6.976-4.02-11.943 0-5.203 1.537-9.34 4.612-12.652s6.976-4.966 11.706-4.966c2.483 0 4.848.473 7.213 1.537v3.3a14.47 14.47 0 0 0-7.686-2.128c-3.784 0-6.858 1.42-9.223 4.14S91.3 443.014 91.3 447.4c0 4.257 1.064 7.568 3.193 10.17s4.966 3.784 8.514 3.784c3.193 0 6.03-.828 8.514-2.6v2.956zm19.63-27.906c-.946-.7-2.128-1.064-3.43-1.064-2.6 0-4.73 1.3-6.385 3.902-1.774 2.6-2.6 6.385-2.6 11.233v15.254H115.9v-32.4h2.838v7.213h.118c.7-2.483 1.892-4.375 3.547-5.794s3.43-2 5.557-2c1.182 0 2.247.236 3.193.6v3.074zm4.966-11.233c-.6 0-1.182-.236-1.655-.7s-.7-1.064-.7-1.774.236-1.3.7-1.655c.473-.473 1.064-.6 1.655-.6.7 0 1.182.236 1.774.6.473.473.7.946.7 1.655s-.236 1.3-.7 1.774c-.6.473-1.064.7-1.774.7zm-1.42 40.676v-32.4h2.956v32.4H134.7zm13.125-5.794h-.118v20.693h-2.956v-47.298h2.956v6.74h.118c1.182-2.365 2.838-4.257 4.966-5.558s4.493-1.892 7.095-1.892c4.14 0 7.33 1.42 9.696 4.257s3.43 6.74 3.43 11.588c0 5.44-1.3 9.814-4.02 13.125-2.6 3.3-6.15 4.966-10.524 4.966-4.73-.118-8.277-2.247-10.642-6.622zm-.118-12.06v4.14c0 3.3 1.064 6.03 3.074 8.395s4.73 3.547 8.04 3.547 6.03-1.42 8.04-4.257 3.074-6.622 3.074-11.233c0-4.02-.946-7.33-2.838-9.696s-4.493-3.547-7.568-3.547c-3.784 0-6.74 1.3-8.75 3.784s-3.074 5.44-3.074 8.868zm43.393 17.38c-1.537.7-2.956 1.064-4.257 1.064-4.848 0-7.213-2.838-7.213-8.632v-21.757h-5.794v-2.72h5.794v-8.395c.473-.118.946-.355 1.42-.473s.946-.355 1.42-.473v9.46h8.514v2.72h-8.514v21.402c0 2.247.355 3.902 1.064 4.848s1.892 1.537 3.547 1.537c1.182 0 2.483-.355 3.902-1.182v2.6h.118z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTypescript);\nexport default __webpack_public_path__ + \"static/media/typescript.a24bf988.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCrossIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCrossIcon);\nexport default __webpack_public_path__ + \"static/media/cross-icon.840ad556.svg\";\nexport { ForwardRef as ReactComponent };","// import { Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import { faReact } from \"@fortawesome/free-brands-svg-icons\";\r\n// import { faGithub } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { ReactComponent as GitHubIcon } from \"../assets/icons/footer/gitHub.svg\";\r\nimport { ReactComponent as ReactIcon } from \"../assets/icons/footer/react.svg\";\r\nimport { ReactComponent as MongoDBIcon } from \"../assets/icons/footer/mongoDB.svg\";\r\nimport { ReactComponent as SocketIOIcon } from \"../assets/icons/footer/socketIO.svg\";\r\nimport { ReactComponent as NodeIcon } from \"../assets/icons/footer/nodeJS.svg\";\r\nimport { ReactComponent as TypescriptIcon } from \"../assets/icons/footer/typescript.svg\";\r\nimport styled from \"styled-components\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Wrapper = styled.footer`\r\n  /* background: black; */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 40px 0 30px;\r\n`;\r\n\r\nconst Creator = styled.a`\r\n  display: flex;\r\n  border: 1px solid var(--text-color-secondary);\r\n  border-radius: 5px;\r\n  padding: 15px 20px;\r\n  align-items: center;\r\n  margin-right: 25px;\r\n  min-width: 190px;\r\n  width: 150px;\r\n  svg {\r\n    width: 35px;\r\n    margin-right: 10px;\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\nconst CreatorInfo = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst CreatorName = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst ReactIconWrapper = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 18px;\r\n  color: var(--text-color-secondary);\r\n  margin-right: 25px;\r\n  :hover {\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  svg {\r\n    width: 35px;\r\n    margin-right: 7px;\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst NodeJsWrapper = styled.a`\r\n  margin-right: 25px;\r\n  svg {\r\n    width: 65px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst MongoDBWrapper = styled.a`\r\n  margin-right: 15px;\r\n  svg {\r\n    width: 95px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst SocketIOWrapper = styled.a`\r\n  margin-right: 15px;\r\n  svg {\r\n    min-width: 65px;\r\n    width: 120px;\r\n    height: 60px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst TypescriptWrapper = styled.a`\r\n  margin-right: 20px;\r\n  svg {\r\n    width: 90px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst Footer = () => {\r\n  const location = useLocation();\r\n  console.log(\"location\", location.pathname.includes(\"conversation\"));\r\n  if (location.pathname.includes(\"conversation\")) {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <Wrapper translate=\"no\" className=\"footer notranslate\">\r\n      <Creator\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://github.com/antonlavrinov/social-media\"\r\n      >\r\n        <GitHubIcon />\r\n        <CreatorInfo>\r\n          Created by\r\n          <CreatorName>Anton Lavrinov</CreatorName>\r\n        </CreatorInfo>\r\n      </Creator>\r\n      <ReactIconWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://reactjs.org/\"\r\n      >\r\n        <ReactIcon />\r\n        React\r\n      </ReactIconWrapper>\r\n      <NodeJsWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://nodejs.org/en/\"\r\n      >\r\n        <NodeIcon />\r\n      </NodeJsWrapper>\r\n      <MongoDBWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://www.mongodb.com/\"\r\n      >\r\n        <MongoDBIcon />\r\n      </MongoDBWrapper>\r\n      <SocketIOWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://socket.io/\"\r\n      >\r\n        <SocketIOIcon />\r\n      </SocketIOWrapper>\r\n      <TypescriptWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://www.typescriptlang.org/\"\r\n      >\r\n        <TypescriptIcon />\r\n      </TypescriptWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Spinner = () => (\r\n  <StyledSpinner viewBox=\"0 0 50 50\">\r\n    <circle\r\n      className=\"path\"\r\n      cx=\"25\"\r\n      cy=\"25\"\r\n      r=\"20\"\r\n      fill=\"none\"\r\n      strokeWidth=\"3\"\r\n    />\r\n  </StyledSpinner>\r\n);\r\n\r\nconst StyledSpinner = styled.svg`\r\n  animation: rotate 1s linear infinite;\r\n  /* margin: 70px; */\r\n  width: 40px;\r\n  height: 40px;\r\n\r\n  & .path {\r\n    stroke: #5652bf;\r\n    stroke-linecap: round;\r\n    animation: dash 1.5s ease-in-out infinite;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @keyframes dash {\r\n    0% {\r\n      stroke-dasharray: 1, 150;\r\n      stroke-dashoffset: 0;\r\n    }\r\n    50% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -35;\r\n    }\r\n    100% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -124;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Spinner;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  AvatarOnlineWrapper,\r\n  Avatar,\r\n  CustomLink,\r\n  Separator,\r\n} from \"../styled-components/global\";\r\n// import { OnlineContext } from \"../context/OnlineContext\";\r\nimport Spinner from \"./Spinner\";\r\nconst Wrapper = styled.div`\r\n  padding: 5px 8px;\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  margin-top: 20px;\r\n  border-radius: var(--border-radius-primary);\r\n  box-shadow: var(--shadow-primary);\r\n  .separator {\r\n    :last-child {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CardInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  /* padding: 8px; */\r\n`;\r\n\r\nconst CardWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 6px 0;\r\n  /* padding: 8px; */\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 14px;\r\n  margin-bottom: 8px;\r\n  /* color: var(--color-primary); */\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 50px;\r\n`;\r\n\r\nconst RecentUsers = () => {\r\n  const { request, loading } = useHttp();\r\n  const [users, setUsers] = useState([]);\r\n  useEffect(() => {\r\n    request(\"/api/search/users?search=\", \"GET\").then((res) => {\r\n      console.log(\"RESPONSE SEARCH\", res);\r\n      setUsers(res.users);\r\n    });\r\n  }, []);\r\n  if (loading) {\r\n    return (\r\n      <SpinnerWrapper>\r\n        <Spinner />\r\n      </SpinnerWrapper>\r\n    );\r\n  }\r\n  if (users.length === 0) <></>;\r\n  return (\r\n    <Wrapper>\r\n      <Title>Recently joined:</Title>\r\n      <Separator />\r\n      {users.map((user: any) => {\r\n        return (\r\n          <>\r\n            <User key={user._id} user={user} />\r\n            {/* <Separator className=\"separator\" /> */}\r\n          </>\r\n        );\r\n      })}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default RecentUsers;\r\n\r\nconst User = ({ user }) => {\r\n  //   const { online } = useContext(OnlineContext);\r\n  return (\r\n    <CardWrapper>\r\n      {/* <AvatarOnlineWrapper\r\n        onlineIconRightPosition={\"7px\"}\r\n        onlineIconSmall\r\n        onlineType={online[user._id ? user._id : \"ds\"] ? true : false}\r\n      > */}\r\n      <Avatar\r\n        size=\"extra-small\"\r\n        src={user.avatar}\r\n        style={{ marginRight: \"8px\" }}\r\n      />\r\n      {/* </AvatarOnlineWrapper> */}\r\n\r\n      <CardInfo>\r\n        <CustomLink\r\n          style={{ marginBottom: \"5px\", display: \"block\" }}\r\n          color=\"black\"\r\n          to={`/profile/${user._id}`}\r\n        >\r\n          {user.firstName} {user.lastName}\r\n        </CustomLink>\r\n      </CardInfo>\r\n    </CardWrapper>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as ProfileIcon } from \"../assets/icons/profile-icon.svg\";\r\nimport { ReactComponent as MessagesIcon } from \"../assets/icons/messages-icon.svg\";\r\nimport { ReactComponent as FriendsIcon } from \"../assets/icons/friends-icon.svg\";\r\nimport { ReactComponent as LogoIcon } from \"../assets/icons/intouch-logo.svg\";\r\nimport { ReactComponent as ArrowIcon } from \"../assets/icons/arrow-more-icon.svg\";\r\n\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  NotificationsCount,\r\n  svgPrimaryStyleNoHover,\r\n  svgSecondaryStyle,\r\n} from \"../styled-components/global\";\r\nimport Search from \"./Search\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport Notifications from \"./profile-page/Notifications\";\r\nimport { useTippyVisibility } from \"../hooks/useTippyVisibility\";\r\nimport Footer from \"./Footer\";\r\nimport RecentUsers from \"./RecentUsers\";\r\n\r\nconst Logo = styled(Link)`\r\n  font-size: 25px;\r\n  font-size: 28px;\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  color: var(--text-color-link);\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 55px;\r\n  margin-left: 5px;\r\n  svg {\r\n    fill: var(--color-primary);\r\n    min-width: 10px;\r\n    margin-right: 10px;\r\n  }\r\n  :hover {\r\n    font-size: 25px;\r\n    font-size: 28px;\r\n    font-family: var(--font-family-secondary);\r\n    font-weight: 700;\r\n    color: var(--text-color-link);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 960px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst MainWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  border-bottom: var(--border-primary);\r\n  box-shadow: var(--shadow-primary);\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst HeaderWrapper = styled.div`\r\n  display: flex;\r\n  /* padding: 20px 0; */\r\n  position: relative;\r\n`;\r\n\r\nconst Navigation = styled.nav``;\r\n\r\nconst NavigationLink = styled(Link)`\r\n  font-size: var(--font-size-secondary);\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px 5px;\r\n  border-radius: var(--border-radius-primary);\r\n  position: relative;\r\n  color: var(--color-black);\r\n  /* font-weight: 600; */\r\n  svg {\r\n    margin-right: 3px;\r\n    height: var(--icon-size-primary);\r\n    width: var(--icon-size-primary);\r\n    height: 35px;\r\n    width: 35px;\r\n    fill: var(--color-primary);\r\n    /* ${svgSecondaryStyle} */\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    font-size: var(--font-size-secondary);\r\n    /* font-weight: 600; */\r\n  }\r\n`;\r\n\r\nconst NavigationLinkIcon = styled.div`\r\n  display: flex;\r\n  margin-right: 5px;\r\n  position: relative;\r\n`;\r\n\r\nconst UserNavbar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  margin-left: auto;\r\n  /* padding: 15px 0; */\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 100%;\r\n  padding: 15px 5px;\r\n  img {\r\n    align-self: center;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n    background: var(--color-secondary);\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 38px;\r\n  height: 38px;\r\n  border-radius: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  font-size: var(--text-size-secondary);\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 15px 0;\r\n`;\r\nconst UserInfoPopup = styled.div``;\r\n\r\nconst UserInfoPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst LeftNav = styled.div`\r\n  min-width: 165px;\r\n  margin-right: 15px;\r\n`;\r\n\r\n// const Count = styled.div`\r\n//   width\r\n// `\r\n\r\nconst Layout: React.FC = ({ children }) => {\r\n  const {\r\n    logout,\r\n    meUserData,\r\n    notifications,\r\n    setNotifications,\r\n    conversations,\r\n    socket,\r\n  } = useContext(AuthContext);\r\n  const { visible, show, hide } = useTippyVisibility();\r\n\r\n  const { request } = useHttp();\r\n\r\n  const handleLogOut = async () => {\r\n    try {\r\n      // console.log(credentials);\r\n      await request(\"/api/auth/logout\", \"POST\");\r\n      socket.disconnect();\r\n\r\n      logout();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // console.log(\"notifyy\", notifications);\r\n  let unReadMessagesCount = 0;\r\n  conversations.forEach((conversation: any) => {\r\n    conversation.messages.forEach((message: any) => {\r\n      if (!message.isRead && message.user._id !== meUserData?._id) {\r\n        unReadMessagesCount++;\r\n      }\r\n    });\r\n  });\r\n\r\n  let pendingFriendRequestsCount = 0;\r\n  notifications.forEach((notification: any) => {\r\n    if (\r\n      notification.text === \"sent you afriendrequest\" &&\r\n      !notification.isRead\r\n    ) {\r\n      console.log(\"notification\", notification.text);\r\n      console.log(\"passed\");\r\n      pendingFriendRequestsCount++;\r\n    }\r\n  });\r\n\r\n  console.log(\"pendingFriendRequestsCount\", pendingFriendRequestsCount);\r\n\r\n  const userInfoPopup = (\r\n    <ContentBox>\r\n      <UserInfoPopup onClick={visible ? hide : show}>\r\n        <Link to={`/profile/edit/${meUserData?._id}`}>\r\n          <UserInfoPopupSelect>Edit profile</UserInfoPopupSelect>\r\n        </Link>\r\n        <UserInfoPopupSelect onClick={handleLogOut}>\r\n          Sign out\r\n        </UserInfoPopupSelect>\r\n      </UserInfoPopup>\r\n    </ContentBox>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Container>\r\n          <HeaderWrapper>\r\n            <Logo to=\"/\">\r\n              {/* <LogoIcon /> */}\r\n              intouch\r\n            </Logo>\r\n            <SearchWrapper>\r\n              <Search meUserData={meUserData} />\r\n            </SearchWrapper>\r\n\r\n            <UserNavbar>\r\n              <Notifications\r\n                setNotifications={setNotifications}\r\n                notifications={notifications}\r\n              />\r\n\r\n              <Tippy\r\n                content={userInfoPopup}\r\n                interactive={true}\r\n                placement={\"bottom-end\"}\r\n                trigger=\"click\"\r\n                duration={0}\r\n                offset={[0, 0]}\r\n                onClickOutside={hide}\r\n                visible={visible}\r\n              >\r\n                <UserInfo onClick={visible ? hide : show}>\r\n                  <Avatar\r\n                    marginRight=\"10px\"\r\n                    size=\"medium-small\"\r\n                    src={meUserData?.avatar}\r\n                  />\r\n                  <UserName>{meUserData?.firstName}</UserName>\r\n                  <ArrowIcon />\r\n                </UserInfo>\r\n              </Tippy>\r\n            </UserNavbar>\r\n          </HeaderWrapper>\r\n        </Container>\r\n      </Header>\r\n      <Container>\r\n        <MainWrapper>\r\n          <LeftNav>\r\n            <Navigation>\r\n              <NavigationLink to={`/profile/${meUserData?._id}`}>\r\n                <NavigationLinkIcon>\r\n                  <ProfileIcon />\r\n                </NavigationLinkIcon>\r\n                Profile\r\n              </NavigationLink>\r\n              <NavigationLink to={`/messages`}>\r\n                <NavigationLinkIcon>\r\n                  <MessagesIcon />\r\n                  {unReadMessagesCount !== 0 && (\r\n                    <NotificationsCount top=\"-7px\" right=\"-3px\">\r\n                      {unReadMessagesCount}\r\n                    </NotificationsCount>\r\n                  )}\r\n                </NavigationLinkIcon>\r\n                Messages\r\n              </NavigationLink>\r\n              <NavigationLink to={`/friends`}>\r\n                <NavigationLinkIcon>\r\n                  <FriendsIcon />\r\n                  {/* {pendingFriendRequestsCount !== 0 && (\r\n                  <NotificationsCount top=\"-7px\" right=\"-3px\">\r\n                    {pendingFriendRequestsCount}\r\n                  </NotificationsCount>\r\n                )} */}\r\n                </NavigationLinkIcon>\r\n                Friends\r\n              </NavigationLink>\r\n            </Navigation>\r\n            <RecentUsers />\r\n          </LeftNav>\r\n\r\n          <main>{children}</main>\r\n        </MainWrapper>\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { useSnackbar } from \"notistack\";\r\nimport React, { forwardRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar } from \"../styled-components/global\";\r\nimport { ReactComponent as CrossIcon } from \"../assets/icons/cross-icon.svg\";\r\n\r\nconst Wrapper = styled.div<{ type?: \"success\" | \"error\" }>`\r\n  background: var(--color-dark-grey);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 15px;\r\n  padding-right: 30px;\r\n  display: flex;\r\n  min-width: 344px !important;\r\n  max-width: 344px !important;\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    fill: rgba(256, 256, 256, 0.5);\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NotificationInfo = styled.div``;\r\n\r\nconst NotificationText = styled.div`\r\n  color: white;\r\n`;\r\n\r\nconst CustomNotification = forwardRef<\r\n  HTMLDivElement,\r\n  {\r\n    id: string | number;\r\n    message: any | React.ReactNode;\r\n    type?: \"success\" | \"error\";\r\n  }\r\n>(({ id, message, type }, ref) => {\r\n  const { closeSnackbar } = useSnackbar();\r\n  console.log(\"type\", type);\r\n\r\n  return (\r\n    <Wrapper ref={ref}>\r\n      <Avatar\r\n        style={{ marginRight: \"10px\" }}\r\n        src={message.user.avatar}\r\n        size=\"small\"\r\n      />\r\n      <NotificationInfo>\r\n        <NotificationText>\r\n          {message.user.firstName} {message.user.lastName} {message.text}\r\n        </NotificationText>\r\n      </NotificationInfo>\r\n      <CrossIcon onClick={() => closeSnackbar(id)} />\r\n    </Wrapper>\r\n  );\r\n});\r\n\r\nexport default CustomNotification;\r\n","import { useSnackbar } from \"notistack\";\r\nimport React, { forwardRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar } from \"../styled-components/global\";\r\nimport { ReactComponent as CrossIcon } from \"../assets/icons/cross-icon.svg\";\r\n\r\nconst Wrapper = styled.div<{ type?: \"success\" | \"error\" }>`\r\n  background: var(--color-green);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 15px;\r\n  padding-right: 30px;\r\n  display: flex;\r\n  min-width: 344px !important;\r\n  max-width: 344px !important;\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    fill: rgba(256, 256, 256, 0.5);\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  ${(props) =>\r\n    props.type === \"error\" &&\r\n    `\r\n    background: var(--color-red);\r\n  `}\r\n`;\r\n\r\nconst NotificationInfo = styled.div``;\r\n\r\nconst NotificationText = styled.div`\r\n  color: white;\r\n`;\r\n\r\ntype MessageType = {\r\n  type: \"error\" | \"success\";\r\n  text: string;\r\n};\r\n\r\nconst CustomPageNotification = forwardRef<\r\n  HTMLDivElement,\r\n  {\r\n    id: string | number;\r\n    message: any | React.ReactNode;\r\n  }\r\n>(({ id, message }, ref) => {\r\n  const { closeSnackbar } = useSnackbar();\r\n  console.log(\"mes\", message);\r\n\r\n  return (\r\n    <Wrapper ref={ref} type={message.type}>\r\n      <NotificationInfo>\r\n        <NotificationText>{message.text}</NotificationText>\r\n      </NotificationInfo>\r\n      <CrossIcon onClick={() => closeSnackbar(id)} />\r\n    </Wrapper>\r\n  );\r\n});\r\n\r\nexport default CustomPageNotification;\r\n","import { VariantType, useSnackbar } from \"notistack\";\r\nimport CustomNotification from \"../components/CustomNotification\";\r\nimport CustomPageNotification from \"../components/CustomPageNotification\";\r\n\r\nconst useNotistack = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const handleNotification = (message: any, variant: VariantType) => {\r\n    console.log(\"variant\", variant);\r\n    enqueueSnackbar(message, {\r\n      variant,\r\n      content: (key: any, message: any) => (\r\n        <CustomNotification id={key} message={message} />\r\n      ),\r\n    });\r\n  };\r\n\r\n  const handlePageNotification = (message: any, variant?: VariantType) => {\r\n    // console.log(\"variant\", variant);\r\n    enqueueSnackbar(message, {\r\n      variant,\r\n      content: (key: any, message: any) => (\r\n        <CustomPageNotification id={key} message={message} />\r\n      ),\r\n    });\r\n  };\r\n  return { handleNotification, handlePageNotification };\r\n};\r\n\r\nexport default useNotistack;\r\n","export function ErrorFallback({ error, resetErrorBoundary }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p>Something went wrong:</p>\r\n      <pre>{error.message}</pre>\r\n      <button onClick={resetErrorBoundary}>Try again</button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext, useRef } from \"react\";\r\n\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport useNotistack from \"../hooks/useNotistack\";\r\nimport { ReactComponent as ArrowIcon } from \"../assets/icons/arrow-more-icon.svg\";\r\n\r\nimport styled from \"styled-components\";\r\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Select from \"react-select\";\r\nimport { ErrorBoundary } from \"react-error-boundary\";\r\nimport {\r\n  Input,\r\n  TextArea,\r\n  Button,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Separator,\r\n} from \"../styled-components/global\";\r\nimport { useUploadImages } from \"../hooks/useUploadImages\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useTippyVisibility } from \"../hooks/useTippyVisibility\";\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport { useEffect } from \"react\";\r\nimport { ErrorFallback } from \"../components/ErrorBoundary\";\r\n\r\nexport interface IUser {\r\n  _id?: string;\r\n  email?: string;\r\n  firstName?: string;\r\n  lastName?: string;\r\n  avatar?: string | ArrayBuffer | null;\r\n  city?: string;\r\n  aboutMe?: string;\r\n  dateOfBirth?: string;\r\n  gender?: string;\r\n}\r\n\r\nconst ImageUpload = styled.div<{\r\n  image?: string | ArrayBuffer | null | undefined;\r\n}>`\r\n  width: 100px;\r\n  height: 100px;\r\n  /* margin: 0 auto; */\r\n  border-radius: 100px;\r\n  margin-bottom: 10px;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: var(--color-secondary);\r\n\r\n  ${(props) =>\r\n    props.image &&\r\n    `\r\n    background: url(${props.image});\r\n    background-size: cover;\r\n    background-position: center center;\r\n  `}\r\n  svg {\r\n    display: none;\r\n    width: 35px;\r\n    height: 35px;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n    div {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      background: rgba(0, 0, 0, 0.3);\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n    svg {\r\n      display: block;\r\n      fill: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  /* margin: 0 auto; */\r\n  border-radius: 100px;\r\n  margin-bottom: 10px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: var(--color-secondary);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst EditField = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n`;\r\n\r\nconst EditTitle = styled.div`\r\n  min-width: 70px;\r\n  text-align: right;\r\n  margin-right: 20px;\r\n  color: var(--text-color-secondary);\r\n`;\r\nconst EditContent = styled.div`\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 600;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  letter-spacing: 0;\r\n`;\r\n\r\nconst SelectBox = styled.div`\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 8px 13px;\r\n  display: flex;\r\n  /* justify-content: flex-end; */\r\n  align-items: center;\r\n  svg {\r\n    margin-left: auto;\r\n  }\r\n`;\r\n\r\nconst EditProfilePage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { handlePageNotification } = useNotistack();\r\n  const { firstName, lastName, avatar, dateOfBirth, gender, aboutMe, city } =\r\n    auth.meUserData!;\r\n  const [credentials, setCredentials] = useState<any>({\r\n    avatar,\r\n    firstName,\r\n    lastName,\r\n    dateOfBirth,\r\n    gender,\r\n    aboutMe,\r\n    city,\r\n  });\r\n  // const [birthday, setBirthday] = useState({\r\n  //   day: 0,\r\n  //   month: 0,\r\n  //   year: 0,\r\n  // });\r\n  const [readyToSubmit, setReadyToSubmit] = useState(false);\r\n\r\n  const { error, request, loading } = useHttp();\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const [avatarLoading, setAvatarLoading] = useState<boolean>(false);\r\n  const ref = useRef<null | HTMLInputElement>(null);\r\n\r\n  // const [selectedDate, setSelectedDate] = React.useState<any | null>(\r\n  //   new Date(\"2014-08-18T21:11:54\")\r\n  // );\r\n\r\n  // const handleDateChange = (date: any | null) => {\r\n  //   setSelectedDate(date);\r\n  // };\r\n\r\n  const months = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n\r\n  const [selectedDayOption, setSelectedDayOption] = useState<any>({\r\n    value: credentials.dateOfBirth\r\n      ? new Date(credentials.dateOfBirth)?.getDate()\r\n      : null,\r\n    label: credentials.dateOfBirth\r\n      ? new Date(credentials.dateOfBirth)?.getDate()\r\n      : null,\r\n  });\r\n\r\n  const [selectedMonthOption, setSelectedMonthOption] = useState<any>({\r\n    value: credentials.dateOfBirth\r\n      ? new Date(credentials.dateOfBirth)?.getMonth()\r\n      : null,\r\n    label: credentials.dateOfBirth\r\n      ? months[new Date(credentials.dateOfBirth)?.getMonth()]\r\n      : null,\r\n  });\r\n\r\n  const [selectedYearOption, setSelectedYearOption] = useState<any>({\r\n    value: credentials.dateOfBirth\r\n      ? new Date(credentials.dateOfBirth)?.getFullYear()\r\n      : null,\r\n    label: credentials.dateOfBirth\r\n      ? new Date(credentials.dateOfBirth)?.getFullYear()\r\n      : null,\r\n  });\r\n\r\n  const handleDayChange = (date: any | null) => {\r\n    setSelectedDayOption(date);\r\n    setReadyToSubmit(true);\r\n  };\r\n  const handleMonthChange = (date: any | null) => {\r\n    setSelectedMonthOption(date);\r\n    setReadyToSubmit(true);\r\n  };\r\n\r\n  const handleYearChange = (date: any | null) => {\r\n    setSelectedYearOption(date);\r\n    setReadyToSubmit(true);\r\n  };\r\n\r\n  type OptionType = {\r\n    value: string;\r\n    label: string;\r\n  };\r\n\r\n  const genderOptions: OptionType[] = [\r\n    { value: \"male\", label: \"Male\" },\r\n    { value: \"female\", label: \"Female\" },\r\n  ];\r\n\r\n  const dayOptions: OptionType[] = [\r\n    { value: \"1\", label: \"1\" },\r\n    { value: \"2\", label: \"2\" },\r\n    { value: \"3\", label: \"3\" },\r\n    { value: \"4\", label: \"4\" },\r\n    { value: \"5\", label: \"5\" },\r\n    { value: \"6\", label: \"6\" },\r\n    { value: \"7\", label: \"7\" },\r\n    { value: \"8\", label: \"8\" },\r\n    { value: \"9\", label: \"9\" },\r\n    { value: \"10\", label: \"10\" },\r\n    { value: \"11\", label: \"11\" },\r\n    { value: \"12\", label: \"12\" },\r\n    { value: \"13\", label: \"13\" },\r\n    { value: \"14\", label: \"14\" },\r\n    { value: \"15\", label: \"15\" },\r\n    { value: \"16\", label: \"16\" },\r\n    { value: \"17\", label: \"17\" },\r\n    { value: \"18\", label: \"18\" },\r\n    { value: \"19\", label: \"19\" },\r\n    { value: \"20\", label: \"20\" },\r\n    { value: \"21\", label: \"21\" },\r\n    { value: \"22\", label: \"22\" },\r\n    { value: \"23\", label: \"23\" },\r\n    { value: \"24\", label: \"24\" },\r\n    { value: \"25\", label: \"25\" },\r\n    { value: \"26\", label: \"26\" },\r\n    { value: \"27\", label: \"27\" },\r\n    { value: \"28\", label: \"28\" },\r\n    { value: \"29\", label: \"29\" },\r\n    { value: \"30\", label: \"30\" },\r\n    { value: \"31\", label: \"31\" },\r\n  ];\r\n\r\n  const monthOptions: OptionType[] = [\r\n    { value: \"0\", label: \"January\" },\r\n    { value: \"1\", label: \"February\" },\r\n    { value: \"2\", label: \"March\" },\r\n    { value: \"3\", label: \"April\" },\r\n    { value: \"4\", label: \"May\" },\r\n    { value: \"5\", label: \"June\" },\r\n    { value: \"6\", label: \"July\" },\r\n    { value: \"7\", label: \"August\" },\r\n    { value: \"8\", label: \"September\" },\r\n    { value: \"9\", label: \"October\" },\r\n    { value: \"10\", label: \"November\" },\r\n    { value: \"11\", label: \"December\" },\r\n  ];\r\n\r\n  const yearOptions: OptionType[] = [\r\n    { value: \"2021\", label: \"2021\" },\r\n    { value: \"2020\", label: \"2020\" },\r\n    { value: \"2019\", label: \"2019\" },\r\n    { value: \"2018\", label: \"2018\" },\r\n    { value: \"2017\", label: \"2017\" },\r\n    { value: \"2016\", label: \"2016\" },\r\n    { value: \"2015\", label: \"2015\" },\r\n    { value: \"2014\", label: \"2014\" },\r\n    { value: \"2013\", label: \"2013\" },\r\n    { value: \"2012\", label: \"2012\" },\r\n    { value: \"2011\", label: \"2011\" },\r\n    { value: \"2010\", label: \"2010\" },\r\n    { value: \"2009\", label: \"2009\" },\r\n    { value: \"2008\", label: \"2008\" },\r\n    { value: \"2007\", label: \"2007\" },\r\n    { value: \"2006\", label: \"2006\" },\r\n    { value: \"2005\", label: \"2005\" },\r\n    { value: \"2004\", label: \"2004\" },\r\n    { value: \"2003\", label: \"2003\" },\r\n    { value: \"2002\", label: \"2002\" },\r\n    { value: \"2001\", label: \"2001\" },\r\n    { value: \"2000\", label: \"2000\" },\r\n    { value: \"1999\", label: \"1999\" },\r\n    { value: \"1998\", label: \"1998\" },\r\n    { value: \"1997\", label: \"1997\" },\r\n    { value: \"1996\", label: \"1996\" },\r\n    { value: \"1995\", label: \"1995\" },\r\n    { value: \"1994\", label: \"1994\" },\r\n    { value: \"1993\", label: \"1993\" },\r\n    { value: \"1992\", label: \"1992\" },\r\n    { value: \"1991\", label: \"1991\" },\r\n    { value: \"1990\", label: \"1990\" },\r\n    { value: \"1989\", label: \"1989\" },\r\n    { value: \"1988\", label: \"1988\" },\r\n    { value: \"1987\", label: \"1987\" },\r\n    { value: \"1986\", label: \"1986\" },\r\n    { value: \"1985\", label: \"1985\" },\r\n    { value: \"1984\", label: \"1984\" },\r\n    { value: \"1983\", label: \"1983\" },\r\n    { value: \"1982\", label: \"1982\" },\r\n    { value: \"1981\", label: \"1981\" },\r\n    { value: \"1980\", label: \"1980\" },\r\n    { value: \"1979\", label: \"1979\" },\r\n    { value: \"1978\", label: \"1978\" },\r\n    { value: \"1977\", label: \"1977\" },\r\n    { value: \"1976\", label: \"1976\" },\r\n    { value: \"1975\", label: \"1975\" },\r\n    { value: \"1974\", label: \"1974\" },\r\n    { value: \"1973\", label: \"1973\" },\r\n    { value: \"1972\", label: \"1972\" },\r\n    { value: \"1971\", label: \"1971\" },\r\n    { value: \"1970\", label: \"1970\" },\r\n    { value: \"1969\", label: \"1969\" },\r\n    { value: \"1968\", label: \"1968\" },\r\n    { value: \"1967\", label: \"1967\" },\r\n    { value: \"1966\", label: \"1966\" },\r\n    { value: \"1965\", label: \"1965\" },\r\n    { value: \"1964\", label: \"1964\" },\r\n    { value: \"1963\", label: \"1963\" },\r\n    { value: \"1962\", label: \"1962\" },\r\n    { value: \"1961\", label: \"1961\" },\r\n    { value: \"1960\", label: \"1960\" },\r\n    { value: \"1959\", label: \"1959\" },\r\n    { value: \"1958\", label: \"1958\" },\r\n    { value: \"1957\", label: \"1957\" },\r\n    { value: \"1956\", label: \"1956\" },\r\n    { value: \"1955\", label: \"1955\" },\r\n    { value: \"1954\", label: \"1954\" },\r\n    { value: \"1953\", label: \"1953\" },\r\n    { value: \"1952\", label: \"1952\" },\r\n    { value: \"1951\", label: \"1951\" },\r\n    { value: \"1950\", label: \"1950\" },\r\n    { value: \"1949\", label: \"1949\" },\r\n    { value: \"1948\", label: \"1948\" },\r\n    { value: \"1947\", label: \"1947\" },\r\n    { value: \"1946\", label: \"1946\" },\r\n    { value: \"1945\", label: \"1945\" },\r\n    { value: \"1944\", label: \"1944\" },\r\n    { value: \"1943\", label: \"1943\" },\r\n    { value: \"1942\", label: \"1942\" },\r\n    { value: \"1941\", label: \"1941\" },\r\n    { value: \"1940\", label: \"1940\" },\r\n    { value: \"1939\", label: \"1939\" },\r\n    { value: \"1938\", label: \"1938\" },\r\n  ];\r\n\r\n  const [selectedGenderOption, setSelectedGenderOption] = useState<any>({\r\n    value: auth.meUserData?.gender,\r\n    label: `${\r\n      auth.meUserData?.gender ? auth.meUserData?.gender[0].toUpperCase() : \"\"\r\n    }${auth.meUserData?.gender ? auth.meUserData?.gender.slice(1) : \"\"}`,\r\n  });\r\n\r\n  const handleSelectedChange = (selectedOption: any) => {\r\n    setSelectedGenderOption(selectedOption);\r\n    setReadyToSubmit(true);\r\n    // console.log(`Option selected:`, selectedOption);\r\n  };\r\n\r\n  console.log(\"selectedGenderOption\", selectedGenderOption);\r\n  console.log(\"gender\", auth.meUserData?.gender);\r\n\r\n  // useEffect(() => {\r\n  //   setSelectedGenderOption(auth.meUserData?.gender);\r\n  // }, []);\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      // console.log(\"submit\");\r\n      console.log(\r\n        \"submit\",\r\n        new Date(\r\n          Number(selectedYearOption.value),\r\n          Number(selectedMonthOption.value),\r\n          Number(selectedDayOption.value)\r\n        ),\r\n        selectedYearOption,\r\n        selectedMonthOption,\r\n        selectedDayOption,\r\n        new Date(2017, 4, 32)\r\n      );\r\n\r\n      let dateOfBirth: any | Date = null;\r\n      if (\r\n        selectedYearOption.value &&\r\n        selectedMonthOption.value &&\r\n        selectedDayOption.value\r\n      ) {\r\n        dateOfBirth = new Date(\r\n          selectedYearOption.value,\r\n          selectedMonthOption.value,\r\n          selectedDayOption.value\r\n        );\r\n      }\r\n      const data = await request(`/api/user/${auth.meUserData!._id}`, \"PUT\", {\r\n        ...credentials,\r\n        gender: selectedGenderOption.value,\r\n        dateOfBirth,\r\n      });\r\n\r\n      const notification = {\r\n        text: data.message,\r\n        type: \"success\",\r\n      };\r\n      auth.setMeUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          ...credentials,\r\n        };\r\n      });\r\n      handlePageNotification(notification);\r\n      setReadyToSubmit(false);\r\n\r\n      // console.log(data);\r\n\r\n      // auth.login(data.accessToken, data.userData);\r\n    } catch (e) {\r\n      const notification = {\r\n        text: e.message,\r\n        type: \"error\",\r\n      };\r\n      handlePageNotification(notification);\r\n      // console.log(\"request\", e);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<any>) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    // console.log(e.target.name);\r\n    setReadyToSubmit(true);\r\n  };\r\n\r\n  const resizeFile = (file: any) =>\r\n    new Promise((resolve) => {\r\n      Resizer.imageFileResizer(\r\n        file,\r\n        300,\r\n        600,\r\n        \"JPEG\",\r\n        80,\r\n        0,\r\n        (uri) => {\r\n          resolve(uri);\r\n        },\r\n        \"base64\"\r\n      );\r\n    });\r\n\r\n  const handleChangeAvatar = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      setAvatarLoading(true);\r\n      const file = e.target.files[0];\r\n      const resized = await resizeFile(file);\r\n      try {\r\n        const res = await request(\"/api/upload-image\", \"POST\", {\r\n          image: resized,\r\n        });\r\n        console.log(\"image upload res\", res);\r\n        setCredentials({\r\n          ...credentials,\r\n          avatar: res.url,\r\n        });\r\n        setAvatarLoading(false);\r\n      } catch (e) {\r\n        console.log(e);\r\n        setAvatarLoading(false);\r\n      }\r\n\r\n      // const reader = new FileReader();\r\n      // reader.readAsDataURL(file);\r\n      // reader.onload = async () => {\r\n\r\n      // };\r\n      setReadyToSubmit(true);\r\n    }\r\n  };\r\n\r\n  const selectPopup = (\r\n    <ContentBox\r\n      onClick={hide}\r\n      style={{\r\n        minWidth: \"100%\",\r\n        width: \"100%\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n      }}\r\n    >\r\n      dsffdfd\r\n      {/* <EditPostPopup>\r\n        <EditPostPopupSelect onClick={() => handleEditMode(true)}>\r\n          Edit profile\r\n        </EditPostPopupSelect>\r\n\r\n        <EditPostPopupSelect onClick={handleDeletePost}>\r\n          Delete\r\n        </EditPostPopupSelect>\r\n      </EditPostPopup> */}\r\n    </ContentBox>\r\n  );\r\n\r\n  return (\r\n    <ContentBox style={{ maxWidth: \"480px\" }}>\r\n      <ContentBoxContainer>\r\n        <Title>Edit profile</Title>\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <ContentBoxContainer style={{ padding: \"30px\" }}>\r\n        <ErrorBoundary\r\n          FallbackComponent={ErrorFallback}\r\n          onReset={() => {\r\n            // reset the state of your app so the error doesn't happen again\r\n          }}\r\n        >\r\n          <form noValidate onSubmit={handleSubmit}>\r\n            {credentials.avatar.data.data}\r\n            {/* <button\r\n              onClick={() => {\r\n                throw new Error(\"!\");\r\n              }}\r\n            >\r\n              error\r\n            </button> */}\r\n            <EditField>\r\n              <EditTitle>Avatar:</EditTitle>\r\n              <EditContent style={{ display: \"flex\" }}>\r\n                {avatarLoading ? (\r\n                  <ImageLoading>\r\n                    <Spinner />\r\n                  </ImageLoading>\r\n                ) : (\r\n                  <label>\r\n                    <ImageUpload image={credentials.avatar}>\r\n                      <div>\r\n                        <PhotoCameraIcon />\r\n                      </div>\r\n                    </ImageUpload>\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleChangeAvatar}\r\n                      ref={ref}\r\n                      style={{ display: \"none\" }}\r\n                    />\r\n                  </label>\r\n                )}\r\n              </EditContent>\r\n            </EditField>\r\n            <EditField>\r\n              <EditTitle>Name:</EditTitle>\r\n              <EditContent style={{ display: \"flex\" }}>\r\n                <Input\r\n                  name=\"firstName\"\r\n                  id=\"firstName\"\r\n                  value={credentials.firstName}\r\n                  onChange={handleChange}\r\n                  disabled={loading}\r\n                  style={{ marginRight: \"10px\" }}\r\n                />\r\n\r\n                <Input\r\n                  name=\"lastName\"\r\n                  id=\"lastName\"\r\n                  value={credentials.lastName}\r\n                  onChange={handleChange}\r\n                  disabled={loading}\r\n                />\r\n              </EditContent>\r\n            </EditField>\r\n\r\n            <EditField>\r\n              <EditTitle>Gender:</EditTitle>\r\n              <EditContent>\r\n                <Select\r\n                  value={selectedGenderOption}\r\n                  onChange={handleSelectedChange}\r\n                  options={genderOptions}\r\n                  placeholder=\"Select gender\"\r\n                  defaultValue={auth.meUserData?.gender}\r\n                  className={\"customSelect\"}\r\n                  classNamePrefix={\"customSelectInner\"}\r\n                />\r\n              </EditContent>\r\n            </EditField>\r\n            <EditField>\r\n              <EditTitle>Birthday:</EditTitle>\r\n              <EditContent\r\n                style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n              >\r\n                <Select\r\n                  value={selectedDayOption}\r\n                  onChange={handleDayChange}\r\n                  options={dayOptions}\r\n                  placeholder=\"Select gender\"\r\n                  // defaultValue={credentials.dateOfBirth.getDate()}\r\n                  className={\"daySelect\"}\r\n                  classNamePrefix={\"customSelectInner\"}\r\n                  // style={{ flexGrow: 1 }}\r\n                />\r\n                <Select\r\n                  value={selectedMonthOption}\r\n                  onChange={handleMonthChange}\r\n                  options={monthOptions}\r\n                  placeholder=\"Select gender\"\r\n                  // defaultValue={{\r\n                  //   value: credentials.dateOfBirth.getMonth(),\r\n                  //   label: \"sd\",\r\n                  // }}\r\n                  className={\"monthSelect\"}\r\n                  classNamePrefix={\"customSelectInner\"}\r\n                  // style={{ flexGrow: 1 }}\r\n                />\r\n                <Select\r\n                  value={selectedYearOption}\r\n                  onChange={handleYearChange}\r\n                  options={yearOptions}\r\n                  placeholder=\"Select gender\"\r\n                  // defaultValue={credentials.dateOfBirth.getFullYear()}\r\n                  className={\"yearSelect\"}\r\n                  classNamePrefix={\"customSelectInner\"}\r\n                  // style={{ flexGrow: 1 }}\r\n                />\r\n              </EditContent>\r\n            </EditField>\r\n            <EditField>\r\n              <EditTitle>City:</EditTitle>\r\n              <EditContent>\r\n                <Input\r\n                  name=\"city\"\r\n                  id=\"city\"\r\n                  value={credentials.city}\r\n                  onChange={handleChange}\r\n                  disabled={loading}\r\n                  // style={{ maxWidth: \"100%\", display: \"block\" }}\r\n                />\r\n              </EditContent>\r\n            </EditField>\r\n            <EditField>\r\n              <EditTitle>Aboutme:</EditTitle>\r\n              <EditContent>\r\n                <TextArea\r\n                  $focuse={true}\r\n                  name=\"aboutMe\"\r\n                  id=\"aboutMe\"\r\n                  value={credentials.aboutMe}\r\n                  onChange={handleChange}\r\n                  disabled={loading}\r\n                  style={{ width: \"100%\", resize: \"none\" }}\r\n                />\r\n              </EditContent>\r\n            </EditField>\r\n\r\n            {/* <Input\r\n              name=\"city\"\r\n              id=\"city\"\r\n              value={credentials.city}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n            />\r\n            <TextField\r\n              id=\"gender\"\r\n              name=\"gender\"\r\n              select\r\n              label=\"Select gender\"\r\n              value={credentials.gender}\r\n              onChange={handleChange}\r\n              style={{ width: \"100%\" }}\r\n              // helperText=\"Please select gender\"\r\n              variant=\"outlined\"\r\n            >\r\n              {[\"Male\", \"Femaile\"].map((option, idx) => (\r\n                <MenuItem key={idx} value={option}>\r\n                  {option}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField> */}\r\n\r\n            {/* <Grid item xs={12}>\r\n            <KeyboardDatePicker\r\n              disableToolbar\r\n              variant=\"inline\"\r\n              format=\"MM/dd/yyyy\"\r\n              margin=\"normal\"\r\n              id=\"date-picker-inline\"\r\n              label=\"Date picker inline\"\r\n              value={selectedDate}\r\n              onChange={handleDateChange}\r\n              KeyboardButtonProps={{\r\n                \"aria-label\": \"change date\",\r\n              }}\r\n            />\r\n          </Grid> */}\r\n            <EditField>\r\n              <EditTitle></EditTitle>\r\n              <EditContent>\r\n                <Button\r\n                  size=\"small\"\r\n                  type=\"submit\"\r\n                  disabled={loading || !readyToSubmit}\r\n                >\r\n                  \r\n                </Button>\r\n              </EditContent>\r\n            </EditField>\r\n          </form>\r\n        </ErrorBoundary>\r\n      </ContentBoxContainer>\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default EditProfilePage;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCogwheelIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.7111 12.6406L19.3361 11.8242C19.3361 11.5234 19.379 11.0508 19.379 10.75C19.379 10.4922 19.3361 10.0195 19.3361 9.71875L20.7111 8.90234C21.1407 8.6875 21.3126 8.17188 21.1837 7.74219C20.7111 6.10938 19.8517 4.64844 18.7345 3.44531C18.3907 3.10156 17.8751 3.01562 17.4454 3.27344L16.0704 4.08984C15.5978 3.70312 14.7814 3.23047 14.2228 3.01562V1.42578C14.2228 0.910156 13.922 0.523438 13.4493 0.394531C11.8165 0.0078125 10.1407 0.0078125 8.50793 0.394531C8.03527 0.523438 7.73449 0.910156 7.73449 1.42578V3.01562C7.1759 3.23047 6.35949 3.70312 5.88684 4.08984L4.51184 3.27344C4.08215 3.01562 3.56653 3.10156 3.22278 3.44531C2.10559 4.64844 1.24621 6.10938 0.773556 7.74219C0.64465 8.17188 0.816525 8.6875 1.24621 8.90234L2.62121 9.71875C2.62121 10.0195 2.57824 10.4922 2.57824 10.75C2.57824 11.0508 2.62121 11.5234 2.62121 11.8242L1.24621 12.6406C0.816525 12.8555 0.64465 13.3711 0.773556 13.8008C1.24621 15.4336 2.10559 16.8945 3.22278 18.0977C3.56653 18.4414 4.08215 18.5273 4.51184 18.2695L5.88684 17.4531C6.35949 17.8398 7.1759 18.3125 7.73449 18.5273V20.1172C7.73449 20.6328 8.03527 21.0195 8.50793 21.1484C10.1407 21.5352 11.8165 21.5352 13.4493 21.1484C13.922 21.0195 14.2228 20.6328 14.2228 20.1172V18.5273C14.7814 18.3125 15.5978 17.8398 16.0704 17.4531L17.4454 18.2695C17.8751 18.5273 18.3907 18.4414 18.7345 18.0977C19.8517 16.8945 20.7111 15.4336 21.1837 13.8008C21.3126 13.3711 21.1407 12.8555 20.7111 12.6406ZM17.9181 16.9375L15.8986 15.7773C14.7384 16.8086 14.3517 17.0234 12.8478 17.582V19.8594C12.3322 19.9883 11.5157 20.0742 11.0001 20.0742C10.4415 20.0742 9.62512 19.9883 9.10949 19.8594V17.582C7.64856 17.0664 7.21887 16.8086 6.05871 15.7773L4.03918 16.9375C3.22278 15.9922 2.57824 14.875 2.14856 13.6719L4.16809 12.5547C3.86731 11.0078 3.86731 10.5352 4.16809 8.98828L2.14856 7.87109C2.57824 6.66797 3.22278 5.55078 4.03918 4.60547L6.05871 5.76562C7.21887 4.73438 7.64856 4.47656 9.10949 3.96094V1.68359C9.62512 1.55469 10.4415 1.46875 11.0001 1.46875C11.5157 1.46875 12.3322 1.55469 12.8478 1.68359V3.96094C14.3087 4.47656 14.7384 4.73438 15.8986 5.76562L17.9181 4.60547C18.7345 5.55078 19.379 6.66797 19.8087 7.87109L17.7892 8.98828C18.09 10.5352 18.09 11.0078 17.7892 12.5547L19.8087 13.6719C19.379 14.875 18.7345 15.9922 17.9181 16.9375ZM11.0001 6.625C8.72278 6.625 6.87512 8.51562 6.87512 10.75C6.87512 13.0273 8.72278 14.875 11.0001 14.875C13.2345 14.875 15.1251 13.0273 15.1251 10.75C15.1251 8.51562 13.2345 6.625 11.0001 6.625ZM11.0001 13.5C9.45324 13.5 8.25012 12.2969 8.25012 10.75C8.25012 9.24609 9.45324 8 11.0001 8C12.504 8 13.7501 9.24609 13.7501 10.75C13.7501 12.2969 12.504 13.5 11.0001 13.5Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCogwheelIcon);\nexport default __webpack_public_path__ + \"static/media/cogwheel-icon.96354e8c.svg\";\nexport { ForwardRef as ReactComponent };","import { createContext, Dispatch } from \"react\";\r\n// import { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport type OnlineContextType = {\r\n  online: any[];\r\n  setOnline: Dispatch<any>;\r\n};\r\n\r\nconst noop = (): void => {};\r\n\r\nexport const OnlineContext = createContext<OnlineContextType>({\r\n  online: [],\r\n  setOnline: noop,\r\n});\r\n","import { useLocation } from \"react-router-dom\";\r\n\r\nexport function useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgImageUploadIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 20,\n    viewBox: \"0 0 22 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 16.2812C13.8359 16.2812 16.1562 14.0039 16.1562 11.125C16.1562 8.28906 13.8359 5.96875 11 5.96875C8.12109 5.96875 5.84375 8.28906 5.84375 11.125C5.84375 14.0039 8.12109 16.2812 11 16.2812ZM11 7.34375C13.0625 7.34375 14.7812 9.0625 14.7812 11.125C14.7812 13.2305 13.0625 14.9062 11 14.9062C8.89453 14.9062 7.21875 13.2305 7.21875 11.125C7.21875 9.0625 8.89453 7.34375 11 7.34375ZM9.625 11.125C9.625 10.3945 10.2266 9.75 11 9.75C11.3438 9.75 11.6875 9.44922 11.6875 9.0625C11.6875 8.71875 11.3438 8.375 11 8.375C9.45312 8.375 8.25 9.62109 8.25 11.125C8.25 11.5117 8.55078 11.8125 8.9375 11.8125C9.28125 11.8125 9.625 11.5117 9.625 11.125ZM13.9219 1.5C14.0508 1.5 14.1797 1.62891 14.2227 1.75781L15.168 4.25H19.9375C20.2812 4.25 20.625 4.59375 20.625 4.9375V17.3125C20.625 17.6992 20.2812 18 19.9375 18H2.0625C1.67578 18 1.375 17.6992 1.375 17.3125V4.9375C1.375 4.59375 1.67578 4.25 2.0625 4.25H6.78906L7.64844 1.97266C7.73438 1.71484 7.99219 1.5 8.29297 1.5H13.9219ZM13.9219 0.125H8.29297C7.43359 0.125 6.66016 0.683594 6.35938 1.5L5.84375 2.875H2.0625C0.902344 2.875 0 3.82031 0 4.9375V17.3125C0 18.4727 0.902344 19.375 2.0625 19.375H19.9375C21.0547 19.375 22 18.4727 22 17.3125V4.9375C22 3.82031 21.0547 2.875 19.9375 2.875H16.1562L15.5117 1.24219C15.2539 0.597656 14.6523 0.125 13.9219 0.125Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgImageUploadIcon);\nexport default __webpack_public_path__ + \"static/media/image-upload-icon.04a5a04f.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\r\nimport { svgPrimaryStyle } from \"../../styled-components/global\";\r\n\r\nexport const Options = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nexport const FriendCardWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n`;\r\n\r\nexport const FriendCardInfo = styled.div``;\r\n","import React, { useState } from \"react\";\r\nimport { useHttp } from \"./useHttp\";\r\nimport useNotistack from \"./useNotistack\";\r\nimport Resizer from \"react-image-file-resizer\";\r\n\r\nexport const useUploadImages = () => {\r\n  const [images, setImages] = useState<any[]>([]);\r\n  const [imageLoading, setImageLoading] = useState<boolean>(false);\r\n  const { handlePageNotification } = useNotistack();\r\n  const { request } = useHttp();\r\n\r\n  const resizeFile = (file: any) =>\r\n    new Promise((resolve) => {\r\n      Resizer.imageFileResizer(\r\n        file,\r\n        700,\r\n        700,\r\n        \"JPEG\",\r\n        80,\r\n        0,\r\n        (uri) => {\r\n          resolve(uri);\r\n        },\r\n        \"base64\"\r\n      );\r\n    });\r\n\r\n  const handleUploadImages = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    // console.log(\"handle upload\");\r\n    setImageLoading(true);\r\n    e.preventDefault();\r\n    if (e.target.files) {\r\n      for (let i = 0; i < e.target.files!.length; i++) {\r\n        // console.log(\"iterated\", e.target.files[i]);\r\n        // const reader = new FileReader();\r\n        const file = e.target.files![i];\r\n        const resized = await resizeFile(file);\r\n        try {\r\n          // console.log(\"uploaded\");\r\n          const res = await request(\"/api/upload-image\", \"POST\", {\r\n            image: resized,\r\n          });\r\n\r\n          // .secure_url\r\n          // console.log(\"UPLOADED\", res);\r\n          setImages((prevState) => {\r\n            return [res, ...prevState];\r\n          });\r\n          e.target.files = null;\r\n          e.target.value = \"\";\r\n          setImageLoading(false);\r\n        } catch (e) {\r\n          console.log(e);\r\n          handlePageNotification({ type: \"error\", text: e.message });\r\n          setImageLoading(false);\r\n        }\r\n        // reader.readAsDataURL(file);\r\n        // reader.onload = async () => {\r\n        //   try {\r\n        //     // console.log(\"uploaded\");\r\n        //     const res = await request(\r\n        //       \"/api/upload-image\",\r\n        //       \"POST\",\r\n        //       {\r\n        //         image: resized,\r\n        //       }\r\n        //     );\r\n\r\n        //     // .secure_url\r\n        //     // console.log(\"UPLOADED\", res);\r\n        //     setImages((prevState) => {\r\n        //       return [res, ...prevState];\r\n        //     });\r\n        //     e.target.files = null;\r\n        //     e.target.value = \"\";\r\n        //     setImageLoading(false);\r\n        //   } catch (e) {\r\n        //     console.log(e);\r\n        //     handlePageNotification({ type: \"error\", text: e.message });\r\n        //     setImageLoading(false);\r\n        //   }\r\n        // };\r\n      }\r\n      // console.log(\"process\", images);\r\n    }\r\n\r\n    // setReadyToSubmit(true);\r\n    // }\r\n  };\r\n\r\n  const handleRemoveImage = async (image: any) => {\r\n    // console.log(image);\r\n    // setImages((prevState) => {\r\n    //   const newArr = prevState.filter(\r\n    //     (img) => img.public_url !== image.public_url\r\n    //   );\r\n    //   return [...newArr];\r\n    // });\r\n\r\n    setImages((prevState: any) => {\r\n      const newArr = prevState.filter(\r\n        (el: any) => el.public_id !== image.public_id\r\n      );\r\n      return newArr;\r\n    });\r\n\r\n    try {\r\n      await request(`/api/remove-image/${image.public_id}`, \"DELETE\");\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    images,\r\n    setImages,\r\n    imageLoading,\r\n  };\r\n};\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEmojiIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.6562 0.09375C4.76953 0.09375 0 4.86328 0 10.75C0 16.6367 4.76953 21.4062 10.6562 21.4062C16.543 21.4062 21.3125 16.6367 21.3125 10.75C21.3125 4.86328 16.543 0.09375 10.6562 0.09375ZM10.6562 20.0312C5.5 20.0312 1.375 15.9062 1.375 10.75C1.375 5.63672 5.5 1.46875 10.6562 1.46875C15.7695 1.46875 19.9375 5.63672 19.9375 10.75C19.9375 15.9062 15.7695 20.0312 10.6562 20.0312ZM14.5234 13.7578C13.5352 14.918 12.1172 15.5625 10.6562 15.5625C9.15234 15.5625 7.73438 14.918 6.74609 13.7578C6.53125 13.457 6.10156 13.457 5.80078 13.6719C5.5 13.9297 5.45703 14.3594 5.71484 14.6602C6.91797 16.1211 8.72266 16.9375 10.6562 16.9375C12.5469 16.9375 14.3516 16.1211 15.5547 14.6602C15.8125 14.3594 15.7695 13.9297 15.4688 13.6719C15.2109 13.457 14.7383 13.457 14.5234 13.7578ZM7.21875 10.0625C7.94922 10.0625 8.59375 9.46094 8.59375 8.6875C8.59375 7.95703 7.94922 7.3125 7.21875 7.3125C6.44531 7.3125 5.84375 7.95703 5.84375 8.6875C5.84375 9.46094 6.44531 10.0625 7.21875 10.0625ZM14.0938 10.0625C14.8242 10.0625 15.4688 9.46094 15.4688 8.6875C15.4688 7.95703 14.8242 7.3125 14.0938 7.3125C13.3203 7.3125 12.7188 7.95703 12.7188 8.6875C12.7188 9.46094 13.3203 10.0625 14.0938 10.0625Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEmojiIcon);\nexport default __webpack_public_path__ + \"static/media/emoji-icon.fc65a243.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrashIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 15,\n    viewBox: \"0 0 13 15\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.09375 12.5625H8.53125C8.64062 12.5625 8.75 12.4805 8.75 12.3438V4.90625C8.75 4.79688 8.64062 4.6875 8.53125 4.6875H8.09375C7.95703 4.6875 7.875 4.79688 7.875 4.90625V12.3438C7.875 12.4805 7.95703 12.5625 8.09375 12.5625ZM3.71875 12.5625H4.15625C4.26562 12.5625 4.375 12.4805 4.375 12.3438V4.90625C4.375 4.79688 4.26562 4.6875 4.15625 4.6875H3.71875C3.58203 4.6875 3.5 4.79688 3.5 4.90625V12.3438C3.5 12.4805 3.58203 12.5625 3.71875 12.5625ZM12.0312 2.5H9.1875L8.25781 1.29688C8.03906 0.996094 7.57422 0.75 7.21875 0.75H5.03125C4.64844 0.75 4.18359 0.996094 3.96484 1.29688L3.0625 2.5H0.21875C0.0820312 2.5 0 2.60938 0 2.71875V3.15625C0 3.29297 0.0820312 3.375 0.21875 3.375H0.875V13.4375C0.875 14.1758 1.44922 14.75 2.1875 14.75H10.0625C10.7734 14.75 11.375 14.1758 11.375 13.4375V3.375H12.0312C12.1406 3.375 12.25 3.29297 12.25 3.15625V2.71875C12.25 2.60938 12.1406 2.5 12.0312 2.5ZM4.67578 1.81641C4.73047 1.70703 4.89453 1.65234 5.03125 1.625H7.21875C7.32812 1.65234 7.49219 1.70703 7.54688 1.81641L8.09375 2.5H4.15625L4.67578 1.81641ZM10.5 13.4375C10.5 13.6836 10.2812 13.875 10.0625 13.875H2.1875C1.94141 13.875 1.75 13.6836 1.75 13.4375V3.375H10.5V13.4375ZM5.90625 12.5625H6.34375C6.45312 12.5625 6.5625 12.4805 6.5625 12.3438V4.90625C6.5625 4.79688 6.45312 4.6875 6.34375 4.6875H5.90625C5.76953 4.6875 5.6875 4.79688 5.6875 4.90625V12.3438C5.6875 12.4805 5.76953 12.5625 5.90625 12.5625Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrashIcon);\nexport default __webpack_public_path__ + \"static/media/trash-icon.ba57b0d1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport styled from \"styled-components\";\r\nimport { ReactComponent as EmojiIcon } from \"../assets/icons/emoji-icon.svg\";\r\nimport {\r\n  ContentBox,\r\n  PopupPrimary,\r\n  svgPrimaryStyle,\r\n} from \"../styled-components/global\";\r\n\r\nconst EmojiWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst EmojiPopup = styled.div`\r\n  padding: 10px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\r\n  grid-gap: 5px;\r\n\r\n  span {\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst EmojiIconWrapper = styled.div`\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n  z-index: 100;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst emojiList = [\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n  \"\",\r\n];\r\n\r\ntype Props = {\r\n  handleChooseEmoji: (emoji: string) => void;\r\n};\r\n\r\nconst Emojis: React.FC<Props> = ({ handleChooseEmoji }) => {\r\n  const [open, setOpen] = useState<boolean>(false);\r\n\r\n  const emojiPopup = (\r\n    <ContentBox>\r\n      <EmojiPopup>\r\n        {emojiList.map((emoji, idx) => {\r\n          return (\r\n            <span key={idx} onClick={handleChooseEmoji.bind(null, emoji)}>\r\n              {emoji}\r\n            </span>\r\n          );\r\n        })}\r\n      </EmojiPopup>\r\n    </ContentBox>\r\n  );\r\n  return (\r\n    <EmojiWrapper\r\n      onMouseEnter={() => setOpen(true)}\r\n      onMouseLeave={() => setOpen(false)}\r\n    >\r\n      <Tippy\r\n        content={emojiPopup}\r\n        interactive={true}\r\n        placement={\"bottom-end\"}\r\n        duration={0}\r\n        offset={[0, 5]}\r\n        trigger=\"click\"\r\n      >\r\n        <EmojiIconWrapper>\r\n          <EmojiIcon />\r\n        </EmojiIconWrapper>\r\n      </Tippy>\r\n    </EmojiWrapper>\r\n  );\r\n};\r\n\r\nexport default Emojis;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ButtonSpinner = () => (\r\n  <StyledSpinner viewBox=\"0 0 50 50\">\r\n    <circle\r\n      className=\"path\"\r\n      cx=\"25\"\r\n      cy=\"25\"\r\n      r=\"20\"\r\n      fill=\"none\"\r\n      strokeWidth=\"3\"\r\n    />\r\n  </StyledSpinner>\r\n);\r\n\r\nconst StyledSpinner = styled.svg`\r\n  animation: rotate 1s linear infinite;\r\n  /* margin: 70px; */\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-left: 5px;\r\n\r\n  & .path {\r\n    stroke: var(--text-color-secondary);\r\n    stroke-linecap: round;\r\n    animation: dash 1.5s ease-in-out infinite;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @keyframes dash {\r\n    0% {\r\n      stroke-dasharray: 1, 150;\r\n      stroke-dashoffset: 0;\r\n    }\r\n    50% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -35;\r\n    }\r\n    100% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -124;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ButtonSpinner;\r\n","import React, { useState, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport useNotistack from \"../hooks/useNotistack\";\r\nimport { useUploadImages } from \"../hooks/useUploadImages\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Button,\r\n  ContentBoxContainer,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../styled-components/global\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport { ReactComponent as Cross } from \"../assets/icons/cross-icon.svg\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../assets/icons/image-upload-icon.svg\";\r\nimport Emojis from \"./Emojis\";\r\nimport Spinner from \"./Spinner\";\r\nimport ButtonSpinner from \"./ButtonSpinner\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst SendMessagePopup = styled.div`\r\n  min-width: 450px;\r\n  position: relative;\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  margin-left: auto;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst CrossIcon = styled(Cross)`\r\n  fill: var(--icon-color-secondary);\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ImageUpload = styled.div`\r\n  /* position: absolute;\r\n  top: 18px;\r\n  right: 55px; */\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    width: 20px;\r\n    fill: white;\r\n    top: auto;\r\n    right: auto;\r\n  }\r\n`;\r\n\r\nconst TextAreaWrapper = styled.div`\r\n  position: relative;\r\n  svg {\r\n    top: 0;\r\n  }\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n      padding: 15px;\r\n      padding-top: 0;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\ntype Props = {\r\n  modalIsOpen: boolean;\r\n  openModal: any;\r\n  closeModal: any;\r\n  userData: any;\r\n};\r\n\r\nconst SendMessageModal: React.FC<Props> = ({\r\n  modalIsOpen,\r\n  openModal,\r\n  closeModal,\r\n  userData,\r\n}) => {\r\n  console.log(\"USER DATA\", userData);\r\n  const [content, setContent] = useState<string>(\"\");\r\n  const { conversations, setConversations, meUserData, socket } =\r\n    useContext(AuthContext);\r\n  const {\r\n    images,\r\n    setImages,\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  const { request, loading } = useHttp();\r\n  const ref = useRef<HTMLFormElement>(null);\r\n  const imageUploadRef = useRef<null | HTMLInputElement>(null);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setContent(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setContent(content + emoji);\r\n  };\r\n\r\n  const existingConversation = conversations.find((el: any) => {\r\n    const func = (user: any) => user._id === userData?._id;\r\n    return el.users.some(func);\r\n  });\r\n  console.log(\"existingConversation\", existingConversation);\r\n\r\n  const handleCreateConversation = async () => {\r\n    try {\r\n      const res = await request(\"/api/conversation\", \"POST\", {\r\n        content,\r\n        images,\r\n        userIds: [userData?._id],\r\n      });\r\n\r\n      setContent(\"\");\r\n      setImages([]);\r\n\r\n      setConversations((prevState: any) => {\r\n        return [res.conversation, ...prevState];\r\n      });\r\n\r\n      console.log(\"res create conversation\", res);\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `sent you amessage: ${res.newMessage.content.slice(0, 70)}${\r\n          res.newMessage.content.length > 70 ? \"...\" : \"\"\r\n        }`,\r\n        url: `/conversation/${res.conversation._id}`,\r\n      };\r\n\r\n      socket.emit(\"createConversation\", res.conversation);\r\n      socket.emit(\"createMessageNotification\", notification);\r\n      closeModal();\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n    }\r\n  };\r\n\r\n  const handleCreateMessage = async (existingConversation: any) => {\r\n    try {\r\n      const res = await request(\"/api/message\", \"POST\", {\r\n        content,\r\n        images,\r\n        conversationId: existingConversation._id,\r\n      });\r\n\r\n      setContent(\"\");\r\n      setImages([]);\r\n\r\n      setConversations((prevState: any) => {\r\n        const newArr = prevState.filter(\r\n          (el: any) => el._id !== res.newMessage.conversation._id\r\n        );\r\n\r\n        const currentConv = prevState.find(\r\n          (el: any) => el._id === res.newMessage.conversation._id\r\n        );\r\n        const updatedConv = {\r\n          ...currentConv,\r\n          messages: [...currentConv.messages, res.newMessage],\r\n        };\r\n\r\n        return [updatedConv, ...newArr];\r\n      });\r\n\r\n      console.log(\"res create message\", res);\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `sent you amessage: ${res.newMessage.content.slice(0, 70)}${\r\n          res.newMessage.content.length > 70 ? \"...\" : \"\"\r\n        }`,\r\n        url: `/conversation/${res.conversation._id}`,\r\n      };\r\n\r\n      socket.emit(\"createMessage\", res.newMessage);\r\n      console.log(\"notific\", notification);\r\n      socket.emit(\"createMessageNotification\", notification);\r\n      closeModal();\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if ((!content && images.length === 0) || imageLoading) {\r\n      return;\r\n    }\r\n\r\n    const existingConversation = conversations.find((el: any) => {\r\n      const func = (user: any) => user._id === userData?._id;\r\n      return el.users.some(func);\r\n    });\r\n\r\n    if (existingConversation) {\r\n      handleCreateMessage(existingConversation);\r\n    } else {\r\n      handleCreateConversation();\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      ref?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      center\r\n      closeIcon={<div></div>}\r\n      open={modalIsOpen}\r\n      onClose={closeModal}\r\n      focusTrapped={false}\r\n      // animationDuration={0}\r\n      classNames={{\r\n        overlay: \"customOverlay\",\r\n        modal: \"customModal\",\r\n      }}\r\n    >\r\n      <SendMessagePopup>\r\n        <CrossIcon onClick={closeModal} />\r\n        <ContentBoxContainer>\r\n          Write a message to {userData.firstName}\r\n        </ContentBoxContainer>\r\n        <Separator />\r\n        <form ref={ref} onSubmit={handleSubmit}>\r\n          <ContentBoxContainer>\r\n            <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n            <TextArea\r\n              $focuse\r\n              placeholder={\"Write something...\"}\r\n              style={{ resize: \"none\" }}\r\n              onChange={handleChange}\r\n              value={content}\r\n              onKeyDown={handleKeyPress}\r\n            />\r\n          </ContentBoxContainer>\r\n          <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n            <>\r\n              {imageLoading && (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              )}\r\n              {images.length > 0 && (\r\n                <PreviewImagesWrapper>\r\n                  {images.map((image, idx) => {\r\n                    return (\r\n                      <PreviewImageWrapper key={image.public_id}>\r\n                        <DeleteImageIcon\r\n                          onClick={handleRemoveImage.bind(null, image)}\r\n                        >\r\n                          <CrossIcon />\r\n                        </DeleteImageIcon>\r\n                        <PreviewImage src={image.url} />\r\n                      </PreviewImageWrapper>\r\n                    );\r\n                  })}\r\n                </PreviewImagesWrapper>\r\n              )}\r\n            </>\r\n          </ImagesPreviewWrapper>\r\n\r\n          <Separator />\r\n          <ContentBoxContainer style={{ display: \"flex\" }}>\r\n            <ImageUpload>\r\n              <label>\r\n                <ImageUploadIcon />\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\"image/*\"\r\n                  // multiple\r\n                  onChange={handleUploadImages}\r\n                  onKeyPress={handleKeyPress}\r\n                  ref={imageUploadRef}\r\n                  style={{ display: \"none\" }}\r\n                />\r\n              </label>\r\n            </ImageUpload>\r\n            <ButtonsWrapper>\r\n              <Button\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                marginRight=\"10px\"\r\n                onClick={closeModal}\r\n                type=\"button\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                size=\"small\"\r\n                type=\"submit\"\r\n                style={{ display: \"flex\", alignItems: \"center\" }}\r\n              >\r\n                Send {loading && <ButtonSpinner />}\r\n              </Button>\r\n            </ButtonsWrapper>\r\n          </ContentBoxContainer>\r\n        </form>\r\n      </SendMessagePopup>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SendMessageModal;\r\n","import React, { useState } from \"react\";\r\n\r\nconst useModal = () => {\r\n  const [modalIsOpen, setIsOpen] = useState(false);\r\n\r\n  const openModal = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsOpen(false);\r\n  };\r\n  return { openModal, closeModal, modalIsOpen };\r\n};\r\n\r\nexport default useModal;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useTippyVisibility } from \"../../hooks/useTippyVisibility\";\r\nimport {\r\n  Avatar,\r\n  AvatarOnlineWrapper,\r\n  ContentBox,\r\n  CustomLink,\r\n} from \"../../styled-components/global\";\r\nimport { ReactComponent as CogwheelIcon } from \"../../assets/icons/cogwheel-icon.svg\";\r\nimport {\r\n  OptionsPopup,\r\n  OptionsPopupSelect,\r\n} from \"../../styled-components/global\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { FriendCardInfo, FriendCardWrapper, Options } from \"./styles\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\nimport styled from \"styled-components\";\r\nimport SendMessageModal from \"../SendMessageModal\";\r\nimport useModal from \"../../hooks/useModal\";\r\n\r\nconst CustomLinkButton = styled.button`\r\n  color: var(--color-primary);\r\n  background: none;\r\n  font-weight: 600;\r\n  :hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  friend: IUserData;\r\n  isPersonal?: boolean;\r\n};\r\n\r\nconst FriendCard: React.FC<Props> = ({ friend, isPersonal }) => {\r\n  //   const { relationToMe, setRelationToMe } = useCheckRelationToMe(friend);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  const { online } = useContext(OnlineContext);\r\n  const { request } = useHttp();\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const { openModal, modalIsOpen, closeModal } = useModal();\r\n  // console.log(\"IS PERSONAL\", isPersonal);\r\n  const handleDeleteFriend = async () => {\r\n    const friendRequest = meUserData?.friendRequests?.find(\r\n      (req) => req.recipient === friend._id || req.requester === friend._id\r\n    );\r\n    try {\r\n      await request(\r\n        `/api/friend-request/unfriend/${friendRequest?._id}`,\r\n        \"PUT\",\r\n        { userId: friend._id }\r\n      );\r\n      setMeUserData((prevState: IUserData) => {\r\n        const newFriendsArr = prevState.friends.filter(\r\n          (el: IUserData) => el._id !== friend._id\r\n        );\r\n        return {\r\n          ...prevState,\r\n          friends: newFriendsArr,\r\n        };\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const optionsPopup = (\r\n    <ContentBox onClick={hide}>\r\n      <OptionsPopup>\r\n        <OptionsPopupSelect onClick={handleDeleteFriend}>\r\n          Unfriend\r\n        </OptionsPopupSelect>\r\n      </OptionsPopup>\r\n    </ContentBox>\r\n  );\r\n\r\n  return (\r\n    <FriendCardWrapper>\r\n      <AvatarOnlineWrapper\r\n        onlineType={online[friend._id ? friend._id : \"ds\"] ? true : false}\r\n      >\r\n        <Avatar\r\n          size=\"medium\"\r\n          src={friend.avatar}\r\n          style={{ marginRight: \"15px\" }}\r\n        />\r\n      </AvatarOnlineWrapper>\r\n\r\n      <FriendCardInfo>\r\n        <CustomLink\r\n          style={{ marginBottom: \"7px\", display: \"block\" }}\r\n          color=\"black\"\r\n          to={`/profile/${friend._id}`}\r\n        >\r\n          {friend.firstName} {friend.lastName}\r\n        </CustomLink>\r\n        {friend._id !== meUserData?._id && (\r\n          <CustomLinkButton onClick={openModal}>Send message</CustomLinkButton>\r\n        )}\r\n\r\n        <SendMessageModal\r\n          openModal={openModal}\r\n          closeModal={closeModal}\r\n          modalIsOpen={modalIsOpen}\r\n          userData={friend}\r\n        />\r\n      </FriendCardInfo>\r\n\r\n      {isPersonal && (\r\n        <Tippy\r\n          content={optionsPopup}\r\n          interactive={true}\r\n          placement={\"bottom-end\"}\r\n          trigger=\"click\"\r\n          duration={0}\r\n          offset={[0, 5]}\r\n          visible={visible}\r\n          onClickOutside={hide}\r\n        >\r\n          <Options onClick={visible ? hide : show}>\r\n            <CogwheelIcon />\r\n          </Options>\r\n        </Tippy>\r\n      )}\r\n    </FriendCardWrapper>\r\n  );\r\n};\r\n\r\nexport default FriendCard;\r\n","import React, { useState } from \"react\";\r\nimport { ContentBox, Separator } from \"../../styled-components/global\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useQuery } from \"../../hooks/useQuery\";\r\nimport Spinner from \"../Spinner\";\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst FriendsNavigationWrapper = styled.div`\r\n  width: 550px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst TabsWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Tab = styled.div<{ selected: boolean }>`\r\n  padding: 15px 15px;\r\n  display: block;\r\n  position: relative;\r\n  :hover {\r\n    cursor: pointer;\r\n    background: var(--color-secondary);\r\n  }\r\n  ${(props) =>\r\n    props.selected &&\r\n    `\r\n:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    height: 2px;\r\n    width: 100%;\r\n    background: var(--color-primary);\r\n  }\r\n  `}\r\n`;\r\n\r\ntype Props = {\r\n  tabs: ITab[];\r\n  activeTab: ITab;\r\n  loading?: boolean;\r\n  // count: number;\r\n};\r\n\r\ninterface ITab {\r\n  title: string;\r\n  url: string;\r\n  count: number;\r\n}\r\n\r\nconst FriendsNavigation: React.FC<Props> = ({\r\n  tabs,\r\n  children,\r\n  activeTab,\r\n  loading,\r\n  // count,\r\n}) => {\r\n  const history = useHistory();\r\n  const query = useQuery();\r\n\r\n  // {loading && (\r\n  //   <SpinnerWrapper>\r\n  //     <Spinner />\r\n  //   </SpinnerWrapper>\r\n  // )}\r\n\r\n  return (\r\n    <FriendsNavigationWrapper>\r\n      <ContentBox style={{ minHeight: 500 }}>\r\n        {loading ? (\r\n          <SpinnerWrapper>\r\n            <Spinner />\r\n          </SpinnerWrapper>\r\n        ) : (\r\n          <>\r\n            <TabsWrapper>\r\n              {tabs.map((tab) => {\r\n                return (\r\n                  <Tab\r\n                    key={tab.url}\r\n                    selected={tab.title === activeTab.title}\r\n                    onClick={() =>\r\n                      history.push(\r\n                        `/friends?section=${tab.url}${\r\n                          query.get(\"id\") ? `&id=${query.get(\"id\")}` : \"\"\r\n                        }`\r\n                      )\r\n                    }\r\n                  >\r\n                    {tab.title}{\" \"}\r\n                    <span style={{ color: \"var(--text-color-secondary)\" }}>\r\n                      {tab.count}\r\n                    </span>\r\n                  </Tab>\r\n                );\r\n              })}\r\n            </TabsWrapper>\r\n            <Separator />\r\n            {children}\r\n          </>\r\n        )}\r\n      </ContentBox>\r\n    </FriendsNavigationWrapper>\r\n  );\r\n};\r\n\r\nexport default FriendsNavigation;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { OnlineContext } from \"../../../context/OnlineContext\";\r\n\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { useQuery } from \"../../../hooks/useQuery\";\r\nimport { Separator } from \"../../../styled-components/global\";\r\nimport FriendCard from \"../FriendCard\";\r\nimport Spinner from \"../../Spinner\";\r\nimport FriendsNavigation from \"../FriendsNavigation\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst UserFriendsPage = () => {\r\n  const [friends, setFriends] = useState<any[]>([]);\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  const query = useQuery();\r\n  const id = query.get(\"id\");\r\n\r\n  const { request, loading } = useHttp();\r\n\r\n  useEffect(() => {\r\n    request(`/api/friends/${id}`, \"GET\").then((res: any) => {\r\n      // console.log(\"friends\", res);\r\n      setFriends(res.friends);\r\n    });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ minHeight: \"550px\" }}>\r\n        <SpinnerWrapper>\r\n          <Spinner />\r\n        </SpinnerWrapper>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const onlineFriends = friends.filter((el: any) => online[el._id]);\r\n\r\n  const tabs = [\r\n    { title: \"All friends\", url: \"all\", count: friends.length },\r\n    { title: \"Online\", url: \"online\", count: onlineFriends.length },\r\n  ];\r\n  return (\r\n    <>\r\n      {(query.get(\"section\") === \"all\" || query.get(\"section\") === null) && (\r\n        <FriendsNavigation\r\n          // count={friends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[0]}\r\n        >\r\n          {friends.length === 0 ? (\r\n            <div>No friends yet...</div>\r\n          ) : (\r\n            <>\r\n              {friends.map((friend) => {\r\n                return (\r\n                  <>\r\n                    <FriendCard friend={friend} key={friend._id} />\r\n                    <Separator />\r\n                  </>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n      {query.get(\"section\") === \"online\" && (\r\n        <FriendsNavigation\r\n          // count={friends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[1]}\r\n        >\r\n          {onlineFriends.length === 0 ? (\r\n            <div>No friends online</div>\r\n          ) : (\r\n            <>\r\n              {onlineFriends.map((friend) => {\r\n                return (\r\n                  <>\r\n                    <FriendCard friend={friend} key={friend._id} />\r\n                    <Separator />\r\n                  </>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserFriendsPage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport {\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Separator,\r\n} from \"../../styled-components/global\";\r\nimport FriendCard from \"./FriendCard\";\r\n// import styled from \"styled-components\";\r\nimport FriendsNavigation from \"./FriendsNavigation\";\r\nimport { useQuery } from \"../../hooks/useQuery\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\nimport styled from \"styled-components\";\r\n\r\nconst NoFriends = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 50px;\r\n  div {\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  friends: IUserData[];\r\n  isPersonal?: boolean;\r\n};\r\n\r\nconst FriendList: React.FC<Props> = ({ friends, isPersonal }) => {\r\n  const query = useQuery();\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  const onlineFriends = friends.filter((el: any) => online[el._id]);\r\n\r\n  const tabs = [\r\n    { title: \"All friends\", url: \"all\", count: friends.length },\r\n    { title: \"Online\", url: \"online\", count: onlineFriends.length },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {(query.get(\"section\") === \"all\" || query.get(\"section\") === null) && (\r\n        <FriendsNavigation\r\n          // count={friends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[0]}\r\n        >\r\n          {friends.length === 0 ? (\r\n            <NoFriends>\r\n              <div>No friends yet...</div>\r\n            </NoFriends>\r\n          ) : (\r\n            <>\r\n              {friends.map((friend, idx) => {\r\n                return (\r\n                  <React.Fragment key={idx}>\r\n                    {/* {idx !== 0 && <Separator />} */}\r\n                    <FriendCard friend={friend} isPersonal={isPersonal} />\r\n                    <Separator />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n      {query.get(\"section\") === \"online\" && (\r\n        <FriendsNavigation\r\n          // count={onlineFriends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[1]}\r\n        >\r\n          {onlineFriends.length === 0 ? (\r\n            <NoFriends>\r\n              <div>No friends online...</div>\r\n            </NoFriends>\r\n          ) : (\r\n            <>\r\n              {onlineFriends.map((friend, idx) => {\r\n                return (\r\n                  <React.Fragment key={idx}>\r\n                    <FriendCard friend={friend} isPersonal={isPersonal} />\r\n                    <Separator />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FriendList;\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { OnlineContext } from \"../../../context/OnlineContext\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { IUserData } from \"../../../interfaces/IUserData\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CustomLink,\r\n  AvatarOnlineWrapper,\r\n} from \"../../../styled-components/global\";\r\n\r\nimport { FriendCardInfo, FriendCardWrapper } from \"../styles\";\r\n\r\ntype Props = {\r\n  friend: IUserData;\r\n  friendRequestType?: \"pending\" | \"out_sent\";\r\n  friendRequestId?: any;\r\n  setFriendRequests: React.Dispatch<any>;\r\n};\r\n\r\nconst FriendRequestCard: React.FC<Props> = ({\r\n  friend,\r\n  friendRequestType,\r\n  friendRequestId,\r\n  setFriendRequests,\r\n}) => {\r\n  const { meUserData, setMeUserData, socket } = useContext(AuthContext);\r\n  const { online } = useContext(OnlineContext);\r\n  const { request } = useHttp();\r\n\r\n  const handleAcceptFriendRequest = async (\r\n    user: IUserData,\r\n    friendRequestId: string\r\n  ) => {\r\n    try {\r\n      setMeUserData({\r\n        ...meUserData,\r\n        friends: [...meUserData?.friends, user],\r\n      });\r\n      setFriendRequests((prevState: any) => {\r\n        const newArr = prevState.filter(\r\n          (el: any) => el.requester._id !== user._id\r\n        );\r\n        return newArr;\r\n      });\r\n      await request(`/api/friend-request/accept/${friendRequestId}`, \"PUT\", {\r\n        userId: user._id,\r\n      });\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [user],\r\n        text: `accepted yourfriendrequest`,\r\n        url: \"/friends\",\r\n      };\r\n\r\n      const resNotif = await request(\"/api/notify\", \"POST\", {\r\n        ...notification,\r\n      });\r\n      socket.emit(\"createNotification\", resNotif.notification);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleCancelFriendRequest = async (\r\n    user: IUserData,\r\n    friendRequestId: string\r\n  ) => {\r\n    // console.log(\"data\", user, friendRequestId);\r\n    try {\r\n      setFriendRequests((prevState: any) => {\r\n        const newArr = prevState.filter(\r\n          (el: any) => el.recipient._id !== user._id\r\n        );\r\n        return newArr;\r\n      });\r\n      await request(`/api/friend-request/cancel/${friendRequestId}`, \"DELETE\", {\r\n        userId: user._id,\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // console.log(\"AAAA\", friend);\r\n\r\n  return (\r\n    <FriendCardWrapper>\r\n      <AvatarOnlineWrapper\r\n        onlineType={online[friend._id ? friend._id : \"ds\"] ? true : false}\r\n      >\r\n        <Avatar\r\n          size=\"medium\"\r\n          src={friend.avatar}\r\n          style={{ marginRight: \"15px\" }}\r\n        />\r\n      </AvatarOnlineWrapper>\r\n\r\n      <FriendCardInfo>\r\n        <CustomLink\r\n          style={{ marginBottom: \"10px\", display: \"block\" }}\r\n          color=\"black\"\r\n          to={`/profile/${friend._id}`}\r\n        >\r\n          {friend.firstName} {friend.lastName}\r\n        </CustomLink>\r\n        {friendRequestType === \"pending\" ? (\r\n          <Button\r\n            size=\"small\"\r\n            onClick={() => handleAcceptFriendRequest!(friend, friendRequestId)}\r\n          >\r\n            Accept\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            size=\"small\"\r\n            onClick={() => handleCancelFriendRequest!(friend, friendRequestId)}\r\n          >\r\n            Unsubscribe\r\n          </Button>\r\n        )}\r\n      </FriendCardInfo>\r\n    </FriendCardWrapper>\r\n  );\r\n};\r\n\r\nexport default FriendRequestCard;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\n// import { IUserData } from \"../../../interfaces/IUserData\";\r\nimport { Separator } from \"../../../styled-components/global\";\r\n\r\nimport FriendsNavigation from \"../FriendsNavigation\";\r\nimport { useQuery } from \"../../../hooks/useQuery\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport FriendRequestCard from \"./FriendRequestCard\";\r\nimport styled from \"styled-components\";\r\n\r\nconst FriendRequestList = () => {\r\n  const { request, loading } = useHttp();\r\n  const [friendRequests, setFriendRequests] = useState<any>([]);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  const query = useQuery();\r\n\r\n  const loadFriendRequests = async () => {\r\n    try {\r\n      const res = await request(`/api/pending_friend_requests`, \"GET\");\r\n      // console.log(\"REEEEEEEEEEEs\", res);\r\n      setFriendRequests(res.friendRequests);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadFriendRequests();\r\n  }, []);\r\n\r\n  // if (loading) {\r\n  //   return <div>loading...</div>;\r\n  // }\r\n\r\n  const tabs = [\r\n    {\r\n      title: \"Pending\",\r\n      url: \"all_requests\",\r\n      count: friendRequests.filter(\r\n        (el: any) => el.recipient._id === meUserData?._id\r\n      ).length,\r\n    },\r\n    {\r\n      title: \"Out requests\",\r\n      url: \"out_requests\",\r\n      count: friendRequests.filter(\r\n        (el: any) => el.requester._id === meUserData?._id\r\n      ).length,\r\n    },\r\n  ];\r\n\r\n  // const pendingFriendRec\r\n\r\n  return (\r\n    <>\r\n      {/* pending requests where i'm a recipient and he is a requester */}\r\n      {query.get(\"section\") === \"all_requests\" && (\r\n        <FriendsNavigation loading={loading} tabs={tabs} activeTab={tabs[0]}>\r\n          {!loading &&\r\n            friendRequests\r\n              .filter((el: any) => el.recipient._id === meUserData?._id)\r\n              .map((friendRequest: any, idx: number) => {\r\n                // console.log(\"FRIEND\", friend);\r\n                return (\r\n                  <React.Fragment key={friendRequest._id}>\r\n                    <FriendRequestCard\r\n                      friend={friendRequest.requester}\r\n                      friendRequestType={\"pending\"}\r\n                      friendRequestId={friendRequest._id}\r\n                      setFriendRequests={setFriendRequests}\r\n                    />\r\n                    <Separator />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n        </FriendsNavigation>\r\n      )}\r\n      {/* pending requests where i'm a requester and he is a recipient */}\r\n      {query.get(\"section\") === \"out_requests\" && (\r\n        <FriendsNavigation tabs={tabs} activeTab={tabs[1]}>\r\n          {friendRequests\r\n            .filter((el: any) => el.requester._id === meUserData?._id)\r\n            .map((friendRequest: any, idx: number) => {\r\n              return (\r\n                <React.Fragment key={friendRequest._id}>\r\n                  <FriendRequestCard\r\n                    friend={friendRequest.recipient}\r\n                    friendRequestType={\"out_sent\"}\r\n                    friendRequestId={friendRequest._id}\r\n                    setFriendRequests={setFriendRequests}\r\n                  />\r\n                  <Separator />\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n        </FriendsNavigation>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FriendRequestList;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n} from \"../../styled-components/global\";\r\n\r\nconst Wrapper = styled.div`\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst Select = styled.div<{ selected: boolean }>`\r\n  padding: 15px;\r\n  position: relative;\r\n  :last-child {\r\n    border-top: var(--border-primary);\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  ${(props) =>\r\n    props.selected &&\r\n    `\r\n        background: var(--color-secondary);\r\n        \r\n        :before {\r\n          content: '';\r\n          position: absolute;\r\n          height: 100%;\r\n          top: 0;\r\n          left: 0;\r\n          border-left: 3px solid var(--color-primary);\r\n        }\r\n  `}\r\n`;\r\n\r\ntype Props = {\r\n  menuItems: any;\r\n};\r\n\r\nconst FriendsMenu: React.FC<Props> = ({ menuItems }) => {\r\n  const [selectedItem, setSelectedItem] = useState<any>(menuItems[0]);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox>\r\n        {menuItems.map((item: any, idx: number) => {\r\n          return (\r\n            <Select\r\n              selected={selectedItem.title === item.title}\r\n              key={idx}\r\n              onClick={() => {\r\n                history.push(`/friends?section=${item.url}`);\r\n                setSelectedItem(item);\r\n              }}\r\n            >\r\n              {item.title}\r\n            </Select>\r\n          );\r\n        })}\r\n      </ContentBox>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FriendsMenu;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { IUserData } from \"../../../interfaces/IUserData\";\r\nimport FriendList from \"../FriendList\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { useQuery } from \"../../../hooks/useQuery\";\r\nimport FriendRequestList from \"./FriendRequestList\";\r\nimport FriendsNavigation from \"../FriendsNavigation\";\r\nimport FriendCard from \"../FriendCard\";\r\nimport { Separator } from \"../../../styled-components/global\";\r\nimport FriendsMenu from \"../FriendsMenu\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport Spinner from \"../../Spinner\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst PersonalFriendsPage = () => {\r\n  // const { meUserData } = useContext(AuthContext);\r\n  const [friends, setFriends] = useState<any[]>([]);\r\n  const { meUserData } = useContext(AuthContext);\r\n  let query = useQuery();\r\n  const { request } = useHttp();\r\n  const [loading, setLoading] = useState(true);\r\n  // console.log(\"friends\", friends);\r\n  // console.log(\"query param\", query.get(\"section\"));\r\n\r\n  // console.log(\"my friend requests\", meUserData);\r\n  useEffect(() => {\r\n    try {\r\n      request(`/api/friends/${meUserData?._id}`, \"GET\").then((res: any) => {\r\n        // console.log(\"friends\", res);\r\n        setFriends(res.friends);\r\n        setLoading(false);\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n  if (loading) {\r\n    return (\r\n      <div style={{ minHeight: \"550px\" }}>\r\n        <SpinnerWrapper>\r\n          <Spinner />\r\n        </SpinnerWrapper>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      {(query.get(\"section\") === \"all\" ||\r\n        query.get(\"section\") === \"online\" ||\r\n        query.get(\"section\") === null) && (\r\n        <FriendList friends={friends} isPersonal />\r\n      )}\r\n\r\n      {/* requests */}\r\n      {(query.get(\"section\") === \"all_requests\" ||\r\n        query.get(\"section\") === \"out_requests\") && <FriendRequestList />}\r\n      <FriendsMenu\r\n        menuItems={[\r\n          { title: \"All friends\", url: \"all\" },\r\n          { title: \"Friend requests\", url: \"all_requests\" },\r\n        ]}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PersonalFriendsPage;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport UserFriendsPage from \"../components/friends-page/user/UserFriendsPage\";\r\nimport PersonalFriendsPage from \"../components/friends-page/personal/PersonalFriendsPage\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 550px;\r\n`;\r\n\r\nconst FriendsPage = () => {\r\n  const query = useQuery();\r\n\r\n  return (\r\n    <Wrapper>\r\n      {!query.get(\"id\") ? <PersonalFriendsPage /> : <UserFriendsPage />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FriendsPage;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  AvatarOnlineWrapper,\r\n  svgSecondaryStyle,\r\n} from \"../../styled-components/global\";\r\nimport { ReactComponent as TrashIcon } from \"../../assets/icons/trash-icon.svg\";\r\nimport { DateTime } from \"luxon\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useRoutes } from \"../../routes\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\n// import e from \"cors\";\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    background: var(--color-secondary);\r\n    svg {\r\n      display: block;\r\n    }\r\n  }\r\n  svg {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 10px;\r\n    display: none;\r\n    ${svgSecondaryStyle}\r\n  }\r\n`;\r\n\r\nconst WrapperLink = styled(Link)`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 15px;\r\n`;\r\n\r\nconst ConversationInfo = styled.div`\r\n  width: 100%;\r\n  /* padding-top: 5px; */\r\n`;\r\n\r\nconst ConversationLastUser = styled.div`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst ConversationLastText = styled.div<{ isRead: boolean }>`\r\n  background: none;\r\n  padding: none;\r\n  color: var(--text-color-secondary);\r\n  flex-grow: 1;\r\n  ${(props) =>\r\n    !props.isRead &&\r\n    `\r\n    background: rgba(18, 62, 165, 0.07);\r\n  padding: 5px 7px;\r\n  border-radius: 3px;\r\n  color: var(--text-color-primary);\r\n    \r\n  `}\r\n`;\r\n\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 30px;\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst ConversationLastTextWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  img {\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Count = styled.div`\r\n  width: 15px;\r\n  height: 15px;\r\n  background: var(--color-primary);\r\n  border-radius: 100px;\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n`;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n  // setConversations: React.Dispatch<any>;\r\n  // setConversation: React.Dispatch<any>;\r\n};\r\n\r\nconst Conversation: React.FC<Props> = ({\r\n  conversation,\r\n  // setConversations,\r\n  // setConversation,\r\n}) => {\r\n  // const { meUserData } = useContext(AuthContext);\r\n  const date = DateTime.fromISO(conversation.createdAt).toLocaleString(\r\n    // DateTime.DATETIME_MED\r\n    {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n    }\r\n  );\r\n\r\n  // console.log(\"TESTSTSTS\", conversation.messages);\r\n\r\n  const { request } = useHttp();\r\n  const { meUserData, setConversations } = useContext(AuthContext);\r\n  const { online } = useContext(OnlineContext);\r\n  const history = useHistory();\r\n\r\n  const unReadMessagesCount = conversation.messages.filter(\r\n    (el: any) => el.isRead === false && el.user._id !== meUserData?._id\r\n  ).length;\r\n  conversation.messages.forEach((el: any) => {\r\n    // console.log(el.isRead, el);\r\n  });\r\n\r\n  // console.log(\"online conversations\", online);\r\n  const handleDeleteConversation = async () => {\r\n    const res = window.confirm(\r\n      \"Are you sure you want to delete this conversation?\"\r\n    );\r\n\r\n    // console.log(res);\r\n    if (res) {\r\n      try {\r\n        setConversations((prevState: any) => {\r\n          const newState = prevState.filter(\r\n            (el: any) => el._id !== conversation._id\r\n          );\r\n          return newState;\r\n        });\r\n\r\n        const response = await request(\r\n          `/api/conversation/${conversation._id}`,\r\n          \"DELETE\"\r\n        );\r\n        // history.push(\"/messages\");\r\n\r\n        // console.log(\"response\", response);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\r\n  console.log(\"lastMessage\", lastMessage);\r\n  return (\r\n    <Wrapper>\r\n      <WrapperLink to={`/conversation/${conversation._id}`}>\r\n        {conversation.users.length === 1 && (\r\n          <AvatarOnlineWrapper\r\n            onlineType={\r\n              online[\r\n                conversation.users[0]._id ? conversation.users[0]._id : \"ds\"\r\n              ]\r\n                ? true\r\n                : false\r\n            }\r\n          >\r\n            <Avatar\r\n              style={{ marginRight: \"15px\" }}\r\n              size=\"medium\"\r\n              src={conversation.users[0].avatar}\r\n            />\r\n          </AvatarOnlineWrapper>\r\n        )}\r\n\r\n        <ConversationInfo>\r\n          {conversation.users.map((user: any) => {\r\n            console.log(\"user\", user);\r\n            return (\r\n              <ConversationLastUser key={user._id}>\r\n                {user.firstName} {user.lastName}\r\n              </ConversationLastUser>\r\n            );\r\n          })}\r\n          {lastMessage?.user === meUserData?._id ? (\r\n            <ConversationLastTextWrapper>\r\n              <Avatar src={meUserData?.avatar} size=\"extra-small\" />\r\n              {lastMessage.content && (\r\n                <ConversationLastText isRead={lastMessage.isRead}>\r\n                  {lastMessage.content}\r\n                </ConversationLastText>\r\n              )}\r\n              {!lastMessage.content && lastMessage.images.length > 0 && (\r\n                <ConversationLastText isRead={lastMessage.isRead}>\r\n                  Photo\r\n                </ConversationLastText>\r\n              )}\r\n            </ConversationLastTextWrapper>\r\n          ) : (\r\n            <ConversationLastTextWrapper>\r\n              {lastMessage?.content && (\r\n                <ConversationLastText isRead={lastMessage?.isRead}>\r\n                  {lastMessage?.content}\r\n                </ConversationLastText>\r\n              )}\r\n              {!lastMessage?.content && lastMessage?.images.length > 0 && (\r\n                <ConversationLastText isRead={lastMessage?.isRead}>\r\n                  Photo\r\n                </ConversationLastText>\r\n              )}\r\n              {unReadMessagesCount > 0 && <Count>{unReadMessagesCount}</Count>}\r\n            </ConversationLastTextWrapper>\r\n          )}\r\n        </ConversationInfo>\r\n        <Date>{date}</Date>\r\n      </WrapperLink>\r\n\r\n      <TrashIcon onClick={handleDeleteConversation} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport { ContentBox, Separator } from \"../styled-components/global\";\r\nimport Conversation from \"../components/messages-page/Conversation\";\r\nimport { MessagesContext } from \"../context/MessagesContext\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport MessagesNavigation from \"../components/conversation-page/MessagesNavigation\";\r\nimport MessagesList from \"../components/conversation-page/MessagesList\";\r\n// import { ConversationContext } from \"../context/ConversationContext\";\r\nimport ConversationPage from \"./ConversationPage\";\r\nconst Wrapper = styled.div`\r\n  width: 550px;\r\n`;\r\n\r\n// const Empty = styled.div``;\r\n\r\nconst NoConversations = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 50px;\r\n  div {\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst MessagesPage = () => {\r\n  const { conversations, setConversations } = useContext(AuthContext);\r\n  console.log(\"CONVERSATIONS\", conversations);\r\n  // const { conversation, setConversation } = useContext(ConversationContext);\r\n  // const [conversation, setConversation] = useState(null);\r\n  // const { meUserData } = useContext(AuthContext);\r\n  // const { request, loading } = useHttp();\r\n  // useEffect(() => {\r\n  //   request(`/api/conversations`, \"GET\").then((res) => {\r\n  //     console.log(\"conversations\", res);\r\n  //     setConversations(res.conversations);\r\n  //   });\r\n  // }, []);\r\n\r\n  // const query = useQuery();\r\n\r\n  // console.log(\"conversations BEFORE EFFECT\", conversations);\r\n  // console.log(\"set Conversation\", conversations);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox style={{ minHeight: \"500px\" }}>\r\n        {conversations.length > 0 ? (\r\n          <>\r\n            {conversations.map((conv: any) => {\r\n              return (\r\n                <React.Fragment key={conv._id}>\r\n                  <Conversation\r\n                    conversation={conv}\r\n                    // setConversations={setConversations}\r\n                  />\r\n                  <Separator />\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </>\r\n        ) : (\r\n          <NoConversations>\r\n            <div>No conversations yet...</div>\r\n          </NoConversations>\r\n        )}\r\n        {/* {conversations.length === 0 && <div>  ...</div>} */}\r\n      </ContentBox>\r\n    </Wrapper>\r\n\r\n    // </Message/sContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MessagesPage;\r\n\r\n// <ListItem alignItems=\"flex-start\" key={idx}>\r\n//               {conversation.users.length < 2 && (\r\n//                 <ListItemAvatar>\r\n//                   <Avatar alt=\"Remy Sharp\" src={conversation.users[0].avatar} />\r\n//                 </ListItemAvatar>\r\n//               )}\r\n\r\n//               <Link to={`/conversation/${conversation._id}`}>\r\n//                 {conversation.users[0].firstName +\r\n//                   \" \" +\r\n//                   conversation.users[0].lastName}\r\n//               </Link>\r\n//               <div>{conversation.messages[0].content}</div>\r\n//               <div>{date}</div>\r\n//             </ListItem>\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Button,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Input,\r\n} from \"../../styled-components/global\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport ButtonSpinner from \"../ButtonSpinner\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst BoxTitle = styled.div`\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst SignIn = () => {\r\n  const [credentials, setCredentials] = useState<{\r\n    email: string;\r\n    password: string;\r\n  }>({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  // const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const { request, error, loading } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    console.log(\"CREDENTIALS\", credentials);\r\n    try {\r\n      // console.log(credentials);\r\n      const data = await request(\"/api/auth/login\", \"POST\", credentials, {\r\n        Authorization: auth.accessToken,\r\n      });\r\n\r\n      auth.login(data.accessToken, data.userData);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // const classes = useStyles();\r\n\r\n  return (\r\n    <ContentBox>\r\n      <ContentBoxContainer>\r\n        <BoxTitle>Sign in</BoxTitle>\r\n        {error && (\r\n          <Alert severity=\"error\" style={{ marginBottom: \"10px\" }}>\r\n            {error.message}\r\n          </Alert>\r\n        )}\r\n        <form onSubmit={handleSubmit}>\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.email}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"Email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required\r\n          />\r\n          <Input\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            placeholder=\"Password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            required\r\n            type=\"password\"\r\n            style={{ marginBottom: \"10px\" }}\r\n          />\r\n          <Button\r\n            size=\"small\"\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            style={{ display: \"flex\", alignItems: \"center\" }}\r\n          >\r\n            Sign in {loading && <ButtonSpinner />}\r\n          </Button>\r\n        </form>\r\n      </ContentBoxContainer>\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Button,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Input,\r\n} from \"../../styled-components/global\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport ButtonSpinner from \"../ButtonSpinner\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst BoxTitle = styled.div`\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  text-align: center;\r\n  margin-bottom: 2px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst BoxSubTitle = styled.div`\r\n  /* font-family: var(--font-family-secondary); */\r\n  color: var(--text-color-secondary);\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst SignUp = () => {\r\n  const [credentials, setCredentials] = useState<{\r\n    email: string;\r\n    password: string;\r\n    firstName: string;\r\n    lastName: string;\r\n  }>({\r\n    email: \"\",\r\n    password: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n  });\r\n\r\n  const { request, error, loading } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const data = await request(\"/api/auth/register\", \"POST\", credentials, {\r\n        Authorization: auth.accessToken,\r\n      });\r\n      // console.log(\"NEW\", data);\r\n      auth.login(data.accessToken, data.userData);\r\n      history.push(`/profile/edit/${data.userData._id}`);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // const classes = useStyles();\r\n\r\n  return (\r\n    <ContentBox>\r\n      <ContentBoxContainer>\r\n        <BoxTitle>First time here?</BoxTitle>\r\n        <BoxSubTitle>Let's sign up!</BoxSubTitle>\r\n        {error && <Alert severity=\"error\">{error.message}</Alert>}\r\n        <form onSubmit={handleSubmit}>\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.firstName}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"First Name\"\r\n            id=\"firstName\"\r\n            name=\"firstName\"\r\n            required\r\n            type=\"text\"\r\n          />\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.lastName}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"Last Name\"\r\n            id=\"lastName\"\r\n            name=\"lastName\"\r\n            required\r\n            type=\"text\"\r\n          />\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.email}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"Email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required\r\n          />\r\n          <Input\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            placeholder=\"Password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            required\r\n            style={{ marginBottom: \"10px\" }}\r\n          />\r\n          <Button\r\n            size=\"small\"\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            style={{ display: \"flex\", alignItems: \"center\" }}\r\n          >\r\n            Sign up {loading && <ButtonSpinner />}\r\n          </Button>\r\n        </form>\r\n      </ContentBoxContainer>\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import styled from \"styled-components\";\r\nimport SignIn from \"../components/friends-page/SignIn\";\r\nimport SignUp from \"../components/friends-page/SignUp\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  width: 300px;\r\n  padding: 50px 0;\r\n`;\r\n\r\nconst LogoWrapper = styled.div`\r\n  font-size: 38px;\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  color: var(--text-color-link);\r\n  text-align: center;\r\n  margin-bottom: 25px;\r\n  letter-spacing: 0;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default function SignInSignUpPage() {\r\n  return (\r\n    <Wrapper>\r\n      <LogoWrapper>intouch</LogoWrapper>\r\n      <SignIn />\r\n      <div style={{ height: \"20px\" }}></div>\r\n      <SignUp />\r\n    </Wrapper>\r\n  );\r\n}\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLikeIconDisabled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 20,\n    viewBox: \"0 0 23 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711ZM20.2931 9.4493L12.0001 18.043L3.66417 9.4493C2.03136 7.73055 1.68761 4.50789 4.00792 2.53133C6.3712 0.511796 9.1212 1.97273 10.1525 3.00398L12.0001 4.89461L13.8048 3.00398C14.7931 1.97273 17.586 0.511796 19.9493 2.53133C22.2696 4.50789 21.9259 7.73055 20.2931 9.4493Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikeIconDisabled);\nexport default __webpack_public_path__ + \"static/media/like-icon_disabled.4bdccf7d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  ContentBoxContainer,\r\n  Separator,\r\n} from \"../../styled-components/global\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\n\r\nconst FriendsWrapper = styled.div`\r\n  /* justify-content: center; */\r\n`;\r\n\r\nconst Friend = styled.div`\r\n  /* margin: 0 10px; */\r\n  display: flex;\r\n  justify-content: center;\r\n  a {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst FriendAvatar = styled.img`\r\n  border-radius: 100px;\r\n  width: 60px;\r\n  height: 60px;\r\n  object-fit: cover;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst FriendsList = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  /* grid-template-rows: 1fr 1fr; */\r\n  grid-gap: 10px;\r\n`;\r\n\r\nconst FriendsTitle = styled(Link)`\r\n  display: block;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst FriendsTitleCount = styled.span`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst NoFriends = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  /* padding-top: 10px; */\r\n  width: 100%;\r\n  div {\r\n    display: block;\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  span {\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\ntype FriendsProps = {\r\n  friends: any;\r\n  _id: string;\r\n  isPersonal: boolean;\r\n};\r\n\r\nconst Friends: React.FC<FriendsProps> = ({ friends, _id, isPersonal }) => {\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  const onlineFriends = friends.filter((el: any) => online[el._id]);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <FriendsWrapper>\r\n      <ContentBoxContainer>\r\n        <FriendsTitle to={isPersonal ? `/friends` : `/friends?id=${_id}`}>\r\n          Friends <FriendsTitleCount>{friends.length}</FriendsTitleCount>\r\n        </FriendsTitle>\r\n        {friends.length > 0 ? (\r\n          <FriendsList>\r\n            {friends.slice(0, 6).map((friend: any) => {\r\n              const slicedName =\r\n                friend.firstName.length < 9\r\n                  ? friend.firstName\r\n                  : friend.firstName.slice(0, 9) + \"...\";\r\n              return (\r\n                <Friend key={friend._id}>\r\n                  <Link to={`/profile/${friend._id}`}>\r\n                    <FriendAvatar src={friend.avatar} />\r\n                    {slicedName}\r\n                  </Link>\r\n                </Friend>\r\n              );\r\n            })}\r\n          </FriendsList>\r\n        ) : (\r\n          <FriendsList style={{ minHeight: \"100px\", display: \"flex\" }}>\r\n            <NoFriends>\r\n              <div>No friends yet...</div>\r\n              {isPersonal ? (\r\n                <Button\r\n                  marginTop=\"10px\"\r\n                  size=\"small\"\r\n                  onClick={() => history.push(\"/search\")}\r\n                >\r\n                  Find friends\r\n                </Button>\r\n              ) : null}\r\n            </NoFriends>\r\n          </FriendsList>\r\n        )}\r\n      </ContentBoxContainer>\r\n      {onlineFriends.length > 0 && (\r\n        <>\r\n          <Separator />\r\n          <ContentBoxContainer>\r\n            {\" \"}\r\n            <FriendsTitle to={isPersonal ? `/friends` : `/friends?id=${_id}`}>\r\n              Online{\" \"}\r\n              <FriendsTitleCount>{onlineFriends.length}</FriendsTitleCount>\r\n            </FriendsTitle>\r\n            <FriendsList>\r\n              {onlineFriends.slice(0, 6).map((friend: any) => {\r\n                const slicedName =\r\n                  friend.firstName.length < 9\r\n                    ? friend.firstName\r\n                    : friend.firstName.slice(0, 9) + \"...\";\r\n                return (\r\n                  <Friend key={friend._id}>\r\n                    <Link to={`/profile/${friend._id}`}>\r\n                      <FriendAvatar src={friend.avatar} />\r\n                      {slicedName}\r\n                    </Link>\r\n                  </Friend>\r\n                );\r\n              })}\r\n            </FriendsList>\r\n          </ContentBoxContainer>\r\n        </>\r\n      )}\r\n    </FriendsWrapper>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import { createContext, Dispatch } from \"react\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport type UserContextType = {\r\n  userData: IUserData | null;\r\n  setUserData: Dispatch<any>;\r\n  isPersonal: boolean;\r\n};\r\n\r\nconst noop = (): void => {};\r\n\r\nexport const UserContext = createContext<UserContextType>({\r\n  userData: null,\r\n  setUserData: noop,\r\n  isPersonal: true,\r\n});\r\n","import { Button } from \"../../../../styled-components/global\";\r\nimport React, { useContext, memo } from \"react\";\r\nimport { UserContext } from \"../../../../context/UserContext\";\r\nimport { useFriendRequest } from \"./useFriendRequest\";\r\nimport ButtonSpinner from \"../../../ButtonSpinner\";\r\n\r\ntype Props = {\r\n  relationToMe: string;\r\n  setRelationToMe: any;\r\n};\r\n\r\nconst FriendRequestButton: React.FC<Props> = ({\r\n  relationToMe,\r\n  setRelationToMe,\r\n}) => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const {\r\n    handleSendFriendRequest,\r\n    handleCancelFriendRequest,\r\n    handleSendUnFriendRequest,\r\n    handleAcceptFriendRequest,\r\n    loading,\r\n  } = useFriendRequest(userData, setUserData, relationToMe, setRelationToMe);\r\n  // console.log(\"relationtome\", relationToMe);\r\n  return (\r\n    <div>\r\n      {console.log(\"relation to me\", relationToMe)}\r\n      {relationToMe === \"not_friend\" && (\r\n        <Button\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n          onClick={!loading ? handleSendFriendRequest.bind(null) : () => {}}\r\n          width=\"fullwidth\"\r\n        >\r\n          Send friend request\r\n        </Button>\r\n      )}\r\n      {relationToMe === \"friend\" && (\r\n        <Button\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n          color=\"secondary\"\r\n          width=\"fullwidth\"\r\n          onClick={!loading ? handleSendUnFriendRequest : () => {}}\r\n        >\r\n          Unfriend\r\n        </Button>\r\n      )}\r\n      {relationToMe === \"user_sent_request\" && (\r\n        <Button\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n          width=\"fullwidth\"\r\n          onClick={!loading ? handleAcceptFriendRequest : () => {}}\r\n        >\r\n          Accept friend request\r\n        </Button>\r\n      )}\r\n      {relationToMe === \"me_sent_request\" && (\r\n        <Button\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n          width=\"fullwidth\"\r\n          onClick={!loading ? handleCancelFriendRequest : () => {}}\r\n        >\r\n          Unsubscribe\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(FriendRequestButton);\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\n\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport const useFriendRequest = (\r\n  userData: any,\r\n  setUserData: any,\r\n  relationToMe: string,\r\n  setRelationToMe: any\r\n) => {\r\n  const { request, loading } = useHttp();\r\n\r\n  const { meUserData, setMeUserData, socket } = useContext(AuthContext);\r\n\r\n  const handleSendFriendRequest = async () => {\r\n    try {\r\n      const newId = uuidv4();\r\n\r\n      const newFriendRequest = {\r\n        createdAt: new Date().toISOString(),\r\n        recipient: userData._id,\r\n        requester: meUserData?._id,\r\n        status: \"pending\",\r\n        _id: newId,\r\n      };\r\n\r\n      setUserData({ ...userData, friendRequest: newFriendRequest });\r\n      setRelationToMe(\"me_sent_request\");\r\n      const res = await request(\"/api/friend-request/create\", \"POST\", {\r\n        userId: userData._id,\r\n      });\r\n\r\n      setUserData({ ...userData, friendRequest: res.friendRequest });\r\n      console.log(\"res friend request\", res.friendRequest);\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `sent you afriendrequest`,\r\n        url: \"/friends?section=all_requests\",\r\n      };\r\n\r\n      const resNotif = await request(\"/api/notify\", \"POST\", {\r\n        ...notification,\r\n      });\r\n      socket.emit(\"createNotification\", resNotif.notification);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleSendUnFriendRequest = async () => {\r\n    try {\r\n      setRelationToMe(\"user_sent_request\");\r\n\r\n      const newId = uuidv4();\r\n\r\n      const newFriendRequest = {\r\n        createdAt: new Date().toISOString(),\r\n        recipient: meUserData?._id,\r\n        requester: userData._id,\r\n        status: \"pending\",\r\n        _id: newId,\r\n      };\r\n\r\n      setUserData((prevState: any) => {\r\n        const friends = prevState.friends.filter((friend: any) => {\r\n          return friend._id !== meUserData?._id;\r\n        });\r\n        return {\r\n          ...prevState,\r\n          friendRequest: newFriendRequest,\r\n          friends,\r\n        };\r\n      });\r\n      setMeUserData((prevState: any) => {\r\n        const meFriends = prevState?.friends?.filter((friend: any) => {\r\n          return friend._id !== userData?._id;\r\n        });\r\n        return {\r\n          ...prevState,\r\n          friendRequest: newFriendRequest,\r\n          friends: meFriends,\r\n        };\r\n      });\r\n\r\n      const res = await request(\r\n        `/api/friend-request/unfriend/${userData.friendRequest._id}`,\r\n        \"PUT\",\r\n        { userId: userData._id }\r\n      );\r\n\r\n      console.log(\"res UNFRIEND\", res);\r\n\r\n      setUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friendRequest: res.friendRequest,\r\n        };\r\n      });\r\n      setMeUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friendRequest: res.friendRequest,\r\n        };\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleAcceptFriendRequest = async () => {\r\n    try {\r\n      setRelationToMe(\"friend\");\r\n\r\n      const newId = uuidv4();\r\n\r\n      const newFriendRequest = {\r\n        createdAt: new Date().toISOString(),\r\n        recipient: meUserData?._id,\r\n        requester: userData._id,\r\n        status: \"accepted\",\r\n        _id: newId,\r\n      };\r\n\r\n      setUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friendRequest: newFriendRequest,\r\n          friends: [...prevState?.friends, meUserData],\r\n        };\r\n      });\r\n\r\n      setMeUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friends: [...prevState?.friends, userData],\r\n        };\r\n      });\r\n\r\n      const res = await request(\r\n        `/api/friend-request/accept/${userData.friendRequest._id}`,\r\n        \"PUT\",\r\n        { userId: userData._id }\r\n      );\r\n\r\n      console.log(\"accept RES\", res);\r\n\r\n      setUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friendRequest: res.friendRequest,\r\n        };\r\n      });\r\n\r\n      // setMeUserData((prevState: any) => {\r\n      //   return {\r\n      //     ...prevState\r\n      //   };\r\n      // });\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `accepted yourfriendrequest`,\r\n        url: \"/friends\",\r\n      };\r\n\r\n      const resNotif = await request(\"/api/notify\", \"POST\", {\r\n        ...notification,\r\n      });\r\n      socket.emit(\"createNotification\", resNotif.notification);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleCancelFriendRequest = async () => {\r\n    try {\r\n      setRelationToMe(\"not_friends\");\r\n      setUserData({ ...userData, friendRequest: null });\r\n\r\n      const res = await request(\r\n        `/api/friend-request/cancel/${userData.friendRequest._id}`,\r\n        \"DELETE\",\r\n        { userId: userData._id }\r\n      );\r\n\r\n      // console.log(\"cancel FRIENDSHIP\", res);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleSendFriendRequest,\r\n    handleCancelFriendRequest,\r\n    handleSendUnFriendRequest,\r\n    handleAcceptFriendRequest,\r\n    relationToMe,\r\n    loading,\r\n  };\r\n};\r\n","import React, { useState, useRef, useContext } from \"react\";\r\nimport {\r\n  Button,\r\n  ContentBoxContainer,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../../../styled-components/global\";\r\nimport { ReactComponent as Cross } from \"../../../../assets/icons/cross-icon.svg\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../../../assets/icons/image-upload-icon.svg\";\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\nimport { IUserData } from \"../../../../interfaces/IUserData\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\nimport { useUploadImages } from \"../../../../hooks/useUploadImages\";\r\nimport Emojis from \"../../../Emojis\";\r\nimport useNotistack from \"../../../../hooks/useNotistack\";\r\n\r\nimport SendMessageModal from \"../../../SendMessageModal\";\r\nimport useModal from \"../../../../hooks/useModal\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst SendMessagePopup = styled.div`\r\n  min-width: 450px;\r\n  position: relative;\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  margin-left: auto;\r\n`;\r\n\r\nconst CrossIcon = styled(Cross)`\r\n  fill: var(--icon-color-secondary);\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ImageUpload = styled.div`\r\n  position: absolute;\r\n  top: 18px;\r\n  right: 55px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  margin-left: 15px;\r\n  margin-bottom: 13px;\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    width: 20px;\r\n    fill: white;\r\n  }\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\ntype Props = {\r\n  userData: IUserData | null;\r\n};\r\n\r\nconst SendMessageButton: React.FC<Props> = ({ userData }) => {\r\n  const { openModal, closeModal, modalIsOpen } = useModal();\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Button marginBottom=\"10px\" width=\"fullwidth\" onClick={openModal}>\r\n        Send a message\r\n      </Button>\r\n      <SendMessageModal\r\n        modalIsOpen={modalIsOpen}\r\n        openModal={openModal}\r\n        closeModal={closeModal}\r\n        userData={userData}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SendMessageButton;\r\n","import React, { useContext } from \"react\";\r\nimport { UserContext } from \"../../../../context/UserContext\";\r\nimport { useCheckRelationToMe } from \"../../../../hooks/useCheckRelationToMe\";\r\nimport FriendRequestButton from \"./FriendRequestButton\";\r\nimport SendMessageButton from \"./SendMessageButton\";\r\n\r\nconst OtherUserActions = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const { relationToMe, setRelationToMe } = useCheckRelationToMe(userData);\r\n\r\n  return (\r\n    <div>\r\n      <SendMessageButton userData={userData} />\r\n      <FriendRequestButton\r\n        relationToMe={relationToMe}\r\n        setRelationToMe={setRelationToMe}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OtherUserActions;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport const useCheckRelationToMe = (otherUserData: IUserData | null) => {\r\n  const [relationToMe, setRelationToMe] = useState<null | any>(null);\r\n\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (!otherUserData) {\r\n      return;\r\n    }\r\n    const checkRelationToUser = (request: any): string => {\r\n      console.log(\"check relation\", relationToMe);\r\n      if (!request) {\r\n        return \"not_friend\";\r\n      }\r\n      const { recipient, requester, status } = request;\r\n      if (\r\n        (recipient === meUserData?._id || requester === meUserData?._id) &&\r\n        status === \"accepted\"\r\n      ) {\r\n        return \"friend\";\r\n      }\r\n      if (recipient === meUserData?._id && status === \"pending\") {\r\n        return \"user_sent_request\";\r\n      }\r\n      if (requester === meUserData?._id && status === \"pending\") {\r\n        return \"me_sent_request\";\r\n      }\r\n      return \"not_friend\";\r\n    };\r\n\r\n    let status = checkRelationToUser(otherUserData.friendRequest);\r\n\r\n    setRelationToMe(status);\r\n  }, [otherUserData]);\r\n\r\n  return { relationToMe, setRelationToMe };\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { CustomButton } from \"../useStyles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\nimport { Button } from \"../../../../styled-components/global\";\r\n\r\nconst EditProfileButton = () => {\r\n  const { meUserData } = useContext(AuthContext);\r\n  return (\r\n    <Link to={`/profile/edit/${meUserData?._id}`}>\r\n      <Button color=\"secondary\" width=\"fullwidth\">\r\n        Edit profile\r\n      </Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default EditProfileButton;\r\n","import React from \"react\";\r\nimport EditProfileButton from \"./EditProfileButton\";\r\n\r\nconst PersonalActions = () => {\r\n  return (\r\n    <div>\r\n      <EditProfileButton />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalActions;\r\n","import React, { useContext, useRef, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useOnClickOutside from \"../../hooks/useOnClickOutside\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport {\r\n  Avatar,\r\n  ContentBoxContainer,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../styled-components/global\";\r\nimport { Button } from \"../../styled-components/global\";\r\nimport { ReactComponent as EmojiIcon } from \"../../assets/icons/emoji-icon.svg\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../assets/icons/image-upload-icon.svg\";\r\nimport { ReactComponent as CrossIcon } from \"../../assets/icons/cross-icon.svg\";\r\nimport Emojis from \"../Emojis\";\r\nimport { useUploadImages } from \"../../hooks/useUploadImages\";\r\nimport useNotistack from \"../../hooks/useNotistack\";\r\nimport Spinner from \"../Spinner\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst PostBoxWrapper = styled.div`\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    /* justify-content: flex-end; */\r\n    /* align-items: flex-end; */\r\n  }\r\n`;\r\n\r\n// const InputInitial = styled.input`\r\n//   border: none;\r\n// `;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n\r\n      padding-top: 10px;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  /* margin-left: 15px;\r\n  margin-bottom: 13px; */\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    fill: white;\r\n    width: 20px;\r\n  }\r\n`;\r\n\r\nconst FormMainWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  svg {\r\n    ${svgPrimaryStyle}/* position: absolute; */\r\n    /* top: 0;\r\n    right: 8px; */\r\n  }\r\n`;\r\n\r\nconst FormFooter = styled.div`\r\n  /* padding: 15px 0; */\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  userData: IUserData | null;\r\n  setUserData: any;\r\n  isPersonal: boolean;\r\n  meUserData: IUserData | null;\r\n  setMeUserData: any;\r\n  handleClickOutside?: () => void;\r\n};\r\n\r\nconst SubmitPostBox: React.FC<Props> = ({\r\n  userData,\r\n  setUserData,\r\n  isPersonal,\r\n  meUserData,\r\n  setMeUserData,\r\n}) => {\r\n  const [content, setContent] = React.useState<string>(\"\");\r\n  // const [images, setImages] = React.useState<any[]>([]);\r\n  const [isFocus, setIsFocus] = React.useState<boolean>(false);\r\n\r\n  const {\r\n    images,\r\n    setImages,\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n  const { socket } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n  const formWrapperRef = useRef(null);\r\n  const formRef = useRef<HTMLFormElement>(null);\r\n  useOnClickOutside(formRef, () => {\r\n    setIsFocus(false);\r\n    // console.log(\"outside\");\r\n  });\r\n\r\n  const ref = useRef<null | HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    setContent(\"\");\r\n  }, [userData?._id]);\r\n\r\n  // const handleChange = (\r\n  //   e: React.ChangeEventHandler<HTMLTextAreaElement>\r\n  // ): void => {\r\n  //   // setContent(e.target.value);\r\n  //   console.log(e);\r\n  // };\r\n\r\n  const handleChange = (e: any): void => {\r\n    setContent(e.target.value);\r\n    console.log(e);\r\n  };\r\n\r\n  const handleSubmit = async (\r\n    e: React.FormEvent<HTMLFormElement>\r\n  ): Promise<void> => {\r\n    e.preventDefault();\r\n    if ((!content && images.length === 0) || imageLoading) {\r\n      return;\r\n    }\r\n    try {\r\n      // console.log(\"RES POST\", res.post);\r\n\r\n      const newId = uuidv4();\r\n\r\n      const newPost = {\r\n        comments: [],\r\n        content,\r\n        createdAt: new Date().toISOString(),\r\n        images: [],\r\n        likes: [],\r\n        repostedBy: [],\r\n        updatedAt: new Date().toISOString(),\r\n        user: {\r\n          firstName: meUserData?.firstName,\r\n          lastName: meUserData?.lastName,\r\n          avatar: meUserData?.avatar,\r\n          _id: meUserData?._id,\r\n        },\r\n        _id: newId,\r\n      };\r\n      console.log(\"new POST\", newPost);\r\n\r\n      setContent(\"\");\r\n      setImages([]);\r\n      setIsFocus(false);\r\n      setUserData({\r\n        ...userData,\r\n        wall: [newPost, ...userData!.wall],\r\n      });\r\n\r\n      const res = await request(\"/api/post\", \"POST\", {\r\n        content,\r\n        images,\r\n        userId: userData?._id,\r\n      });\r\n\r\n      setUserData((prevState) => {\r\n        const newPostsFromApi = prevState.wall.filter(\r\n          (el) => el._id !== newPost._id\r\n        );\r\n\r\n        return { ...prevState, wall: [res.post, ...newPostsFromApi] };\r\n      });\r\n\r\n      if (!isPersonal) {\r\n        const notification = await request(`/api/notify`, \"POST\", {\r\n          text: \"posted something on your page\",\r\n          url: `/profile/${userData?._id}`,\r\n          recipients: [userData?._id],\r\n        });\r\n        socket.emit(\"createNotification\", notification.notification);\r\n      }\r\n\r\n      console.log(\"RES\", res.message);\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", message: e.message });\r\n    }\r\n\r\n    // console.log(\"submit\");\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setContent(content + emoji);\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      formRef?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PostBoxWrapper ref={formWrapperRef}>\r\n      <form ref={formRef} style={{ width: \"100%\" }} onSubmit={handleSubmit}>\r\n        <ContentBoxContainer>\r\n          <FormMainWrapper>\r\n            <Avatar\r\n              marginRight=\"10px\"\r\n              size=\"medium-small\"\r\n              src={meUserData?.avatar}\r\n            />\r\n            <TextArea\r\n              placeholder=\"What's on your mind?\"\r\n              style={{ paddingRight: \"40px\", resize: \"none\" }}\r\n              $focuse={isFocus || !!content || images.length > 0}\r\n              onChange={handleChange}\r\n              value={content}\r\n              minRows={isFocus || !!content || images.length > 0 ? 4 : 1}\r\n              onClick={() => {\r\n                if (!isFocus) {\r\n                  setIsFocus(true);\r\n                }\r\n              }}\r\n              onKeyPress={handleKeyPress}\r\n            />\r\n            {/* {(isFocus || content || images.length > 0) && <EmojiIcon />} */}\r\n            {(isFocus || content || images.length > 0) && (\r\n              <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n            )}\r\n            {!isFocus && !(content || images.length > 0) && (\r\n              <label>\r\n                <ImageUploadIcon />\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  onChange={handleUploadImages}\r\n                  ref={ref}\r\n                  style={{ display: \"none\" }}\r\n                />\r\n              </label>\r\n            )}\r\n          </FormMainWrapper>\r\n          <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n            <>\r\n              {imageLoading && (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              )}\r\n              {images.length > 0 && (\r\n                <PreviewImagesWrapper>\r\n                  {images.map((image, idx) => {\r\n                    return (\r\n                      <PreviewImageWrapper key={image.public_id}>\r\n                        <DeleteImageIcon\r\n                          onClick={handleRemoveImage.bind(null, image)}\r\n                        >\r\n                          <CrossIcon />\r\n                        </DeleteImageIcon>\r\n                        <PreviewImage src={image.url} />\r\n                      </PreviewImageWrapper>\r\n                    );\r\n                  })}\r\n                </PreviewImagesWrapper>\r\n              )}\r\n            </>\r\n          </ImagesPreviewWrapper>\r\n        </ContentBoxContainer>\r\n\r\n        {(isFocus || content || images.length > 0) && (\r\n          <>\r\n            <Separator />\r\n            <ContentBoxContainer>\r\n              <FormFooter>\r\n                {/* <ImageUpload>\r\n                  \r\n                </ImageUpload> */}\r\n                <label>\r\n                  <ImageUploadIcon />\r\n\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    onChange={handleUploadImages}\r\n                    ref={ref}\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                </label>\r\n\r\n                <Button\r\n                  disabled={!content && images.length === 0}\r\n                  type=\"submit\"\r\n                  size=\"small\"\r\n                >\r\n                  Publish\r\n                </Button>\r\n              </FormFooter>\r\n            </ContentBoxContainer>\r\n          </>\r\n        )}\r\n      </form>\r\n    </PostBoxWrapper>\r\n  );\r\n};\r\n\r\nexport default SubmitPostBox;\r\n\r\n// <label>\r\n//   Choose file\r\n//   <input\r\n//     type=\"file\"\r\n//     name=\"file\"\r\n//     accept=\"image/*\"\r\n//     multiple\r\n//     onChange={handleUploadImages}\r\n//     ref={ref}\r\n//   />\r\n// </label>\r\n// <CustomButton\r\n//   variant=\"contained\"\r\n//   color=\"primary\"\r\n//   style={{ width: \"30%\" }}\r\n//   type=\"submit\"\r\n//   disabled={!content && images.length === 0}\r\n// >\r\n//   \r\n// </CustomButton>\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLikeIconLiked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 20,\n    viewBox: \"0 0 23 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikeIconLiked);\nexport default __webpack_public_path__ + \"static/media/like-icon_liked.9fd4eaf3.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCommentIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 20,\n    viewBox: \"0 0 23 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.9999 1.5C17.2851 1.5 21.6249 4.89453 21.6249 9.0625C21.6249 13.2305 17.2851 16.625 11.9999 16.625C10.7538 16.625 9.55069 16.4531 8.39054 16.1094L7.74601 15.8945L7.18741 16.2812C6.19913 16.9688 4.69523 17.7852 2.8046 18C3.32023 17.3555 4.05069 16.2383 4.52335 14.9922L4.82413 14.1758L4.26554 13.5742C3.01944 12.2422 2.37491 10.6953 2.37491 9.0625C2.37491 4.89453 6.67179 1.5 11.9999 1.5ZM11.9999 0.125C5.89835 0.125 0.999913 4.16406 0.999913 9.0625C0.999913 11.125 1.81632 13.0156 3.23429 14.5195C2.63273 16.1953 1.30069 17.6562 1.25773 17.6562C0.956945 17.957 0.913976 18.3867 1.04288 18.7734C1.21476 19.1602 1.60148 19.375 1.98819 19.375C4.65226 19.375 6.71476 18.3008 8.00382 17.3984C9.24991 17.7852 10.5819 18 11.9999 18C18.0585 18 22.9999 14.0039 22.9999 9.0625C22.9999 4.16406 18.0585 0.125 11.9999 0.125Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCommentIcon);\nexport default __webpack_public_path__ + \"static/media/comment-icon.4e710290.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgImageRemoveIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgImageRemoveIcon);\nexport default __webpack_public_path__ + \"static/media/image-remove-icon.840ad556.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLikeIconFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 12,\n    viewBox: \"0 0 14 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.6408 0.819587C11.1384 -0.438293 8.92579 -0.197422 7.53267 1.19427L7.01366 1.72954L6.46733 1.19427C5.10152 -0.197422 2.8616 -0.438293 1.3592 0.819587C-0.361717 2.26481 -0.443665 4.8341 1.08604 6.38637L6.38539 11.7391C6.71318 12.087 7.28682 12.087 7.61461 11.7391L12.914 6.38637C14.4437 4.8341 14.3617 2.26481 12.6408 0.819587Z\",\n    fill: \"#DBE1EF\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikeIconFilled);\nexport default __webpack_public_path__ + \"static/media/like-icon_filled.22a7de80.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useContext, useRef, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport useNotistack from \"../../../hooks/useNotistack\";\r\nimport { useUploadImages } from \"../../../hooks/useUploadImages\";\r\nimport {\r\n  Button,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../../styled-components/global\";\r\nimport Emojis from \"../../Emojis\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../../assets/icons/image-upload-icon.svg\";\r\nimport { ReactComponent as ImageRemoveIcon } from \"../../../assets/icons/image-remove-icon.svg\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { UserContext } from \"../../../context/UserContext\";\r\nimport Spinner from \"../../Spinner\";\r\n\r\nconst PostEditContent = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n\r\n      padding-top: 10px;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  /* margin-left: 15px;\r\n  margin-bottom: 13px; */\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst ImageRemoveIconWrapper = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    fill: white;\r\n    width: 10px;\r\n  }\r\n`;\r\n\r\nconst PostEditFooter = styled.div`\r\n  display: flex;\r\n  margin-top: 10px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst PostImage = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  display: flex;\r\n  margin-left: auto;\r\n`;\r\n\r\ntype Props = {\r\n  post: any;\r\n  isPersonal: boolean;\r\n  handleEditMode: (boolean: boolean) => any;\r\n};\r\n\r\nconst PostEdit: React.FC<Props> = ({ post, isPersonal, handleEditMode }) => {\r\n  const [editText, setEditText] = useState<string>(\"\");\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  const ref = useRef<null | HTMLInputElement>(null);\r\n  const {\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    images,\r\n    setImages,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n\r\n  useEffect(() => {\r\n    setEditText(post.content);\r\n    setImages(post.images);\r\n  }, [post]);\r\n\r\n  const handleEditChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setEditText(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    // console.log(\"emoji\", emoji);\r\n    setEditText(editText + emoji);\r\n  };\r\n\r\n  const handleSubmitUpdatedPost = async (\r\n    e: React.FormEvent<HTMLFormElement>\r\n  ) => {\r\n    e.preventDefault();\r\n    if (imageLoading) {\r\n      return;\r\n    }\r\n    try {\r\n      const updatedPost = {\r\n        content: editText,\r\n        images,\r\n      };\r\n\r\n      const postIdx = userData!.wall.findIndex((el) => el._id === post._id);\r\n      const pst = userData!.wall[postIdx];\r\n      pst[\"content\"] = editText;\r\n      pst[\"images\"] = images;\r\n      const newWallArr = [\r\n        ...userData!.wall.slice(0, postIdx),\r\n        pst,\r\n        ...userData!.wall.slice(postIdx + 1),\r\n      ];\r\n      setUserData({ ...userData, wall: newWallArr });\r\n      handleEditMode(false);\r\n\r\n      const res = await request(`/api/post/${post._id}`, \"PUT\", updatedPost);\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      handleEditMode(false);\r\n    }\r\n  };\r\n\r\n  // console.log(\"new post\", post);\r\n\r\n  return (\r\n    <PostEditContent style={{ marginTop: \"15px\" }}>\r\n      <form onSubmit={handleSubmitUpdatedPost}>\r\n        <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n        <TextArea\r\n          $focuse={true}\r\n          value={editText}\r\n          onChange={handleEditChange}\r\n          style={{ resize: \"none\" }}\r\n          minRows={4}\r\n        />\r\n        {images.length > 0 && (\r\n          <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n            <>\r\n              {imageLoading && (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              )}\r\n              {images.map((image: any) => {\r\n                return (\r\n                  <PreviewImageWrapper key={image.public_id}>\r\n                    <ImageRemoveIconWrapper\r\n                      onClick={handleRemoveImage.bind(null, image)}\r\n                    >\r\n                      <ImageRemoveIcon />\r\n                    </ImageRemoveIconWrapper>\r\n\r\n                    <PostImage src={image.url} alt={\"post image\"} />\r\n                  </PreviewImageWrapper>\r\n                );\r\n              })}\r\n            </>\r\n          </ImagesPreviewWrapper>\r\n        )}\r\n\r\n        <PostEditFooter>\r\n          <label>\r\n            <ImageUploadIcon />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              accept=\"image/*\"\r\n              multiple\r\n              onChange={handleUploadImages}\r\n              ref={ref}\r\n              style={{ display: \"none\" }}\r\n            />\r\n          </label>\r\n          <ButtonsWrapper>\r\n            <Button\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              marginRight=\"10px\"\r\n              onClick={() => handleEditMode(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button size=\"small\">Publish</Button>\r\n          </ButtonsWrapper>\r\n        </PostEditFooter>\r\n      </form>\r\n    </PostEditContent>\r\n  );\r\n};\r\n\r\nexport default PostEdit;\r\n","import React, { useState, useContext, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../../styled-components/global\";\r\nimport { ReactComponent as PublishCommentIcon } from \"../../../assets/icons/publish-comment-icon.svg\";\r\nimport Emojis from \"../../Emojis\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst PostCommentWrapper = styled.div`\r\n  form {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    padding: 10px 15px;\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 37px;\r\n  height: 37px;\r\n  margin-right: 15px;\r\n  border-radius: 100px;\r\n`;\r\n\r\nconst ButtonWrapper = styled.button`\r\n  margin-left: 10px;\r\n  padding-top: 5px;\r\n  background: none;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n    fill: var(--color-dark-secondary);\r\n    :hover {\r\n      fill: var(--text-color-secondary);\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  post: any;\r\n  setComments: React.Dispatch<React.SetStateAction<any[]>>;\r\n};\r\n\r\nconst PostSubmitComment: React.FC<Props> = ({ post, setComments }) => {\r\n  const [text, setText] = useState<string>(\"\");\r\n  const ref = useRef<HTMLFormElement>(null);\r\n\r\n  const { meUserData, socket } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const handleChange = (e: any): void => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setText(text + emoji);\r\n  };\r\n\r\n  const handleCreateComment = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    const newId = uuidv4();\r\n\r\n    const newComment = {\r\n      content: text,\r\n      createdAt: new Date().toISOString(),\r\n      likes: [],\r\n      updatedAt: new Date().toISOString(),\r\n      user: {\r\n        firstName: meUserData?.firstName,\r\n        lastName: meUserData?.lastName,\r\n        avatar: meUserData?.avatar,\r\n        _id: meUserData?._id,\r\n      },\r\n      _id: newId,\r\n    };\r\n\r\n    setText(\"\");\r\n    setComments((prevState) => {\r\n      return [...prevState, newComment];\r\n    });\r\n    const res = await request(\"/api/comment\", \"POST\", {\r\n      content: text,\r\n      postId: post._id,\r\n    });\r\n    setComments((prevState) => {\r\n      const newCommentsFromApi = prevState.filter(\r\n        (el) => el._id !== newComment._id\r\n      );\r\n      return [...newCommentsFromApi, res.comment];\r\n    });\r\n\r\n    console.log(\"comment RES\", res.comment);\r\n\r\n    if (post.user._id !== meUserData?._id) {\r\n      console.log(\"not my post\");\r\n      const notification = await request(`/api/notify`, \"POST\", {\r\n        text: \"left a comment under your post\",\r\n        url: `/profile/${post.user._id}`,\r\n        recipients: [post.user._id],\r\n      });\r\n      socket.emit(\"createNotification\", notification.notification);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      ref?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n  return (\r\n    <PostCommentWrapper>\r\n      <form ref={ref} onSubmit={handleCreateComment}>\r\n        <Avatar\r\n          marginRight=\"10px\"\r\n          size=\"medium-small\"\r\n          src={meUserData?.avatar}\r\n        />\r\n        <TextArea\r\n          $focuse\r\n          placeholder={\"Write something...\"}\r\n          style={{ resize: \"none\" }}\r\n          onChange={handleChange}\r\n          value={text}\r\n          onKeyDown={handleKeyPress}\r\n        />\r\n        <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n        {/* <ButtonWrapper type=\"submit\" disabled={!text}>\r\n          <PublishCommentIcon />\r\n        </ButtonWrapper> */}\r\n      </form>\r\n    </PostCommentWrapper>\r\n  );\r\n};\r\n\r\nexport default PostSubmitComment;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\nimport useNotistack from \"./useNotistack\";\r\n\r\nconst useLikeComment = (comment: any, meUserData: IUserData | null) => {\r\n  const [likes, setLikes] = useState<any>(comment.likes);\r\n  const [isLike, setIsLike] = useState<boolean>(false);\r\n  const [loadLike, setLoadLike] = useState<boolean>(false);\r\n  const { request } = useHttp();\r\n  const { socket } = useContext(AuthContext);\r\n  const { handlePageNotification } = useNotistack();\r\n  // console.log(\"commentttttt\", likes);\r\n\r\n  useEffect(() => {\r\n    if (likes.find((like: IUserData) => like._id === meUserData!._id)) {\r\n      setIsLike(true);\r\n    }\r\n    // console.log(\"likes\", likes);\r\n  }, [likes, meUserData!._id]);\r\n\r\n  const handleLikeComment = async () => {\r\n    if (loadLike) return;\r\n    // if (likes.find((like: IUserData) => like._id !== meUserData!._id)) {\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    setLikes([...likes, meUserData]);\r\n    // console.log(\"postid\", post._id);\r\n    try {\r\n      await request(`/api/comment/like/${comment._id}`, \"PUT\");\r\n\r\n      if (comment.user._id !== meUserData?._id) {\r\n        console.log(\"i can like this comment\", comment);\r\n        const notification = await request(`/api/notify`, \"POST\", {\r\n          text: \"liked your comment\",\r\n          url: `/profile/${comment.user._id}`,\r\n          recipients: [comment.user._id],\r\n        });\r\n        socket.emit(\"createNotification\", notification.notification);\r\n      } else {\r\n        console.log(\"my comment\");\r\n      }\r\n\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n    // }\r\n  };\r\n  const handleUnLikeComment = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    const newArr = likes.filter((el: any) => el._id !== meUserData?._id);\r\n    // console.log(\"newArr\", newArr);\r\n    setLikes(newArr);\r\n    try {\r\n      await request(`/api/comment/unlike/${comment._id}`, \"PUT\");\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    likes,\r\n    isLike,\r\n    setIsLike,\r\n    loadLike,\r\n    setLoadLike,\r\n    handleLikeComment,\r\n    handleUnLikeComment,\r\n  };\r\n};\r\n\r\nexport default useLikeComment;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSpiderWeb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"e3fc1b31-256f-41fb-a88c-f218ac990f97\",\n    \"data-name\": \"Capa 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 272.79 208.69\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M272.55,35.66a1.21,1.21,0,0,0-1.15-1.3c-44.93-2.67-90.1-1.62-135,.33-37.8,1.65-75.13.07-112.73-1.63a.91.91,0,0,0-.9,0q-10.75-.5-21.54-1c-1.63-.07-1.59,2.39,0,2.53q11.16,1,22.34,1.66c13.71,17,17,41.9,9.29,62.31-2.07,1.65-4.15,3.29-6.19,4.94-1,.81.33,2.56,1.39,1.8,1.93-1.37,3.9-2.67,5.84-4a1,1,0,0,0,.88-.55c39.71,7.71,74.17,29,98.44,61.65a1.35,1.35,0,0,0,.49.41c-.12,8.9-.45,17.78-1.15,26.66a17.39,17.39,0,0,0-6.15,2.64,10.6,10.6,0,0,0-1.7.81c-3.16-3.55-3.48-8.29-1.3-12.83.51-1.06-.91-2.42-1.75-1.35a11.77,11.77,0,0,0,1,15.64,13.75,13.75,0,0,0-3.36,4.6c-3.39-.83-6.7-2.12-9-4.79-3-3.48-3.47-8.35-3.29-12.76a1.12,1.12,0,0,0-2.19-.3,16.93,16.93,0,0,0,2.74,14.26c2.65,3.47,6.64,5.25,10.81,6.13a17.83,17.83,0,0,0-.6,4.56,24.62,24.62,0,0,0-6.73.28c-4.36.68-9,2.68-10.74,7-.49,1.22,1.21,1.9,2,1.18,2.65-2.35,4.82-4.29,8.41-5.13a24.19,24.19,0,0,1,7.29-.66,15.65,15.65,0,0,0,1.1,4,16,16,0,0,0,1.19,2.1c-6.78,2-11.82,9.92-9.3,17,.42,1.16,2.36,1.09,2.28-.31-.22-3.81.18-7.66,2.79-10.65a11.66,11.66,0,0,1,6.11-3.56,18.15,18.15,0,0,0,5.9,4.3,7.9,7.9,0,0,0,.24,4.74,7.21,7.21,0,0,0,3.22,3.67,4.79,4.79,0,0,0-1,4.49.81.81,0,0,0,1.59-.22,5.4,5.4,0,0,1,1.7-3.41,6.76,6.76,0,0,0,3.72,0c.89.89.47,2.24.67,3.5a1.05,1.05,0,0,0,1.54.63c1.85-1.22,1.35-3.4.09-5a8.09,8.09,0,0,0,3.1-3.2,9.57,9.57,0,0,0,1-5.42,16.83,16.83,0,0,0,5.1-4,14.13,14.13,0,0,1,9.93,7.25c2.56,4.8,2.24,9.76,2,15a1.24,1.24,0,0,0,2.43.33c2.81-9.76-2.74-23-12.91-24.6a15.21,15.21,0,0,0,2.13-7.54,17.86,17.86,0,0,1,6.31.51c4.75,1.4,6.12,4.8,7.53,9.1a1,1,0,0,0,2-.26c.06-9.38-8.25-11.64-15.84-11.17a20.6,20.6,0,0,0-1.3-5.83,23.3,23.3,0,0,0,18.69-20.86,1.26,1.26,0,0,0-2.46-.33c-1.75,9.87-8,16.9-17.17,19.07a18.68,18.68,0,0,0-3.87-5.15c4.42-2.24,7.42-8.17,6.5-12.78-.25-1.24-1.89-.79-2,.27a16.77,16.77,0,0,1-2.12,7.16,14,14,0,0,1-4.11,4,13.14,13.14,0,0,0-4.89-2.09,17.57,17.57,0,0,0-4.26-.29c.83-9.15,1.31-18.42,1.54-27.75,25.66-25.82,54.41-39.34,91.55-34.52a1.16,1.16,0,0,0,1-.35l.79.64a.82.82,0,0,0,1.21-.18.86.86,0,0,0,.71-.84c.92-18.43,1.58-33.16,9.64-50.33,7-15,15.64-29.21,30.08-38A1.46,1.46,0,0,0,272.55,35.66Zm-48.48,1c-17.7,12.93-27.58,36-26,57.83-6.8-6.26-13.61-12.52-20.51-18.67,1.3-16.33,5.42-30.54,20.33-39.29C206.6,36.55,215.34,36.61,224.07,36.66Zm-31.43-.14c-12.21,7.68-17.46,23.08-17.31,37.32q-10-8.84-20.07-17.48c.27-4.1-.06-8.41,2-12.09s5.28-5.7,8.74-7.55Q179.33,36.51,192.64,36.52Zm-56.26,1c7.82-.34,15.64-.55,23.45-.72a18.68,18.68,0,0,0-5.21,5.88c-1.89,3.51-2,7.69-1.67,11.68-6.67-5.66-13.36-11.26-20.1-16.72Zm-5.53.19C137,44.26,143.46,50.66,150,57a18.46,18.46,0,0,0-17,7.37c-.75-9-1.53-17.84-2.28-26.6ZM133,123.81A95.26,95.26,0,0,0,73.66,74.57q9.21-6,18.44-11.94c18.65,1.44,32.43,11.73,39.23,29.3C131.93,102.56,132.53,113.19,133,123.81ZM130.9,84.18A42.14,42.14,0,0,0,95.15,60.64c5.62-3.65,11.24-7.29,16.82-11a18,18,0,0,1,13.83,9.55c1.7,3.38,2.84,7,4.34,10.52Q130.49,77,130.9,84.18Zm-1.12-22.39c-1.35-3.54-3.08-6.93-5.65-9.27a21.63,21.63,0,0,0-9.27-4.76c4.77-3.16,9.54-6.35,14.27-9.59C129.21,46,129.46,53.91,129.78,61.79Zm-4.14-23.85c-5.23,2.49-10.42,5.2-15.59,8a9.66,9.66,0,0,0-1.81-7.61Q116.94,38.21,125.64,37.94Zm-19.24.43a8.83,8.83,0,0,1,.93,9.11c-5,2.75-9.85,5.66-14.72,8.64,1.3-6.06-.19-13.21-4.32-17.71C94.32,38.43,100.36,38.46,106.4,38.37Zm-21.68.05c2.16,2.66,4.14,5.1,5.09,8.7,1,4,.45,7.44-.6,11.09C83,62.07,77,66.11,70.94,70.24c1.12-11.81-4.09-23.91-12.22-32.33C67.38,38.17,76.05,38.37,84.72,38.42Zm-58-2q14.7.9,29.43,1.38c9.51,9.82,12.43,21.26,12.06,34.38C57.4,79.68,46.91,87.48,36.8,95.4,43.17,75.94,39.35,52.35,26.67,36.44ZM37,99.14q17-11.79,34.31-23a98.15,98.15,0,0,1,62,54.35c.35,9.42.54,18.84.49,28.26C109.75,127,76,106,37,99.14Zm96.29-31.22c4.9-6.74,11.11-8.66,19.55-7.5a1.26,1.26,0,0,0,.61-.08c5.8,5.54,11.72,11,17.69,16.41C158,75.31,144,80.09,134.94,89.88,134.43,82.54,133.87,75.2,133.27,67.92Zm1.85,24.59c11.68-9.92,24-14.12,39.42-12.42a1.27,1.27,0,0,0,.28,0c6.26,5.6,12.61,11.1,19,16.56-22.36,2.87-44,11.49-56.89,30.82C136.55,115.8,135.92,104.13,135.12,92.51Zm2,67.07c.21-9.68.15-19.44-.12-29.22l.07,0c14.24-19.93,35.88-28.23,59.48-30.93a2.17,2.17,0,0,0,.36-.12q14.44,12.28,29,24C192.35,119.1,156.88,131,137.12,159.58Zm93.24-34.84-.45-.43a1.24,1.24,0,0,0-.45-.43q-14.39-13.74-29.2-27.38c-.72-24.65,9.31-44.34,28-59.82,13.25.09,26.5.15,39.78.1C240.49,54.74,227.63,93.21,230.36,124.74Z\",\n    transform: \"translate(0 -32.05)\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpiderWeb);\nexport default __webpack_public_path__ + \"static/media/spider-web.dcc12466.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  CustomDate,\r\n  CustomLink,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  svgSecondaryStyle,\r\n} from \"../../../../styled-components/global\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DateTime } from \"luxon\";\r\nimport { ReactComponent as CogwheelIcon } from \"../../../../assets/icons/cogwheel-icon.svg\";\r\nimport { useTippyVisibility } from \"../../../../hooks/useTippyVisibility\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\nimport useNotistack from \"../../../../hooks/useNotistack\";\r\nimport { UserContext } from \"../../../../context/UserContext\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\nimport useLikeComment from \"../../../../hooks/useLikeComment\";\r\nimport { ReactComponent as LikeIconDisabledFilled } from \"../../../../assets/icons/like-icon_filled.svg\";\r\nimport { ReactComponent as LikeIconLiked } from \"../../../../assets/icons/like-icon_liked.svg\";\r\n\r\nconst CommentWrapper = styled.div`\r\n  padding: 15px 0;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  position: relative;\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 100px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst CommentText = styled.div``;\r\n\r\nconst CommentInfo = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst CommentDate = styled.div``;\r\n\r\nconst CommentOptions = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 0;\r\n  svg {\r\n    ${svgSecondaryStyle}\r\n  }\r\n`;\r\n\r\nconst EditPopup = styled.div``;\r\nconst EditPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst LikeIconWrapper = styled.div<{ liked: boolean }>`\r\n  position: absolute;\r\n  bottom: 15px;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  svg {\r\n    ${svgSecondaryStyle}\r\n    margin-right: 3px;\r\n    position: relative;\r\n    /* top: px; */\r\n\r\n    ${(props) =>\r\n      props.liked &&\r\n      `\r\n      fill: var(--color-red);\r\n      margin-right: 0;\r\n      :hover {\r\n        fill: var(--color-red);\r\n      }\r\n    `}\r\n  }\r\n`;\r\n\r\nconst LikeCount = styled.div`\r\n  margin-left: 3px;\r\n  /* color: var(--text-color-secondary); */\r\n`;\r\n\r\ntype Props = {\r\n  comment: any;\r\n  setComments: React.Dispatch<React.SetStateAction<any>>;\r\n  post: any;\r\n};\r\n\r\nconst Comment: React.FC<Props> = ({ comment, setComments, post }) => {\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const [canDelete, setCanDelete] = useState<boolean>(true);\r\n  // const [likes, setLikes] = useState<any>(comment.likes);\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n  const { isPersonal } = useContext(UserContext);\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    //can delete\r\n    if (isPersonal) {\r\n      setCanDelete(true);\r\n    } else {\r\n      if (\r\n        comment.user._id === meUserData?._id ||\r\n        post.user._id === meUserData?._id\r\n      ) {\r\n        setCanDelete(true);\r\n      } else {\r\n        setCanDelete(false);\r\n      }\r\n    }\r\n  }, [comment.user._id, meUserData!._id]);\r\n\r\n  const { handleLikeComment, handleUnLikeComment, isLike, likes } =\r\n    useLikeComment(comment, meUserData);\r\n\r\n  const handleDeleteComment = async (postId: string) => {\r\n    try {\r\n      setComments((prevState: any) => {\r\n        const newArr = prevState.filter((el: any) => el._id !== comment._id);\r\n        return newArr;\r\n      });\r\n      const res = await request(`/api/comment/${comment._id}`, \"DELETE\", {\r\n        postId,\r\n      });\r\n\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"success\", text: e.message });\r\n    }\r\n  };\r\n\r\n  const editPopup = (\r\n    <ContentBox onClick={hide}>\r\n      <EditPopup>\r\n        {canDelete && (\r\n          <EditPopupSelect onClick={handleDeleteComment.bind(null, post._id)}>\r\n            Delete\r\n          </EditPopupSelect>\r\n        )}\r\n      </EditPopup>\r\n    </ContentBox>\r\n  );\r\n  const date = DateTime.fromISO(comment.createdAt).toLocaleString({\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  });\r\n  return (\r\n    <>\r\n      <CommentWrapper>\r\n        <Avatar\r\n          marginRight=\"10px\"\r\n          size=\"medium-small\"\r\n          src={comment.user.avatar}\r\n        />\r\n        <CommentContent>\r\n          <CustomLink\r\n            style={{ marginBottom: \"5px\", display: \"block\" }}\r\n            to={`/profile/${comment.user._id}`}\r\n          >\r\n            {comment.user.firstName} {comment.user.lastName}\r\n          </CustomLink>\r\n          <CommentText>{comment.content}</CommentText>\r\n          <CommentInfo>\r\n            <CustomDate style={{ marginTop: \"5px\" }}>{date}</CustomDate>\r\n\r\n            {/* <CommentLike></CommentLike> */}\r\n          </CommentInfo>\r\n        </CommentContent>\r\n        {canDelete && (\r\n          <Tippy\r\n            content={editPopup}\r\n            interactive={true}\r\n            placement={\"bottom-end\"}\r\n            trigger=\"click\"\r\n            duration={0}\r\n            offset={[0, 5]}\r\n            visible={visible}\r\n            onClickOutside={hide}\r\n            // hideOnClick={\"toggle\"}\r\n          >\r\n            <CommentOptions onClick={visible ? hide : show}>\r\n              <CogwheelIcon />\r\n            </CommentOptions>\r\n          </Tippy>\r\n        )}\r\n        {isLike ? (\r\n          <LikeIconWrapper onClick={handleUnLikeComment} liked={true}>\r\n            <LikeIconLiked />\r\n            {likes.length > 0 && <LikeCount>{likes.length}</LikeCount>}\r\n          </LikeIconWrapper>\r\n        ) : (\r\n          <LikeIconWrapper onClick={handleLikeComment} liked={false}>\r\n            <LikeIconDisabledFilled />\r\n            {likes.length > 0 && likes.length}\r\n          </LikeIconWrapper>\r\n        )}\r\n      </CommentWrapper>\r\n      <Separator className=\"separator\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Comment from \"./Comment\";\r\n\r\nconst PostCommentsWrapper = styled.div`\r\n  padding: 0 15px;\r\n  .separator {\r\n    :last-child {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\n// const CommentText = styled.div``;\r\n\r\ntype Props = {\r\n  comments: any;\r\n  setComments: React.Dispatch<React.SetStateAction<boolean>>;\r\n  post: any;\r\n};\r\n\r\nconst PostComments: React.FC<Props> = ({ comments, setComments, post }) => {\r\n  // console.log(\"comments\", comments);\r\n\r\n  return (\r\n    <PostCommentsWrapper>\r\n      {comments.map((comment: any) => {\r\n        return (\r\n          <Comment\r\n            comment={comment}\r\n            key={comment._id}\r\n            setComments={setComments}\r\n            post={post}\r\n          />\r\n        );\r\n      })}\r\n    </PostCommentsWrapper>\r\n  );\r\n};\r\n\r\nexport default PostComments;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\nimport useNotistack from \"./useNotistack\";\r\n\r\nconst useLikePost = (meUserData: IUserData | null, post: any) => {\r\n  const [likes, setLikes] = useState<any>(post.likes);\r\n  const [isLike, setIsLike] = useState<boolean>(false);\r\n  const [loadLike, setLoadLike] = useState<boolean>(false);\r\n  const { socket } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  // console.log(\"commentttttt\", likes);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"likesssss\", likes);\r\n    if (likes.find((like: IUserData) => like._id === meUserData!._id)) {\r\n      setIsLike(true);\r\n    }\r\n    // console.log(\"likes\", likes);\r\n  }, [likes, meUserData!._id]);\r\n\r\n  const handleLikePost = async () => {\r\n    if (loadLike) return;\r\n    // if (likes.find((like: IUserData) => like._id !== meUserData!._id)) {\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    setLikes([...likes, meUserData]);\r\n    // console.log(\"postid\", post._id);\r\n    try {\r\n      await request(`/api/post/like/${post._id}`, \"PUT\");\r\n\r\n      //notification recipients\r\n\r\n      // let recipientsArr;\r\n      // if (post.user._id === )\r\n      // console.log(\"post.user._id\", post.user._id);\r\n      if (post.user._id !== meUserData?._id) {\r\n        console.log(\"not my post\");\r\n        const notification = await request(`/api/notify`, \"POST\", {\r\n          text: \"liked your post\",\r\n          url: `/profile/${post.user._id}`,\r\n          recipients: [post.user._id],\r\n        });\r\n        socket.emit(\"createNotification\", notification.notification);\r\n      }\r\n\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n    // }\r\n  };\r\n  const handleUnLikePost = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    const newArr = likes.filter((el: any) => el._id !== meUserData?._id);\r\n    // console.log(\"newArr\", newArr);\r\n    setLikes(newArr);\r\n    try {\r\n      await request(`/api/post/unlike/${post._id}`, \"PUT\");\r\n\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    likes,\r\n    isLike,\r\n    setIsLike,\r\n    loadLike,\r\n    setLoadLike,\r\n    handleLikePost,\r\n    handleUnLikePost,\r\n  };\r\n};\r\n\r\nexport default useLikePost;\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IPost, IUserData } from \"../../../interfaces/IUserData\";\r\nimport { DateTime } from \"luxon\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { UserContext } from \"../../../context/UserContext\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport useNotistack from \"../../../hooks/useNotistack\";\r\nimport Tippy from \"@tippyjs/react\";\r\n\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  CustomLink,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n} from \"../../../styled-components/global\";\r\nimport { ReactComponent as CogwheelIcon } from \"../../../assets/icons/cogwheel-icon.svg\";\r\nimport { ReactComponent as LikeIconDisabled } from \"../../../assets/icons/like-icon_disabled.svg\";\r\nimport { ReactComponent as LikeIconLiked } from \"../../../assets/icons/like-icon_liked.svg\";\r\nimport { ReactComponent as CommentIcon } from \"../../../assets/icons/comment-icon.svg\";\r\n\r\nimport PostEdit from \"./PostEdit\";\r\nimport { useTippyVisibility } from \"../../../hooks/useTippyVisibility\";\r\nimport PostSubmitComment from \"./PostSubmitComment\";\r\nimport PostComments from \"./comments/Comments\";\r\nimport useLikePost from \"../../../hooks/useLikePost\";\r\n\r\nconst IconsWrapper = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n`;\r\n\r\nconst PostImage = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 45px;\r\n  height: 45px;\r\n  border-radius: 100px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst UserInfo = styled.div``;\r\n\r\nconst UserName = styled.div`\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst PostOptions = styled.div`\r\n  margin-left: auto;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst EditPostPopup = styled.div``;\r\n\r\nconst EditPostPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst PostFooter = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst PostContent = styled.div``;\r\n\r\nconst PostText = styled.div`\r\n  padding-top: 20px;\r\n`;\r\n\r\nconst PostImagesWrapper = styled.div`\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst LikeIconWrapper = styled.div<{ liked: boolean }>`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 10px;\r\n\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n\r\n    ${(props) =>\r\n      props.liked &&\r\n      `\r\n      fill: var(--color-red);\r\n      :hover {\r\n        fill: var(--color-red);\r\n      }\r\n    `}\r\n  }\r\n`;\r\n\r\nconst CommentIconWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst LikeCount = styled.div`\r\n  margin-left: 5px;\r\n  /* color: var(--text-color-secondary); */\r\n  font-size: 16px;\r\n  top: 2px;\r\n`;\r\n\r\ntype Props = {\r\n  post: any;\r\n  setEditMode: React.Dispatch<React.SetStateAction<boolean>>;\r\n  editMode: boolean;\r\n};\r\n\r\nconst Post: React.FC<Props> = ({ post, setEditMode, editMode }) => {\r\n  const [comments, setComments] = useState<any>([...post.comments]);\r\n\r\n  //updating\r\n\r\n  const [isEdit, setIsEdit] = useState<boolean>(false);\r\n  const [canEdit, setCanEdit] = useState<boolean>(false);\r\n  const [canDelete, setCanDelete] = useState<boolean>(false);\r\n\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  // const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const date = DateTime.fromISO(post.createdAt).toLocaleString({\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  });\r\n\r\n  // console.log(\"POST\", post);\r\n\r\n  const { request } = useHttp();\r\n  const { userData, setUserData, isPersonal } = useContext(UserContext);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  // const { handleNotification } = useNotistack();\r\n\r\n  const { isLike, handleUnLikePost, handleLikePost, likes } = useLikePost(\r\n    meUserData,\r\n    post\r\n  );\r\n\r\n  useEffect(() => {\r\n    //can delete\r\n    if (isPersonal) {\r\n      setCanDelete(true);\r\n      // setCanEdit(true);\r\n      // console.log(\"meUserData wall\", meUserData);\r\n      const thisPost = userData!.wall!.find((el: IPost) => el._id === post._id);\r\n      if (thisPost.user._id === meUserData?._id) {\r\n        setCanEdit(true);\r\n      } else {\r\n        console.log(\"you cannot edit this post\");\r\n        setCanEdit(false);\r\n      }\r\n    } else {\r\n      if (\r\n        userData!.wall!.find(\r\n          (el: IPost) => el.user._id === meUserData!._id && el._id === post._id\r\n        )\r\n      ) {\r\n        setCanDelete(true);\r\n        setCanEdit(true);\r\n      } else {\r\n        setCanEdit(false);\r\n        setCanDelete(false);\r\n      }\r\n    }\r\n  }, [post._id, meUserData!._id]);\r\n\r\n  const handleDeletePost = async () => {\r\n    try {\r\n      const updatedPosts = userData!.wall.filter((el) => el._id !== post._id);\r\n      // console.log(\"updatedPosts\", updatedPosts);\r\n      setUserData({ ...userData, wall: updatedPosts });\r\n      const res = await request(`/api/post/${post._id}`, \"DELETE\");\r\n\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      // handleNotification(e.message, \"error\");\r\n    }\r\n  };\r\n\r\n  const handleEditMode = (boolean: boolean) => {\r\n    if (boolean) {\r\n      if (!editMode) {\r\n        setIsEdit(true);\r\n        setEditMode(true);\r\n      }\r\n    } else {\r\n      setIsEdit(false);\r\n      setEditMode(false);\r\n    }\r\n  };\r\n\r\n  const editPostPopup = (\r\n    <ContentBox onClick={hide}>\r\n      <EditPostPopup>\r\n        {canEdit && (\r\n          <EditPostPopupSelect onClick={() => handleEditMode(true)}>\r\n            Edit\r\n          </EditPostPopupSelect>\r\n        )}\r\n        {canDelete && (\r\n          <EditPostPopupSelect onClick={handleDeletePost}>\r\n            Delete\r\n          </EditPostPopupSelect>\r\n        )}\r\n      </EditPostPopup>\r\n    </ContentBox>\r\n  );\r\n  return (\r\n    <ContentBox key={post._id} style={{ marginBottom: \"15px\" }}>\r\n      <ContentBoxContainer>\r\n        <PostHeader>\r\n          <Avatar size=\"medium\" marginRight=\"15px\" src={post.user?.avatar} />\r\n          <UserInfo>\r\n            <CustomLink\r\n              to={`/profile/${post.user?._id}`}\r\n              style={{ marginBottom: \"5px\", display: \"block\" }}\r\n            >\r\n              {post.user?.firstName} {post.user?.lastName}\r\n            </CustomLink>\r\n            <PostDate>{date}</PostDate>\r\n          </UserInfo>\r\n          {(canEdit || canDelete) && (\r\n            <Tippy\r\n              content={editPostPopup}\r\n              interactive={true}\r\n              placement={\"bottom-end\"}\r\n              trigger=\"click\"\r\n              duration={0}\r\n              offset={[0, 5]}\r\n              visible={visible}\r\n              onClickOutside={hide}\r\n              // hideOnClick={\"toggle\"}\r\n            >\r\n              <PostOptions onClick={visible ? hide : show}>\r\n                <CogwheelIcon />\r\n              </PostOptions>\r\n            </Tippy>\r\n          )}\r\n        </PostHeader>\r\n        {isEdit ? (\r\n          <PostEdit\r\n            handleEditMode={handleEditMode}\r\n            post={post}\r\n            isPersonal={isPersonal}\r\n          />\r\n        ) : (\r\n          <>\r\n            {post.content && (\r\n              <PostContent>\r\n                <PostText>{post.content}</PostText>\r\n              </PostContent>\r\n            )}\r\n            {post.images.length > 0 && (\r\n              <PostImagesWrapper>\r\n                {post.images.map((image: any) => {\r\n                  return (\r\n                    <PostImage\r\n                      key={image._id}\r\n                      src={image.url}\r\n                      alt={\"post image\"}\r\n                    />\r\n                  );\r\n                })}\r\n              </PostImagesWrapper>\r\n            )}\r\n          </>\r\n        )}\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <ContentBoxContainer>\r\n        <PostFooter>\r\n          {isLike ? (\r\n            <LikeIconWrapper onClick={handleUnLikePost} liked={true}>\r\n              <LikeIconLiked />\r\n              {likes.length > 0 && <LikeCount>{likes.length}</LikeCount>}\r\n            </LikeIconWrapper>\r\n          ) : (\r\n            <LikeIconWrapper onClick={handleLikePost} liked={false}>\r\n              <LikeIconDisabled />\r\n              {likes.length > 0 && <LikeCount>{likes.length}</LikeCount>}\r\n            </LikeIconWrapper>\r\n          )}\r\n          <CommentIconWrapper>\r\n            <CommentIcon />\r\n            {comments.length > 0 && <LikeCount>{comments.length}</LikeCount>}\r\n          </CommentIconWrapper>\r\n        </PostFooter>\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <PostComments comments={comments} setComments={setComments} post={post} />\r\n      <PostSubmitComment post={post} setComments={setComments} />\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Post from \"./post/Post\";\r\n\r\ntype WallProps = {\r\n  data: any[];\r\n};\r\n\r\nconst Wall: React.FC<WallProps> = ({ data }) => {\r\n  const [editMode, setEditMode] = useState<boolean>(false);\r\n  // console.log(\"data wall\", data);\r\n\r\n  return (\r\n    <>\r\n      {data.map((post) => {\r\n        // console.log(date);\r\n\r\n        return (\r\n          <Post\r\n            key={post._id}\r\n            post={post}\r\n            setEditMode={setEditMode}\r\n            editMode={editMode}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Wall;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowIconLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 6,\n    height: 11,\n    viewBox: \"0 0 6 11\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.17627 9.9668L5.32666 9.81641C5.43408 9.70898 5.43408 9.55859 5.32666 9.45117L1.13721 5.26172L5.32666 1.05078C5.43408 0.943359 5.43408 0.792969 5.32666 0.685547L5.17627 0.535156C5.06885 0.427734 4.91846 0.427734 4.81104 0.535156L0.277832 5.06836C0.17041 5.17578 0.17041 5.32617 0.277832 5.43359L4.81103 9.9668C4.91846 10.0742 5.06885 10.0742 5.17627 9.9668Z\",\n    fill: \"#414141\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowIconLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-icon_left.9c93e24c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport { ContentBoxContainer, Separator } from \"../../styled-components/global\";\r\nimport { DateTime } from \"luxon\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst InfoHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  font-size: 18px;\r\n  color: var(--color-black);\r\n  /* font-weight: 600; */\r\n`;\r\nconst UserStatus = styled.div`\r\n  /* font-size: 13px; */\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst AdditionalInfo = styled.div``;\r\n\r\nconst InfoItem = styled.div`\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst InfoItemTitle = styled.div`\r\n  min-width: 130px;\r\n  color: var(--text-color-secondary);\r\n  font-size: var(--text-size-primary);\r\n`;\r\n\r\nconst InfoItemContent = styled.div``;\r\n\r\ntype Props = {\r\n  userData: IUserData;\r\n};\r\n\r\nconst ProfileInfo: React.FC<Props> = ({ userData }) => {\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  // console.log(\"info updated\");\r\n  return (\r\n    <Wrapper>\r\n      <ContentBoxContainer>\r\n        <InfoHeader>\r\n          <UserName>{userData.firstName + \" \" + userData.lastName}</UserName>\r\n          {online[userData?._id ? userData?._id : \"d\"] && (\r\n            <UserStatus>online</UserStatus>\r\n          )}\r\n        </InfoHeader>\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <ContentBoxContainer>\r\n        <AdditionalInfo>\r\n          {userData.city && (\r\n            <InfoItem>\r\n              <InfoItemTitle>City:</InfoItemTitle>\r\n              <InfoItemContent>{userData.city}</InfoItemContent>\r\n            </InfoItem>\r\n          )}\r\n\r\n          {userData.dateOfBirth && (\r\n            <InfoItem>\r\n              <InfoItemTitle>Date of birth:</InfoItemTitle>\r\n              <InfoItemContent>\r\n                {/* {new Date(userData.aboutMe)} */}\r\n                {DateTime.fromISO(String(userData.dateOfBirth)).toLocaleString({\r\n                  day: \"numeric\",\r\n                  month: \"long\",\r\n                  year: \"numeric\",\r\n                })}\r\n                {/* {typeof userData.aboutMe} */}\r\n              </InfoItemContent>\r\n            </InfoItem>\r\n          )}\r\n          {userData.aboutMe && (\r\n            <InfoItem>\r\n              <InfoItemTitle>About me:</InfoItemTitle>\r\n              <InfoItemContent>{userData.aboutMe}</InfoItemContent>\r\n            </InfoItem>\r\n          )}\r\n        </AdditionalInfo>\r\n      </ContentBoxContainer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React, { memo, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Friends from \"../components/profile-page/Friends\";\r\nimport OtherUserActions from \"../components/profile-page/profile-actions/other-user/OtherUserActions\";\r\nimport PersonalActions from \"../components/profile-page/profile-actions/personal/PersonalActions\";\r\nimport SubmitPostBox from \"../components/profile-page/SubmitPostBox\";\r\nimport Wall from \"../components/profile-page/Wall\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { UserContext } from \"../context/UserContext\";\r\nimport { useLoadUser } from \"../hooks/useLoadUser\";\r\nimport { ContentBox, ContentBoxContainer } from \"../styled-components/global\";\r\nimport { ReactComponent as SpiderWeb } from \"../assets/icons/spider-web.svg\";\r\n\r\nimport Info from \"./../components/profile-page/Info\";\r\nconst Avatar = styled.img`\r\n  width: 100%;\r\n  /* margin-right: 15px; */\r\n  margin-bottom: 10px;\r\n  /* object-fit: contain; */\r\n`;\r\n\r\nconst LeftSide = styled.div`\r\n  width: 35%;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst RightSide = styled.div`\r\n  width: 65%;\r\n`;\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst NoPosts = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding-top: 25px;\r\n  div {\r\n    display: block;\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  span {\r\n    color: var(--text-color-secondary);\r\n  }\r\n  svg {\r\n    fill: var(--text-color-secondary);\r\n    width: 100px;\r\n    margin-top: 20px;\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\n// export const ContentBox = styled.div`\r\n//   background: white;\r\n//   padding: 20px;\r\n//   box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\r\n//   border-radius: 5px;\r\n// `;\r\n\r\nconst AvatarWrapper = styled.div``;\r\n\r\nconst PersonalProfilePage = () => {\r\n  const { id: slugId } = useParams<any>();\r\n  const {\r\n    userData,\r\n    setUserData,\r\n    isPersonal,\r\n    loading,\r\n    meUserData,\r\n    setMeUserData,\r\n  } = useLoadUser(slugId);\r\n\r\n  if (!userData || loading) {\r\n    return (\r\n      <div style={{ minHeight: \"550px\" }}>\r\n        <SpinnerWrapper>\r\n          <Spinner />\r\n        </SpinnerWrapper>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={{ userData, setUserData, isPersonal }}>\r\n      <Page />\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default PersonalProfilePage;\r\n\r\nconst Page = () => {\r\n  const { userData, setUserData, isPersonal } = useContext(UserContext);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  const { firstName, lastName, avatar, wall } = userData!;\r\n  console.log(\"user data\", userData);\r\n  return (\r\n    <div className=\"profile\" style={{ minHeight: \"700px\" }}>\r\n      <LeftSide>\r\n        <ContentBox marginBottom=\"15px\">\r\n          <ContentBoxContainer>\r\n            <AvatarWrapper>\r\n              <Avatar src={avatar} />\r\n              {isPersonal ? <PersonalActions /> : <OtherUserActions />}\r\n            </AvatarWrapper>\r\n          </ContentBoxContainer>\r\n        </ContentBox>\r\n        <ContentBox>\r\n          {/* <ContentBoxContainer> */}\r\n          <Friends\r\n            isPersonal={isPersonal}\r\n            friends={userData?.friends}\r\n            _id={userData?._id!}\r\n          />\r\n          {/* </ContentBoxContainer> */}\r\n        </ContentBox>\r\n      </LeftSide>\r\n      <RightSide>\r\n        <ContentBox marginBottom=\"15px\">\r\n          <Info userData={userData!} />\r\n        </ContentBox>\r\n        <ContentBox marginBottom=\"15px\">\r\n          <SubmitPostBox\r\n            userData={userData}\r\n            setUserData={setUserData}\r\n            isPersonal={isPersonal}\r\n            meUserData={meUserData}\r\n            setMeUserData={setMeUserData}\r\n          />\r\n        </ContentBox>\r\n        {wall.length > 0 ? (\r\n          <Wall data={wall} />\r\n        ) : (\r\n          <NoPosts>\r\n            {isPersonal ? (\r\n              <>\r\n                <div>Empty wall...</div>\r\n                <span>\r\n                  Post something on your wall by writing in a text field above!\r\n                </span>\r\n                <SpiderWeb />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div>Empty wall...</div>\r\n                <SpiderWeb />\r\n                {/* <span>\r\n                  You can make this wall alive by posting somethin on it!\r\n                </span> */}\r\n              </>\r\n            )}\r\n          </NoPosts>\r\n        )}\r\n        {/* {!isPersonal && renderFriendRequestButton(relationToMe)} */}\r\n      </RightSide>\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\n\r\n// const storageName = \"firstLogin\";\r\n\r\nexport const useLoadUser = (slugId: string) => {\r\n  const [userData, setUserData] = useState<any>(null);\r\n  const [isPersonal, setIsPersonal] = useState<boolean>(false);\r\n  const { meUserData, setMeUserData, accessToken } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { request } = useHttp();\r\n  const history = useHistory();\r\n\r\n  // console.log(\"slugId\", slugId);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"accessToken\", accessToken);\r\n    setLoading(true);\r\n    if (slugId === meUserData?._id) {\r\n      setIsPersonal(true);\r\n    } else {\r\n      setIsPersonal(false);\r\n    }\r\n\r\n    request(`/api/user/${slugId}`, \"GET\")\r\n      .then((res) => {\r\n        setUserData(res.userData);\r\n        setLoading(false);\r\n        // console.log(\"USER\", res);\r\n      })\r\n      .catch((err) => {\r\n        history.push(\"/not-found\");\r\n        setUserData(null);\r\n        setLoading(false);\r\n      });\r\n\r\n    // if (slugId === meUserData?._id) {\r\n    //   setUserData(meUserData);\r\n    //   setIsPersonal(true);\r\n    //   // console.log(\"me USER\", meUserData);\r\n    // } else {\r\n    //   setLoading(true);\r\n    //   setIsPersonal(false);\r\n    //   request(`/api/user/${slugId}`, \"GET\")\r\n    //     .then((res) => {\r\n    //       setUserData(res.userData);\r\n    //       setLoading(false);\r\n    //       // console.log(\"USER\", res);\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       history.push(\"/not-found\");\r\n    //       setUserData(null);\r\n    //       setLoading(false);\r\n    //     });\r\n    //   // setUserData(null);\r\n    // }\r\n  }, [slugId, meUserData?._id]);\r\n\r\n  return {\r\n    userData,\r\n    setUserData,\r\n    isPersonal,\r\n    loading,\r\n    meUserData,\r\n    setMeUserData,\r\n  };\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  CustomLink,\r\n  Separator,\r\n  svgSecondaryStyle,\r\n} from \"../../styled-components/global\";\r\nimport { ReactComponent as ArrowIcon } from \"../../assets/icons/arrow-icon_left.svg\";\r\nimport { IUser } from \"../../pages/EditProfilePage\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport SendMessageBox from \"./SendMessageBox\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 550px;\r\n  max-height: 50vh;\r\n\r\n  .contentBox {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nconst NavigationHeader = styled.div``;\r\n\r\nconst NavigationBody = styled.div``;\r\n\r\nconst NavigationHeaderWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  img {\r\n    align-self: center;\r\n    margin-right: 15px;\r\n  }\r\n  /* a {\r\n    display: block;\r\n  } */\r\n`;\r\n\r\nconst BackButton = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  /* height: 100%; */\r\n  background: none;\r\n  padding: 20px 18px;\r\n  svg {\r\n    ${svgSecondaryStyle}\r\n    width: 5px;\r\n    margin-right: 8px;\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst UserStatus = styled.div`\r\n  /* font-size: 13px; */\r\n  text-align: center;\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\n// const AvatarWrapper = styled.div`\r\n//   padding: 20px 15px;\r\n// `;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n};\r\n\r\nconst MessagesNavigation: React.FC<Props> = ({ children, conversation }) => {\r\n  const { online } = useContext(OnlineContext);\r\n  // const { conversation } = useContext(ConversationContext);\r\n\r\n  const history = useHistory();\r\n\r\n  if (!conversation) {\r\n    history.push(\"/messages\");\r\n    // return <></>;\r\n  }\r\n\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  // return <>{console.log(\"NAVIGATION\", conversation)}</>;\r\n  // const otherUsers = conversation.users.filter(\r\n  //   (el: IUser) => el._id !== meUserData?._id\r\n  // );\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox className=\"contentBox\">\r\n        {/* <ContentBoxContainer> */}\r\n        <NavigationHeader>\r\n          <NavigationHeaderWrapper>\r\n            <BackButton to={`/messages`}>\r\n              <ArrowIcon />\r\n              Back\r\n            </BackButton>\r\n            {conversation.users.length > 1 ? (\r\n              <>\r\n                {conversation.users.map((user: IUser) => {\r\n                  return <div>{user.firstName}</div>;\r\n                })}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div>\r\n                  <CustomLink\r\n                    color=\"black\"\r\n                    to={`/profile/${conversation.users[0]._id}`}\r\n                  >\r\n                    {conversation.users[0].firstName}{\" \"}\r\n                    {conversation.users[0].lastName}\r\n                  </CustomLink>\r\n                  {online[\r\n                    conversation.users[0]?._id\r\n                      ? conversation.users[0]?._id\r\n                      : \"d\"\r\n                  ] && <UserStatus>online</UserStatus>}\r\n                </div>\r\n\r\n                <Link to={`/profile/${conversation.users[0]._id}`}>\r\n                  <Avatar src={conversation.users[0].avatar} size=\"small\" />\r\n                </Link>\r\n              </>\r\n            )}\r\n          </NavigationHeaderWrapper>\r\n          <Separator />\r\n        </NavigationHeader>\r\n        <NavigationBody>{children}</NavigationBody>\r\n      </ContentBox>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MessagesNavigation;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  CustomLink,\r\n  svgSecondaryStyle,\r\n} from \"../../styled-components/global\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DateTime } from \"luxon\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { ReactComponent as TrashIcon } from \"../../assets/icons/trash-icon.svg\";\r\n// import { Socket } from \"dgram\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\nconst Wrapper = styled.div<{ isRead: boolean }>`\r\n  padding: 15px;\r\n  display: flex;\r\n  position: relative;\r\n  margin-top: auto;\r\n  img {\r\n    margin-right: 15px;\r\n  }\r\n  svg {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    display: none;\r\n    ${svgSecondaryStyle}\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    svg {\r\n      display: block;\r\n    }\r\n  }\r\n  ${(props) =>\r\n    !props.isRead &&\r\n    `\r\n    background: var(--color-secondary);\r\n  `}\r\n`;\r\n\r\nconst MessageInfo = styled.div``;\r\n\r\nconst MessageHeader = styled.div`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Date = styled.span`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst MessageContent = styled.div``;\r\n\r\nconst Image = styled.img`\r\n  width: 300px;\r\n  height: auto;\r\n  margin-top: 5px;\r\n`;\r\n\r\ntype Props = {\r\n  isMe: boolean;\r\n  message: any;\r\n  messages: any;\r\n};\r\n\r\nconst Message: React.FC<Props> = ({ message, isMe, messages }) => {\r\n  // const [message, setMessage] = useState(msg);\r\n  const date = DateTime.fromISO(message.createdAt).toLocaleString(\r\n    // DateTime.DATETIME_MED\r\n    {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n    }\r\n  );\r\n\r\n  const { request } = useHttp();\r\n  const history = useHistory();\r\n  const { socket, setConversations } = useContext(AuthContext);\r\n  // const { setConversation } = useContext(ConversationContext);\r\n\r\n  const handleReadMessage = async () => {\r\n    console.log(\"handle read message\", message);\r\n    try {\r\n      // setConversation((prevState: any) => {\r\n      //   const msgIdx = prevState?.messages.findIndex(\r\n      //     (el: any) => el._id === res.readMsg._id\r\n      //   );\r\n\r\n      //   const messages = [\r\n      //     ...prevState?.messages.slice(0, msgIdx),\r\n      //     res.readMsg,\r\n      //     ...prevState?.messages.slice(msgIdx, prevState?.messages.length - 1),\r\n      //   ];\r\n\r\n      //   // const convNoMessage = prevState?.messages.filter(\r\n      //   //   (el: any) => el._id !== message._id\r\n      //   // );\r\n\r\n      //   const newConversation = {\r\n      //     ...prevState,\r\n      //     messages,\r\n      //   };\r\n      //   console.log(\"new conversation\", newConversation);\r\n      //   return newConversation;\r\n      // });\r\n\r\n      setConversations((prevState: any) => {\r\n        // console.log(\"message\", message);\r\n        // console.log(\"i'm setting conversations with this message\", res.readMsg);\r\n\r\n        const newMessage = {\r\n          ...message,\r\n          isRead: true,\r\n        };\r\n        const conversation = prevState.find(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const conversationIdx = prevState.findIndex(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const conversationMsgIdx = conversation.messages.findIndex(\r\n          (el: any) => el._id === message._id\r\n        );\r\n        const messages = [\r\n          ...conversation.messages.slice(0, conversationMsgIdx),\r\n          newMessage,\r\n          ...conversation.messages.slice(conversationMsgIdx + 1),\r\n        ];\r\n\r\n        console.log(\"messages\", messages);\r\n\r\n        const updatedConversation = {\r\n          ...conversation,\r\n          messages,\r\n        };\r\n\r\n        console.log(\"updated conversation\", updatedConversation);\r\n\r\n        // console.log(\"conversationIdx\", conversationIdx);\r\n\r\n        const newConversations = [\r\n          ...prevState.slice(0, conversationIdx),\r\n          updatedConversation,\r\n          ...prevState.slice(conversationIdx + 1),\r\n        ];\r\n\r\n        console.log(\"newConversations\", newConversations);\r\n\r\n        return newConversations;\r\n      });\r\n\r\n      const res = await request(`/api/read_message/${message._id}`, \"PUT\");\r\n\r\n      console.log(\"res\", res);\r\n      // setMessage((prevState: any) => {\r\n      //   // console.log(\"READ CONV\", newCon);\r\n      //   return {\r\n      //     ...prevState,\r\n      //     isRead: true,\r\n      //   };\r\n      // });\r\n      socket.emit(\"readMessage\", res.readMsg);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleDeleteMessage = async () => {\r\n    const response = window.confirm(\r\n      \"Are you sure you want to delete this message?\"\r\n    );\r\n    if (!response) {\r\n      return;\r\n    }\r\n\r\n    if (messages.length === 1) {\r\n      try {\r\n        await request(\r\n          `/api/conversation/${message.conversation._id}`,\r\n          \"DELETE\"\r\n        );\r\n        history.push(\"/messages\");\r\n        setConversations((prevState: any) => {\r\n          // console.log(\"message\", message);\r\n          const newArr = prevState.filter((el: any) => {\r\n            return el._id !== message.conversation._id;\r\n          });\r\n          return newArr;\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await request(`/api/message/${message._id}`, \"DELETE\");\r\n        setConversations((prevState: any) => {\r\n          // console.log(\"message\", message);\r\n          console.log(\"i'm deleting a message\", res.readMsg);\r\n          const conversation = prevState.find(\r\n            (el: any) => el._id === message.conversation._id\r\n          );\r\n\r\n          const conversationIdx = prevState.findIndex(\r\n            (el: any) => el._id === message.conversation._id\r\n          );\r\n\r\n          const newMessagesArr = conversation.messages.filter((el: any) => {\r\n            return el._id !== message._id;\r\n          });\r\n\r\n          const updatedConversation = {\r\n            ...conversation,\r\n            messages: newMessagesArr,\r\n          };\r\n\r\n          const newConversations = [\r\n            ...prevState.slice(0, conversationIdx),\r\n            updatedConversation,\r\n            ...prevState.slice(conversationIdx + 1),\r\n          ];\r\n\r\n          return newConversations;\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(\"is me\", isMe);\r\n    if (!isMe && !message.isRead) {\r\n      console.log(\"read\");\r\n      handleReadMessage();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper isRead={message.isRead}>\r\n      <Avatar size=\"medium-small\" src={message.user.avatar} />\r\n      <MessageInfo>\r\n        <MessageHeader>\r\n          <CustomLink to={`/profile/${message.user._id}`}>\r\n            {message.user.firstName} {message.user.lastName}\r\n          </CustomLink>\r\n          {\"  \"}\r\n          <Date>{date}</Date>\r\n        </MessageHeader>\r\n        {message.content && <MessageContent>{message.content}</MessageContent>}\r\n\r\n        {message.images &&\r\n          message.images.map((image: any, idx: number) => {\r\n            return <Image key={idx} src={image.url} />;\r\n          })}\r\n      </MessageInfo>\r\n      <TrashIcon onClick={handleDeleteMessage} />\r\n      <div style={{ position: \"absolute\", bottom: 0 }} id={message._id}></div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useContext, useRef, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n// import { scroll } from \"react-scroll\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../assets/icons/image-upload-icon.svg\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { useUploadImages } from \"../../hooks/useUploadImages\";\r\nimport {\r\n  Avatar,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../styled-components/global\";\r\nimport Emojis from \"../Emojis\";\r\nimport { ReactComponent as CrossIcon } from \"../../assets/icons/cross-icon.svg\";\r\nimport Spinner from \"../Spinner\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\n\r\nconst PostCommentWrapper = styled.div`\r\n  position: relative;\r\n  form {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    padding: 10px 15px;\r\n  }\r\n  textarea {\r\n    display: block;\r\n    border: 1px solid var(--text-color-secondary);\r\n    border-radius: var(--border-radius-primary);\r\n    padding: 11px;\r\n    padding-right: 65px;\r\n    width: 100%;\r\n    position: relative;\r\n    overflow-y: hidden;\r\n    ::placeholder {\r\n      color: var(--text-color-secondary);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ImageUpload = styled.div`\r\n  position: absolute;\r\n  top: 18px;\r\n  right: 55px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 37px;\r\n  height: 37px;\r\n  margin-right: 15px;\r\n  border-radius: 100px;\r\n`;\r\n\r\nconst ButtonWrapper = styled.button`\r\n  margin-left: 10px;\r\n  padding-top: 5px;\r\n  background: none;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n    fill: var(--color-dark-secondary);\r\n    :hover {\r\n      fill: var(--text-color-secondary);\r\n    }\r\n  }\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  /* margin-left: 15px;\r\n  margin-bottom: 13px; */\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    width: 20px;\r\n    fill: white;\r\n  }\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n      padding: 15px;\r\n      padding-top: 0;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n  // setConversation: React.Dispatch<React.SetStateAction<any[]>>;\r\n};\r\n\r\nconst SendMessageBox: React.FC<Props> = ({\r\n  // setConversation,\r\n  conversation,\r\n}) => {\r\n  const [text, setText] = useState<string>(\"\");\r\n  const {\r\n    images,\r\n    setImages,\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n  // const textAreaRef = useRef<HTMLTextAreaElement>(null);\r\n  const ref = useRef<HTMLFormElement>(null);\r\n  const imageUploadRef = useRef<null | HTMLInputElement>(null);\r\n  const [textAreaHeight, setTextAreaHeight] = useState(\"auto\");\r\n  // const { conversation } = useContext(ConversationContext);\r\n  const { meUserData, socket, setConversations } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const handleChange = (e: any): void => {\r\n    // console.log(\"change\", e.target);\r\n    setTextAreaHeight(\"auto\");\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setText(text + emoji);\r\n  };\r\n\r\n  const handleCreateMessage = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if ((!text && images.length === 0) || imageLoading) {\r\n      return;\r\n    }\r\n\r\n    // const newRes = {\r\n    //   createdAt: new Date().toISOString(),\r\n    //   messages,\r\n    // };\r\n\r\n    const newMessageId = uuidv4();\r\n\r\n    const newMessage = {\r\n      content: text,\r\n      conversation: {\r\n        createdAt: new Date().toISOString(),\r\n        messages: [...conversation.messages],\r\n        updatedAt: new Date().toISOString(),\r\n        users: [...conversation.users],\r\n        _id: conversation._id,\r\n      },\r\n      user: {\r\n        firstName: meUserData?.firstName,\r\n        lastName: meUserData?.lastName,\r\n        avatar: meUserData?.avatar,\r\n        _id: meUserData?._id,\r\n      },\r\n      createdAt: new Date().toISOString(),\r\n      images,\r\n      isRead: false,\r\n      updatedAt: new Date().toISOString(),\r\n      _id: newMessageId,\r\n    };\r\n\r\n    setText(\"\");\r\n    setImages([]);\r\n\r\n    setConversations((prevState: any) => {\r\n      //new array of conversations\r\n      const newArr = prevState.filter(\r\n        (el: any) => el._id !== newMessage.conversation._id\r\n      );\r\n\r\n      const currentConv = prevState.find(\r\n        (el: any) => el._id === newMessage.conversation._id\r\n      );\r\n      const updatedConv = {\r\n        ...currentConv,\r\n        messages: [...currentConv.messages, newMessage],\r\n      };\r\n\r\n      return [updatedConv, ...newArr];\r\n    });\r\n\r\n    const res = await request(\"/api/message\", \"POST\", {\r\n      content: text,\r\n      images,\r\n      conversationId: conversation._id,\r\n    });\r\n\r\n    setConversations((prevState: any) => {\r\n      const newArr = prevState.filter(\r\n        (el: any) => el._id !== res.newMessage.conversation._id\r\n      );\r\n\r\n      const currentConv = prevState.find(\r\n        (el: any) => el._id === res.newMessage.conversation._id\r\n      );\r\n\r\n      const apiMessages = currentConv.messages.filter(\r\n        (el: any) => el._id !== newMessageId\r\n      );\r\n      const updatedConv = {\r\n        ...currentConv,\r\n        messages: [...apiMessages, res.newMessage],\r\n      };\r\n\r\n      return [updatedConv, ...newArr];\r\n    });\r\n\r\n    console.log(\"MESSAGE RES\", res);\r\n\r\n    // console.log(\"comment res\", res);\r\n\r\n    // setConversation((prevState: any) => {\r\n    //   const messages = [...prevState?.messages, res.newMessage];\r\n    //   const newConversation = {\r\n    //     ...prevState,\r\n    //     messages,\r\n    //   };\r\n    //   // console.log(\"state new\", newConversation);\r\n\r\n    //   return newConversation;\r\n    // });\r\n\r\n    const notification = {\r\n      user: meUserData,\r\n      recipients: [...conversation.users],\r\n      text: `sent you amessage: ${res.newMessage.content.slice(0, 70)}${\r\n        res.newMessage.content.length > 70 ? \"...\" : \"\"\r\n      }`,\r\n      url: `/${conversation}/${conversation._id}`,\r\n    };\r\n\r\n    socket.emit(\"createMessage\", res.newMessage);\r\n    socket.emit(\"createMessageNotification\", notification);\r\n\r\n    // document.getElementById(res.newMessage._id)?.scrollIntoView();\r\n  };\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      ref?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   // setParentHeight(`${textAreaRef.current!.scrollHeight}px`);\r\n  //   setTextAreaHeight(`${textAreaRef.current!.scrollHeight}px`);\r\n  //   console.log(textAreaRef.current!.scrollHeight);\r\n  // }, [text]);\r\n  return (\r\n    <PostCommentWrapper>\r\n      <form ref={ref} onSubmit={handleCreateMessage}>\r\n        <Avatar\r\n          size=\"medium-small\"\r\n          style={{ marginRight: \"15px\" }}\r\n          src={meUserData?.avatar}\r\n        />\r\n        <TextArea\r\n          $focuse\r\n          placeholder={\"Write something...\"}\r\n          style={{ resize: \"none\" }}\r\n          onChange={handleChange}\r\n          value={text}\r\n          onKeyDown={handleKeyPress}\r\n        />\r\n\r\n        {/* <textarea\r\n          ref={textAreaRef}\r\n          rows={1}\r\n          style={{\r\n            minHeight: textAreaHeight,\r\n            resize: \"none\",\r\n          }}\r\n          placeholder={\"Write something...\"}\r\n          onKeyDown={handleKeyPress}\r\n          onChange={handleChange}\r\n          value={text}\r\n        /> */}\r\n        <ImageUpload>\r\n          <label>\r\n            <ImageUploadIcon />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              accept=\"image/*\"\r\n              // multiple\r\n              onChange={handleUploadImages}\r\n              onKeyPress={handleKeyPress}\r\n              ref={imageUploadRef}\r\n              style={{ display: \"none\" }}\r\n            />\r\n          </label>\r\n        </ImageUpload>\r\n\r\n        <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n        {/* <ButtonWrapper type=\"submit\" disabled={!text}>\r\n          <PublishCommentIcon />\r\n        </ButtonWrapper> */}\r\n      </form>\r\n      <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n        <>\r\n          {imageLoading && (\r\n            <ImageLoading>\r\n              <Spinner />\r\n            </ImageLoading>\r\n          )}\r\n          {images.length > 0 && (\r\n            <PreviewImagesWrapper>\r\n              {images.map((image, idx) => {\r\n                return (\r\n                  <PreviewImageWrapper key={image.public_id}>\r\n                    <DeleteImageIcon\r\n                      onClick={handleRemoveImage.bind(null, image)}\r\n                    >\r\n                      <CrossIcon />\r\n                    </DeleteImageIcon>\r\n                    <PreviewImage src={image.url} />\r\n                  </PreviewImageWrapper>\r\n                );\r\n              })}\r\n            </PreviewImagesWrapper>\r\n          )}\r\n        </>\r\n      </ImagesPreviewWrapper>\r\n    </PostCommentWrapper>\r\n  );\r\n};\r\n\r\nexport default SendMessageBox;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\nimport { Separator } from \"../../styled-components/global\";\r\nimport Message from \"./Message\";\r\nimport SendMessageBox from \"./SendMessageBox\";\r\n\r\nconst MessagesWrapper = styled.div``;\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 15px 0;\r\n  height: 100%;\r\n  min-height: 100%;\r\n  display: flex;\r\n\r\n  flex-direction: column;\r\n  /* justify-content: flex-end;  */\r\n`;\r\n\r\nconst Wrap = styled.div<{ height: number }>`\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  /* &::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    width: 15px;\r\n    height: 15px;\r\n    border: 1px solid black;\r\n  } */\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: none;\r\n    /* box-shadow: inset 0 0 10px black; */\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    background: var(--color-dark-secondary);\r\n    box-shadow: inset 0 0 5px $pale-orange;\r\n  }\r\n\r\n  ${(props) =>\r\n    props.height &&\r\n    `min-height: calc(${props.height}px - 250px);\r\n      max-height: calc(${props.height}px - 250px);\r\n  `}\r\n  > :first-child {\r\n    margin-top: auto !important;\r\n  }\r\n  /* flex-direction: row; */\r\n`;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n};\r\n\r\nconst MessagesList: React.FC<Props> = ({ conversation }) => {\r\n  // const { conversation, setConversation } = useContext(ConversationContext);\r\n  // const [messages, setMessages] = useState(conversation.messages);\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  const [dimensions, setDimensions] = React.useState({\r\n    height: window.innerHeight,\r\n    width: window.innerWidth,\r\n  });\r\n\r\n  function handleResize() {\r\n    setDimensions({\r\n      height: window.innerHeight,\r\n      width: window.innerWidth,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    document\r\n      .getElementById(\r\n        conversation.messages[conversation.messages.length - 1]._id\r\n      )\r\n      ?.scrollIntoView();\r\n  }, [conversation]);\r\n\r\n  //   console.log(\"MESSAGES\", conversationMessages);\r\n  return (\r\n    <MessagesWrapper>\r\n      {/* {console.log(\"STATE MESSAGES CHANGE\", conversation)} */}\r\n      {/* {console.log(\"STATE MESSAGES CHANGE\", conversation.messages)} */}\r\n      <Wrap height={dimensions.height}>\r\n        {console.log(\"messages list updated\")}\r\n        <Wrapper>\r\n          {conversation.messages.map((message: any) => {\r\n            if (message.user._id === meUserData?._id) {\r\n              return (\r\n                <Message\r\n                  key={message._id}\r\n                  message={message}\r\n                  isMe={true}\r\n                  messages={conversation.messages}\r\n                />\r\n              );\r\n            }\r\n            return (\r\n              <Message\r\n                key={message._id}\r\n                message={message}\r\n                isMe={false}\r\n                messages={conversation.messages}\r\n              />\r\n            );\r\n          })}\r\n        </Wrapper>\r\n      </Wrap>\r\n      {/* {console.log(\"dimentions\", dimensions.height)} */}\r\n\r\n      <Separator />\r\n      <SendMessageBox conversation={conversation} />\r\n    </MessagesWrapper>\r\n  );\r\n};\r\n\r\nexport default MessagesList;\r\n\r\n// if (message.user._id === meUserData?._id) {\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport MessagesNavigation from \"../components/conversation-page/MessagesNavigation\";\r\nimport MessagesList from \"../components/conversation-page/MessagesList\";\r\n// import { ConversationContext } from \"../context/ConversationContext\";\r\nimport { useLoadConversation } from \"../hooks/useLoadConversation\";\r\n// import { SocketMessagesClient } from \"../SocketMessagesClient\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst ConversationPage = () => {\r\n  const { id } = useParams<any>();\r\n  const { conversations } = useContext(AuthContext);\r\n  const history = useHistory();\r\n  // const { conversation, setConversation, loading } = useLoadConversation(id);\r\n\r\n  console.log(\"conversationsSSS\", conversations);\r\n\r\n  const conversation = conversations.find((el: any) => el._id === id);\r\n  if (!conversation) {\r\n    return (\r\n      <div style={{ minHeight: \"550px\" }}>\r\n        <SpinnerWrapper>\r\n          <Spinner />\r\n        </SpinnerWrapper>\r\n      </div>\r\n    );\r\n  }\r\n  console.log(\"CONVERSATION\", conversation);\r\n  // if (conversations.length === 0) {\r\n  // }\r\n\r\n  // return <></>;\r\n\r\n  return (\r\n    <>\r\n      {/* <SocketMessagesClient /> */}\r\n      <MessagesNavigation conversation={conversation}>\r\n        <MessagesList conversation={conversation} />\r\n      </MessagesNavigation>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConversationPage;\r\n\r\n// //{\" \"}\r\n// <ConversationContext.Provider value={{ conversation, setConversation }}></ConversationContext.Provider>\r\n//   //{\" \"}\r\n//   </ConversationContext.Provider>\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\n// import { ConversationContext } from \"./context/ConversationContext\";\r\nimport { MessagesContext } from \"./context/MessagesContext\";\r\nimport { OnlineContext } from \"./context/OnlineContext\";\r\nimport useNotistack from \"./hooks/useNotistack\";\r\n\r\nexport const SocketClient = () => {\r\n  const {\r\n    meUserData,\r\n    socket,\r\n    // notifications,\r\n    setNotifications,\r\n    // conversations,\r\n    setConversations,\r\n  } = useContext(AuthContext);\r\n  const { setOnline } = useContext(OnlineContext);\r\n  // const { conversation, setConversation } = useContext(ConversationContext);\r\n  // console.log(\"SFJBFHF\", conversation);\r\n  const { handleNotification } = useNotistack();\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createNotificationToClient\", (notification: any) => {\r\n      // console.log(\"createNotificationToClient\", notification);\r\n      setNotifications((prevState: any) => {\r\n        console.log(\"setting notifications...\");\r\n        return [notification, ...prevState];\r\n      });\r\n      handleNotification(\r\n        notification,\r\n        // `${notification.user.firstName} ${notification.user.lastName} ${notification.text}`,\r\n        \"default\"\r\n      );\r\n    });\r\n\r\n    return () => socket.off(\"createNotificationToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"joinUserToClient\", (users: any) => {\r\n      // console.log(\"ONLINE USERS CLIENT\", users);\r\n      setOnline(users);\r\n    });\r\n\r\n    return () => socket.off(\"joinUserToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"disconnectUserToClient\", (users: any) => {\r\n      // console.log(\"disconnect users\", users);\r\n      setOnline(users);\r\n    });\r\n\r\n    return () => socket.off(\"disconnectUserToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createMessageNotificationToClient\", (notification: any) => {\r\n      // console.log(\"createNotificationToClient\", notification);\r\n      // setNotifications((prevState: any) => {\r\n      //   console.log(\"setting notifications...\");\r\n      //   return [notification, ...prevState];\r\n      // });\r\n      if (window.location.href.includes(\"conversation\")) {\r\n        return;\r\n      }\r\n      handleNotification(\r\n        notification,\r\n        // `${notification.user.firstName} ${notification.user.lastName} ${notification.text}`,\r\n        \"default\"\r\n      );\r\n    });\r\n    return () => socket.off(\"createMessageNotificationToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"joinUser\", meUserData?._id);\r\n    // console.log(\"emitted join user\");\r\n  }, [socket, meUserData?._id]);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"checkUsersOnline\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"checkUsersOnlineToMe\", (users: any) => {\r\n      // console.log(\"checkUsersOnlineToMe\", users);\r\n      setOnline(users);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"checkUsersOnlineToMe\");\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createMessageToClient\", (message: any) => {\r\n      console.log(\"createMessageToClient\", message);\r\n\r\n      // if (!window.location.href.includes(\"id\")) {\r\n\r\n      setConversations((prevState: any) => {\r\n        console.log(\"set conversations\");\r\n\r\n        const newArr = prevState.filter(\r\n          (el: any) => el._id !== message.conversation._id\r\n        );\r\n\r\n        const currentConv = prevState.find(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const updatedConv = {\r\n          ...currentConv,\r\n          messages: [...currentConv.messages, message],\r\n        };\r\n        return [updatedConv, ...newArr];\r\n      });\r\n\r\n      return () => {\r\n        socket.off(\"createConversationsToClient\");\r\n      };\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createConversationToClient\", (conversation: any) => {\r\n      console.log(\"createConversationToClient\", conversation);\r\n\r\n      // if (!window.location.href.includes(\"id\")) {\r\n\r\n      setConversations((prevState: any) => {\r\n        console.log(\"set conversations\");\r\n        return [conversation, ...prevState];\r\n      });\r\n\r\n      return () => {\r\n        socket.off(\"createConversationToClient\");\r\n      };\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"readConversationToClient\", (message: any) => {\r\n      console.log(\"readConversationToClient\", message);\r\n\r\n      setConversations((prevState: any) => {\r\n        const conversation = prevState.find(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const conversationIdx = prevState.findIndex(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const conversationMsgIdx = conversation.messages.findIndex(\r\n          (el: any) => el._id === message._id\r\n        );\r\n        const messages = [\r\n          ...conversation.messages.slice(0, conversationMsgIdx),\r\n          message,\r\n          ...conversation.messages.slice(conversationMsgIdx + 1),\r\n        ];\r\n\r\n        const updatedConversation = {\r\n          ...conversation,\r\n          messages,\r\n        };\r\n\r\n        console.log(\"setConversations in sockets\", updatedConversation);\r\n\r\n        // console.log(\"conversationIdx\", conversationIdx);\r\n\r\n        const newConversations = [\r\n          ...prevState.slice(0, conversationIdx),\r\n          updatedConversation,\r\n          ...prevState.slice(conversationIdx + 1),\r\n        ];\r\n\r\n        // console.log(\"newConversations\", newConversations);\r\n\r\n        return newConversations;\r\n      });\r\n\r\n      // if (!window.location.href.includes(\"id\")) {\r\n\r\n      // setConversations((prevState: any) => {\r\n      //   console.log(\"set conversations\");\r\n\r\n      //   const newArr = prevState.filter(\r\n      //     (el: any) => el._id !== message.conversation._id\r\n      //   );\r\n\r\n      //   const currentConv = prevState.find(\r\n      //     (el: any) => el._id === message.conversation._id\r\n      //   );\r\n      //   const updatedConv = {\r\n      //     ...currentConv,\r\n      //     messages: [...currentConv.messages, message],\r\n      //   };\r\n\r\n      //   return [...newArr, updatedConv];\r\n      // });\r\n\r\n      return () => {\r\n        socket.off(\"readConversationToClient\");\r\n      };\r\n    });\r\n  }, [socket]);\r\n\r\n  // useEffect(() => {\r\n  //   socket.on(\"readMessageToClient\", (message: any) => {\r\n  //     console.log(\"readMessageToClient conversations\", message);\r\n\r\n  //     // if (!window.location.href.includes(\"conversation\")) return;\r\n\r\n  //   });\r\n\r\n  //   return () => {\r\n  //     socket.off(\"readMessageToClient\");\r\n  //   };\r\n  // }, [socket]);\r\n\r\n  return <></>;\r\n};\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport UserFriendsPage from \"../components/friends-page/user/UserFriendsPage\";\r\nimport PersonalFriendsPage from \"../components/friends-page/personal/PersonalFriendsPage\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport {\r\n  ContentBox,\r\n  Separator,\r\n  Input,\r\n  ContentBoxContainer,\r\n  CustomLink,\r\n  AvatarOnlineWrapper,\r\n  Avatar,\r\n} from \"../styled-components/global\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport styled from \"styled-components\";\r\nimport { useDebounce } from \"../hooks/useDebounce\";\r\nimport { ReactComponent as SearchIcon } from \"../assets/icons/looking-glass-icon.svg\";\r\nimport useModal from \"../hooks/useModal\";\r\nimport { OnlineContext } from \"../context/OnlineContext\";\r\nimport SendMessageModal from \"../components/SendMessageModal\";\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 550px;\r\n  width: 550px;\r\n`;\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst InputWrapper = styled.div`\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 14px;\r\n    transform: translateY(-50%);\r\n  }\r\n`;\r\n\r\nconst CustomLinkButton = styled.button`\r\n  color: var(--color-primary);\r\n  background: none;\r\n  font-weight: 600;\r\n  :hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const UserCardWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n`;\r\n\r\nexport const UserCardInfo = styled.div``;\r\n\r\nconst SearchPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [inputText, setInputText] = useState<string>(\"\");\r\n  const { request, loading } = useHttp();\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  const debouncedText = useDebounce(inputText, 250);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputText(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // if (debouncedText) {\r\n    request(`/api/search/users?search=${debouncedText}`, \"GET\")\r\n      .then((res) => {\r\n        console.log(\"search res\", res);\r\n        const resUsers = res.users.filter((el) => el._id !== meUserData?._id);\r\n        setUsers(resUsers);\r\n      })\r\n      .catch((err) => console.log(err));\r\n    // } else {\r\n    //   setUsers([]);\r\n    // }\r\n  }, [debouncedText]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox style={{ minHeight: 500 }}>\r\n        <ContentBoxContainer>\r\n          Users{\" \"}\r\n          <span style={{ color: \"var(--text-color-secondary)\" }}>\r\n            {users.length}\r\n          </span>\r\n        </ContentBoxContainer>\r\n        <Separator />\r\n        <InputWrapper>\r\n          <SearchIcon />\r\n          <Input\r\n            style={{\r\n              fontSize: \"var(--text-size-secondary)\",\r\n              border: \"none\",\r\n              padding: \"14px 35px\",\r\n            }}\r\n            placeholder=\"Search...\"\r\n            value={inputText}\r\n            onChange={handleChange}\r\n          />\r\n        </InputWrapper>\r\n\r\n        <Separator />\r\n        {loading ? (\r\n          <SpinnerWrapper>\r\n            <Spinner />\r\n          </SpinnerWrapper>\r\n        ) : (\r\n          <>\r\n            {users.map((user: any) => {\r\n              return (\r\n                <React.Fragment key={user._id}>\r\n                  <UserCard user={user} />\r\n                  <Separator />\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </>\r\n        )}\r\n      </ContentBox>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n\r\nconst UserCard = ({ user }) => {\r\n  const { online } = useContext(OnlineContext);\r\n  const { openModal, modalIsOpen, closeModal } = useModal();\r\n  return (\r\n    <UserCardWrapper>\r\n      <AvatarOnlineWrapper\r\n        onlineType={online[user._id ? user._id : \"ds\"] ? true : false}\r\n      >\r\n        <Avatar\r\n          size=\"medium\"\r\n          src={user.avatar}\r\n          style={{ marginRight: \"15px\" }}\r\n        />\r\n      </AvatarOnlineWrapper>\r\n\r\n      <UserCardInfo>\r\n        <CustomLink\r\n          style={{ marginBottom: \"7px\", display: \"block\" }}\r\n          color=\"black\"\r\n          to={`/profile/${user._id}`}\r\n        >\r\n          {user.firstName} {user.lastName}\r\n        </CustomLink>\r\n\r\n        <CustomLinkButton onClick={openModal}>Send message</CustomLinkButton>\r\n\r\n        <SendMessageModal\r\n          openModal={openModal}\r\n          closeModal={closeModal}\r\n          modalIsOpen={modalIsOpen}\r\n          userData={user}\r\n        />\r\n      </UserCardInfo>\r\n    </UserCardWrapper>\r\n  );\r\n};\r\n","import { useContext, forwardRef, useCallback, useState } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Layout from \"./components/Layout\";\r\nimport EditProfilePage from \"./pages/EditProfilePage\";\r\nimport FriendsPage from \"./pages/FriendsPage\";\r\nimport MessagesPage from \"./pages/MessagesPage\";\r\nimport SignInSignUpPage from \"./pages/SignInSignUpPage\";\r\n// import SignUpPage from \"./pages/SignUpPage\";\r\nimport { SnackbarProvider, useSnackbar } from \"notistack\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport NotFoundPage from \"./pages/NotFoundPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport ConversationPage from \"./pages/ConversationPage\";\r\nimport { SocketClient } from \"./SocketClient\";\r\nimport CustomNotification from \"./components/CustomNotification\";\r\nimport SignInSignUp from \"./pages/SignInSignUpPage\";\r\nimport styled from \"styled-components\";\r\nimport Spinner from \"./components/Spinner\";\r\nimport SearchPage from \"./pages/SearchPage\";\r\n// import { MessagesContext } from \"./context/MessagesContext\";\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n`;\r\n\r\nexport const useRoutes = (\r\n  isAuthenticated: boolean,\r\n  meUserId: string | undefined,\r\n  ready: boolean\r\n) => {\r\n  if (!ready) {\r\n    return (\r\n      <SpinnerWrapper>\r\n        <Spinner />\r\n      </SpinnerWrapper>\r\n    );\r\n  }\r\n\r\n  if (isAuthenticated) {\r\n    return (\r\n      <Layout>\r\n        <SnackbarProvider\r\n          maxSnack={3}\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"right\",\r\n          }}\r\n          autoHideDuration={10000}\r\n        >\r\n          <SocketClient />\r\n          <MuiPickersUtilsProvider utils={MomentUtils}>\r\n            <Switch>\r\n              {/* <Redirect exact from=\"/\" to={`/profile/${meUserId}`} /> */}\r\n              <Route path=\"/messages\" exact component={MessagesPage} />\r\n              <Route\r\n                path=\"/conversation/:id\"\r\n                exact\r\n                component={ConversationPage}\r\n              />\r\n              <Route path=\"/search\" component={SearchPage} />\r\n              <Route path=\"/friends\" component={FriendsPage} />\r\n              <Route\r\n                path=\"/profile/edit/:id\"\r\n                exact\r\n                component={EditProfilePage}\r\n              />\r\n              <Route path={`/profile/:id`} exact component={ProfilePage} />\r\n              <Redirect to={`/profile/${meUserId}`} />\r\n              {/* <Route path=\"*\" component={NotFoundPage} /> */}\r\n            </Switch>\r\n          </MuiPickersUtilsProvider>\r\n        </SnackbarProvider>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Redirect exact from=\"/\" to=\"/signup\" />\r\n      {/* <Route path=\"/signin\" exact component={SignInPage} /> */}\r\n      <Route path=\"/signup\" exact component={SignInSignUpPage} />\r\n      <Redirect to=\"/signup\" />\r\n    </Switch>\r\n  );\r\n};\r\n","import { useState, useCallback, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { useHistory } from \"react-router\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\n\r\nconst storageName = \"firstLogin\";\r\n\r\nexport const useAuth = () => {\r\n  const [accessToken, setAccessToken] = useState<null | string>(null);\r\n  const [ready, setReady] = useState<boolean>(false);\r\n  const [socket, setSocket] = useState<any>(null);\r\n  const [notifications, setNotifications] = useState<any>([]);\r\n  const [conversations, setConversations] = useState<any[]>([]);\r\n  const [meUserData, setMeUserData] = useState<null | IUserData>(null);\r\n  const [online, setOnline] = useState<any[]>([]);\r\n\r\n  const { request } = useHttp();\r\n\r\n  const getNotifications = useCallback(async (token) => {\r\n    try {\r\n      // console.log(\"making a request to notifications\", accessToken);\r\n      const allNotifications = await request(\"/api/notifies\", \"GET\", null, {\r\n        Authorization: `Bearer ${token}`,\r\n      });\r\n      console.log(\"notifications from server\", allNotifications);\r\n      setNotifications(allNotifications.notifications);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }, []);\r\n\r\n  const getConversations = useCallback(async (token) => {\r\n    // console.log(\"making a request to conversations\", accessToken);\r\n    const res = await request(`/api/conversations`, \"GET\", null, {\r\n      Authorization: `Bearer ${token}`,\r\n    });\r\n    setConversations((prevState) => {\r\n      return res.conversations;\r\n    });\r\n  }, []);\r\n\r\n  const login = useCallback(async (jwtToken: string, data: IUserData) => {\r\n    // console.log(\"jwtToken\", jwtToken);\r\n    setMeUserData(data);\r\n    setAccessToken(jwtToken);\r\n    await getNotifications(jwtToken);\r\n    await getConversations(jwtToken);\r\n\r\n    // console.log(\"logged in\", data, jwtToken);\r\n    // console.log(\"happended\");\r\n\r\n    localStorage.setItem(storageName, \"true\");\r\n    // history.push(\"/profile/:id\");\r\n    // console.log(history);\r\n\r\n    // localStorage.setItem(\r\n    //   storageName,\r\n    //   JSON.stringify({\r\n    //     userData: data,\r\n    //     token: jwtToken,\r\n    //   })\r\n    // );\r\n  }, []);\r\n\r\n  const logout = useCallback((): void => {\r\n    setAccessToken(null);\r\n    setMeUserData(null);\r\n    localStorage.removeItem(storageName);\r\n  }, []);\r\n\r\n  const refreshToken = useCallback(async () => {\r\n    const firstLogin = localStorage.getItem(storageName);\r\n    // console.log(\"use effect\");\r\n\r\n    if (firstLogin) {\r\n      // console.log(\"exists\");\r\n\r\n      try {\r\n        // console.log(\"start refreshing token\");\r\n        const data = await request(\r\n          \"/api/auth/refresh_token\",\r\n          \"POST\"\r\n          // null,\r\n          // {}\r\n        );\r\n        // console.log(\"complete refreshing token\", data.accessToken);\r\n        login(data.accessToken, data.userData);\r\n\r\n        console.log(\"firing ready\");\r\n        setReady(true);\r\n\r\n        // console.log(\"client\", data.userData);\r\n      } catch (e) {\r\n        console.log(e);\r\n        setReady(true);\r\n      }\r\n    } else {\r\n      setReady(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"accessToken\", accessToken);\r\n\r\n    refreshToken();\r\n\r\n    const socketItem = io();\r\n    setSocket(socketItem);\r\n    // const data = JSON.parse(localStorage.getItem(storageName)!);\r\n    // // request('');\r\n    // if (data && data.token) {\r\n    //   login(data.token, data.userData);\r\n    // }\r\n    return () => {\r\n      socketItem.close();\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    login,\r\n    logout,\r\n    accessToken,\r\n    meUserData,\r\n    setMeUserData,\r\n    ready,\r\n    socket,\r\n    notifications,\r\n    setNotifications,\r\n    conversations,\r\n    setConversations,\r\n    online,\r\n    setOnline,\r\n  };\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n","import { useState } from \"react\";\nimport \"./App.css\";\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport { useRoutes } from \"./routes\";\n\nimport { useAuth } from \"./hooks/useAuth\";\n\nimport { GlobalStyle } from \"./styled-components/global\";\n\nimport { OnlineContext } from \"./context/OnlineContext\";\nimport ScrollToTop from \"./ScrollToTop\";\n\nfunction App() {\n  const {\n    login,\n    logout,\n    accessToken,\n    meUserData,\n    setMeUserData,\n    ready,\n    socket,\n    notifications,\n    setNotifications,\n    conversations,\n    setConversations,\n  } = useAuth();\n\n  const [online, setOnline] = useState<any[]>([]);\n\n  // const [value, setValue] = useState(0);\n\n  // console.log(\"token\", accessToken);\n  const isAuthenticated = !!accessToken;\n\n  const routes = useRoutes(isAuthenticated, meUserData?._id, ready);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        accessToken,\n        meUserData,\n        setMeUserData,\n        isAuthenticated: isAuthenticated,\n        login,\n        logout,\n        socket,\n        notifications,\n        setNotifications,\n        conversations,\n        setConversations,\n\n        // loading,\n      }}\n    >\n      <OnlineContext.Provider value={{ online, setOnline }}>\n        <GlobalStyle />\n\n        <Router>\n          <ScrollToTop />\n          {routes}\n        </Router>\n      </OnlineContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}