{"version":3,"sources":["assets/icons/profile-icon.svg","context/AuthContext.tsx","assets/icons/messages-icon.svg","assets/icons/friends-icon.svg","assets/icons/arrow-more-icon.svg","assets/icons/looking-glass-icon.svg","styled-components/global.tsx","components/useStyles.tsx","hooks/useHttp.tsx","hooks/useOnClickOutside.tsx","assets/icons/notifications-icon.svg","components/Search.tsx","hooks/useDebounce.tsx","assets/icons/footer/gitHub.svg","hooks/useTippyVisibility.tsx","components/profile-page/Notifications.tsx","assets/icons/footer/react.svg","assets/icons/footer/mongoDB.svg","assets/icons/footer/socketIO.svg","assets/icons/footer/nodeJS.svg","assets/icons/footer/typescript.svg","assets/icons/cross-icon.svg","components/Footer.tsx","components/Layout.tsx","assets/icons/cogwheel-icon.svg","components/CustomNotification.tsx","components/CustomPageNotification.tsx","hooks/useNotistack.tsx","components/Spinner.tsx","pages/EditProfilePage.tsx","context/OnlineContext.tsx","hooks/useQuery.tsx","assets/icons/image-upload-icon.svg","components/friends-page/styles.tsx","hooks/useUploadImages.tsx","assets/icons/emoji-icon.svg","assets/icons/trash-icon.svg","components/Emojis.tsx","components/SendMessageModal.tsx","hooks/useModal.tsx","components/friends-page/FriendCard.tsx","components/friends-page/FriendsNavigation.tsx","components/friends-page/user/UserFriendsPage.tsx","components/friends-page/FriendList.tsx","components/friends-page/personal/FriendRequestCard.tsx","components/friends-page/personal/FriendRequestList.tsx","components/friends-page/FriendsMenu.tsx","components/friends-page/personal/PersonalFriendsPage.tsx","pages/FriendsPage.tsx","components/messages-page/Conversation.tsx","pages/MessagesPage.tsx","components/friends-page/SignIn.tsx","components/friends-page/SignUp.tsx","pages/SignInSignUpPage.tsx","assets/icons/like-icon_disabled.svg","components/profile-page/Friends.tsx","context/UserContext.tsx","components/profile-page/profile-actions/other-user/FriendRequestButton.tsx","components/profile-page/profile-actions/other-user/useFriendRequest.tsx","components/profile-page/profile-actions/other-user/SendMessageButton.tsx","components/profile-page/profile-actions/other-user/OtherUserActions.tsx","hooks/useCheckRelationToMe.tsx","components/profile-page/profile-actions/personal/EditProfileButton.tsx","components/profile-page/profile-actions/personal/PersonalActions.tsx","components/profile-page/SubmitPostBox.tsx","assets/icons/like-icon_liked.svg","assets/icons/comment-icon.svg","assets/icons/image-remove-icon.svg","assets/icons/like-icon_filled.svg","components/profile-page/post/PostEdit.tsx","components/profile-page/post/PostSubmitComment.tsx","hooks/useLikeComment.tsx","assets/icons/arrow-icon_left.svg","components/profile-page/post/comments/Comment.tsx","components/profile-page/post/comments/Comments.tsx","hooks/useLikePost.tsx","components/profile-page/post/Post.tsx","components/profile-page/Wall.tsx","components/profile-page/Info.tsx","pages/ProfilePage.tsx","hooks/useLoadUser.tsx","components/conversation-page/MessagesNavigation.tsx","components/conversation-page/Message.tsx","components/conversation-page/SendMessageBox.tsx","components/conversation-page/MessagesList.tsx","pages/ConversationPage.tsx","SocketClient.tsx","hooks/useAuth.tsx","ScrollToTop.tsx","App.tsx","routes.tsx","reportWebVitals.ts","index.tsx"],"names":["_path","noop","AuthContext","createContext","accessToken","meUserData","setMeUserData","isAuthenticated","login","logout","socket","notifications","setNotifications","conversations","setConversations","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgProfileIcon","_ref","svgRef","title","titleId","props","id","xmlns","viewBox","ref","d","ForwardRef","SvgMessagesIcon","SvgFriendsIcon","SvgArrowMoreIcon","width","height","fill","GlobalStyle","createGlobalStyle","svgPrimaryStyle","css","svgPrimaryStyleNoHover","svgSecondaryStyle","CustomLink","styled","Link","color","CustomDate","div","Button","button","size","marginBottom","marginTop","marginRight","ContentBox","ContentBoxContainer","Input","input","paddingLeft","TextArea","TextareaAutosize","$focuse","Separator","Avatar","img","marginLeft","OptionsPopup","OptionsPopupSelect","NotificationsCount","top","right","AvatarOnlineWrapper","onlineType","useStyles","makeStyles","theme","createStyles","grow","flexGrow","menuButton","spacing","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","searchIcon","padding","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","transition","transitions","create","sectionDesktop","sectionMobile","root","appBar","zIndex","drawer","flexShrink","drawerPaper","drawerContainer","overflow","content","useHttp","useState","loading","setLoading","useContext","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","credentials","response","json","data","ok","Error","message","clearError","SvgLookingGlassIcon","useOnClickOutside","handler","useEffect","listener","event","el","current","contains","document","addEventListener","removeEventListener","InputWrapper","ResultsWrapper","Result","ResultAvatar","ResultName","Search","useRef","setIsFocused","users","setUsers","isFocused","inputText","setInputText","debouncedText","value","delay","debouncedValue","setDebouncedValue","setTimeout","clearTimeout","useDebounce","then","res","console","log","catch","err","onClick","style","fontSize","placeholder","onChange","e","map","user","to","_id","src","avatar","firstName","lastName","SvgNotificationsIcon","useTippyVisibility","visible","setVisible","show","hide","NotificationsIconWrapper","NotificationsPopup","NotificationsPopupSelect","isRead","NotificationInfo","NotificationText","NotificationDate","Notification","notification","date","DateTime","fromISO","createdAt","toLocaleString","day","month","hour","minute","handleReadNotification","prevState","notificIdx","findIndex","notific","slice","text","Notifications","unreadNotifications","filter","notif","notificationList","iteration","forEach","push","userNotificationsPopup","idx","interactive","placement","trigger","duration","offset","onClickOutside","onMount","SvgGitHub","focusable","className","role","SvgReact","_defs","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","SvgMongoDb","SvgSocketIo","SvgNodeJs","SvgTypescript","Wrapper","footer","Creator","CreatorInfo","CreatorName","ReactIconWrapper","NodeJsWrapper","MongoDBWrapper","SocketIOWrapper","TypescriptWrapper","Footer","location","useLocation","pathname","includes","translate","rel","href","Logo","Container","MainWrapper","Header","header","HeaderWrapper","Navigation","nav","NavigationLink","NavigationLinkIcon","UserNavbar","UserInfo","UserName","SearchWrapper","UserInfoPopup","UserInfoPopupSelect","Layout","children","handleLogOut","unReadMessagesCount","conversation","messages","pendingFriendRequestsCount","userInfoPopup","SvgCrossIcon","CustomNotification","forwardRef","type","closeSnackbar","useSnackbar","CustomPageNotification","useNotistack","enqueueSnackbar","handleNotification","variant","handlePageNotification","StyledSpinner","svg","Spinner","cx","cy","r","strokeWidth","ImageUpload","image","ImageLoading","EditField","EditTitle","EditContent","Title","EditProfilePage","auth","dateOfBirth","gender","aboutMe","city","setCredentials","readyToSubmit","setReadyToSubmit","avatarLoading","setAvatarLoading","Date","getDate","label","selectedDayOption","setSelectedDayOption","getMonth","selectedMonthOption","setSelectedMonthOption","getFullYear","selectedYearOption","setSelectedYearOption","toUpperCase","selectedGenderOption","setSelectedGenderOption","handleSubmit","preventDefault","Number","handleChange","name","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","handleChangeAvatar","files","resized","maxWidth","noValidate","onSubmit","accept","disabled","selectedOption","options","defaultValue","classNamePrefix","resize","OnlineContext","online","setOnline","useQuery","URLSearchParams","SvgCogwheelIcon","Options","FriendCardWrapper","FriendCardInfo","useUploadImages","images","setImages","imageLoading","setImageLoading","handleUploadImages","handleRemoveImage","public_id","SvgImageUploadIcon","SvgEmojiIcon","EmojiWrapper","EmojiPopup","EmojiIconWrapper","emojiList","Emojis","handleChooseEmoji","setOpen","emojiPopup","emoji","bind","onMouseEnter","onMouseLeave","SendMessagePopup","ButtonsWrapper","CrossIcon","Cross","PreviewImagesWrapper","PreviewImageWrapper","DeleteImageIcon","PreviewImage","count","ImagesPreviewWrapper","exists","SendMessageModal","modalIsOpen","closeModal","openModal","userData","setContent","imageUploadRef","existingConversation","find","some","handleCreateConversation","userIds","recipients","newMessage","emit","handleCreateMessage","conversationId","newArr","currentConv","handleKeyPress","shiftKey","dispatchEvent","Event","cancelable","bubbles","center","closeIcon","open","onClose","focusTrapped","classNames","overlay","modal","onKeyDown","onKeyPress","useModal","setIsOpen","CustomLinkButton","FriendCard","friend","isPersonal","handleDeleteFriend","friendRequest","friendRequests","req","recipient","requester","userId","newFriendsArr","friends","optionsPopup","FriendsNavigationWrapper","TabsWrapper","Tab","selected","FriendsNavigation","tabs","activeTab","history","useHistory","query","minHeight","tab","get","UserFriendsPage","setFriends","onlineFriends","NoFriends","FriendList","Fragment","FriendRequestCard","friendRequestType","friendRequestId","setFriendRequests","handleAcceptFriendRequest","resNotif","handleCancelFriendRequest","FriendRequestList","loadFriendRequests","Select","FriendsMenu","menuItems","selectedItem","setSelectedItem","item","PersonalFriendsPage","FriendsPage","SvgTrashIcon","WrapperLink","ConversationInfo","ConversationLastUser","ConversationLastText","ConversationLastTextWrapper","Count","Conversation","handleDeleteConversation","window","confirm","lastMessage","NoConversations","MessagesPage","conv","BoxTitle","SignIn","email","password","Authorization","Alert","severity","required","BoxSubTitle","SignUp","LogoWrapper","SignInSignUpPage","FriendsWrapper","Friend","FriendAvatar","FriendsList","FriendsTitle","FriendsTitleCount","span","Friends","slicedName","UserContext","setUserData","FriendRequestButton","relationToMe","setRelationToMe","handleSendFriendRequest","handleSendUnFriendRequest","meFriends","useFriendRequest","memo","SendMessageButton","OtherUserActions","otherUserData","status","checkRelationToUser","useCheckRelationToMe","EditProfileButton","PersonalActions","PostBoxWrapper","FormMainWrapper","FormFooter","SubmitPostBox","React","isFocus","setIsFocus","formWrapperRef","formRef","wall","post","paddingRight","minRows","multiple","SvgLikeIconDisabled","SvgLikeIconLiked","SvgCommentIcon","SvgImageRemoveIcon","PostEditContent","ImageRemoveIconWrapper","PostEditFooter","PostImage","PostEdit","handleEditMode","editText","setEditText","handleSubmitUpdatedPost","updatedPost","postIdx","pst","newWallArr","alt","PostCommentWrapper","PostSubmitComment","setComments","setText","handleCreateComment","postId","comment","useLikeComment","likes","setLikes","isLike","setIsLike","loadLike","setLoadLike","like","handleLikeComment","handleUnLikeComment","SvgLikeIconFilled","CommentWrapper","CommentContent","CommentText","CommentInfo","CommentOptions","EditPopup","EditPopupSelect","LikeIconWrapper","liked","LikeCount","Comment","canDelete","setCanDelete","handleDeleteComment","editPopup","PostCommentsWrapper","PostComments","comments","useLikePost","handleLikePost","handleUnLikePost","PostHeader","PostDate","PostOptions","EditPostPopup","EditPostPopupSelect","PostFooter","PostContent","PostText","PostImagesWrapper","CommentIconWrapper","Post","setEditMode","editMode","isEdit","setIsEdit","canEdit","setCanEdit","handleDeletePost","updatedPosts","boolean","editPostPopup","Wall","InfoHeader","UserStatus","AdditionalInfo","InfoItem","InfoItemTitle","InfoItemContent","ProfileInfo","LeftSide","RightSide","NoPosts","AvatarWrapper","PersonalProfilePage","slugId","setIsPersonal","useLoadUser","useParams","Provider","Page","Info","SvgArrowIconLeft","NavigationHeader","NavigationBody","NavigationHeaderWrapper","BackButton","MessagesNavigation","MessageInfo","MessageHeader","MessageContent","Image","Message","isMe","handleReadMessage","readMsg","conversationIdx","conversationMsgIdx","updatedConversation","newConversations","handleDeleteMessage","newMessagesArr","bottom","SendMessageBox","setTextAreaHeight","MessagesWrapper","Wrap","MessagesList","innerHeight","innerWidth","dimensions","getElementById","scrollIntoView","ConversationPage","SocketClient","on","off","storageName","ScrollToTop","scrollTo","App","setAccessToken","ready","setReady","setSocket","getNotifications","token","allNotifications","getConversations","jwtToken","localStorage","setItem","removeItem","refreshToken","getItem","socketItem","io","close","useAuth","routes","meUserId","maxSnack","anchorOrigin","vertical","horizontal","autoHideDuration","utils","MomentUtils","path","exact","component","ProfilePage","from","useRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"yJAAIA,E,kECoBEC,EAAO,aAEAC,EAAcC,wBAA+B,CACxDC,YAAa,KACbC,WAAY,KACZC,cAAeL,EACfM,iBAAiB,EACjBC,MAAOP,EACPQ,OAAQR,EACRS,OAAQ,KACRC,cAAe,GACfC,iBAAkBX,EAClBY,cAAe,KACfC,iBAAkBb,I,6CD/BpB,SAASc,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAeC,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOxB,EAAS,CACtD6B,GAAI,uCACJC,MAAO,6BACPC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAMzC,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EgD,EAAG,+aAIP,IE5BI,EF4BAC,EAA0B,aAAiBX,GAChC,IE3Bf,SAAS,IAA2Q,OAA9P,EAAWtB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASgC,EAAgBX,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,GAAI,uCACJC,MAAO,6BACPC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,2dAIP,IC5BI,ED4BA,EAA0B,aAAiBE,GAChC,IC3Bf,SAAS,IAA2Q,OAA9P,EAAWlC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASiC,EAAeZ,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,GAAI,uCACJC,MAAO,6BACPC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,m9BAIP,IC5BI,ED4BA,EAA0B,aAAiBG,GAChC,IC3Bf,SAAS,IAA2Q,OAA9P,EAAWnC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASkC,EAAiBb,EAAMC,GAC9B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDc,MAAO,GACPC,OAAQ,EACRR,QAAS,WACTS,KAAM,OACNV,MAAO,6BACPE,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,6YACHO,KAAM,cAIV,I,oCC/BI,GD+BA,GAA0B,aAAiBH,G,IAChC,I,QE3BFI,GAAcC,YAAH,wmIA6NXC,GAAkBC,YAAH,+NAUfC,GAAyBD,YAAH,2IAMtBE,GAAoBF,YAAH,mOAUjBG,GAAaC,YAAOC,IAAPD,CAAH,qMASnB,SAACpB,GAAD,MACgB,UAAhBA,EAAMsB,OAAN,yGASSC,GAAaH,IAAOI,IAAV,mEAIVC,GAASL,IAAOM,OAAV,miBA4Bf,SAAC1B,GAAD,MACe,UAAfA,EAAM2B,MAAN,4EAKA,SAAC3B,GAAD,MACgB,cAAhBA,EAAMU,OAAN,4BAIA,SAACV,GAAD,MACgB,cAAhBA,EAAMsB,OAAN,yPASA,SAACtB,GAAD,OACAA,EAAM4B,cAAN,+BAEiB5B,EAAM4B,aAFvB,YAIE,SAAC5B,GAAD,OACFA,EAAM6B,WAAN,4BAEc7B,EAAM6B,UAFpB,YAIE,SAAC7B,GAAD,OACFA,EAAM8B,aAAN,8BAEgB9B,EAAM8B,YAFtB,YAKSC,GAAaX,IAAOI,IAAV,mLAMnB,SAACxB,GAAD,OACAA,EAAM4B,cAAN,+BAEiB5B,EAAM4B,aAFvB,YAMSI,GAAsBZ,IAAOI,IAAV,8CAInBS,GAAQb,IAAOc,MAAV,0TAUd,SAAClC,GAAD,OACAA,EAAMmC,aAAN,8BAEgBnC,EAAMmC,YAFtB,YAMSC,GAAWhB,YAAOiB,KAAPjB,CAAH,gTAcjB,SAACpB,GAAD,OACAA,EAAMsC,SAAN,8CAIA,SAACtC,GAAD,OACAA,EAAM4B,cAAN,+BAEiB5B,EAAM4B,aAFvB,YAKSW,GAAYnB,IAAOI,IAAV,oIAMTgB,GAASpB,IAAOqB,IAAV,4JAUf,SAACzC,GAAD,MACe,gBAAfA,EAAM2B,MAAN,4FAOA,SAAC3B,GAAD,MACe,UAAfA,EAAM2B,MAAN,4FAOE,SAAC3B,GAAD,MACa,iBAAfA,EAAM2B,MAAN,4FAOA,SAAC3B,GAAD,MACe,WAAfA,EAAM2B,MAAN,4FAOE,SAAC3B,GAAD,MACa,UAAfA,EAAM2B,MAAN,gGAOE,SAAC3B,GAAD,OACFA,EAAM4B,cAAN,+BAEiB5B,EAAM4B,aAFvB,YAII,SAAC5B,GAAD,OACJA,EAAM6B,WAAN,4BAEc7B,EAAM6B,UAFpB,YAII,SAAC7B,GAAD,OACJA,EAAM8B,aAAN,8BAEgB9B,EAAM8B,YAFtB,YAII,SAAC9B,GAAD,OACJA,EAAM0C,YAAN,6BAEe1C,EAAM0C,WAFrB,YAaSC,IAPevB,IAAOI,IAAV,sJAOGJ,IAAOI,IAAV,2BAEZoB,GAAqBxB,IAAOI,IAAV,mQAelBqB,GAAqBzB,IAAOI,IAAV,mUAa3B,SAACxB,GAAD,OACAA,EAAM8C,KAAN,qBAEO9C,EAAM8C,IAFb,YAIA,SAAC9C,GAAD,OACAA,EAAM+C,OAAN,uBAES/C,EAAM+C,MAFf,YAMSC,GAAsB5B,IAAOI,IAAV,mCAC5B,SAACxB,GAAD,OACAA,EAAMiD,YAAN,kQ,sCCvgBSC,GAAYC,cAAW,SAACC,GAAD,OAClCC,aAAa,CACXC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACV1B,YAAasB,EAAMK,QAAQ,IAE7B3D,MAAM,cACJ4D,QAAS,QACRN,EAAMO,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,UAGbG,OAAO,cACLC,SAAU,WACVC,aAAcX,EAAMY,MAAMD,aAC1BE,gBAAiBC,aAAKd,EAAMe,QAAQC,OAAOC,MAAO,KAClD,UAAW,CACTJ,gBAAiBC,aAAKd,EAAMe,QAAQC,OAAOC,MAAO,MAEpDvC,YAAasB,EAAMK,QAAQ,GAC3Bf,WAAY,EACZhC,MAAO,QACN0C,EAAMO,YAAYC,GAAG,MAAQ,CAC5BlB,WAAYU,EAAMK,QAAQ,GAC1B/C,MAAO,SAGX4D,WAAY,CACVC,QAASnB,EAAMK,QAAQ,EAAG,GAC1B9C,OAAQ,OACRmD,SAAU,WACVU,cAAe,OACfd,QAAS,OACTe,WAAY,SACZC,eAAgB,UAElBC,UAAW,CACTrD,MAAO,WAETsD,WAAW,cACTL,QAASnB,EAAMK,QAAQ,EAAG,EAAG,EAAG,GAEhCtB,YAAY,cAAD,OAAgBiB,EAAMK,QAAQ,GAA9B,OACXoB,WAAYzB,EAAM0B,YAAYC,OAAO,SACrCrE,MAAO,QACN0C,EAAMO,YAAYC,GAAG,MAAQ,CAC5BlD,MAAO,SAGXsE,eAAe,cACbtB,QAAS,QACRN,EAAMO,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGbuB,cAAc,cACZvB,QAAS,QACRN,EAAMO,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGbwB,KAAM,CACJxB,QAAS,QAEXyB,OAAQ,CACNC,OAAQhC,EAAMgC,OAAOC,OAAS,GAEhCA,OAAQ,CACN3E,MAxEc,IAyEd4E,WAAY,GAEdC,YAAa,CACX7E,MA5Ec,KA8EhB8E,gBAAiB,CACfC,SAAU,QAEZC,QAAS,CACPnC,SAAU,EACVgB,QAASnB,EAAMK,QAAQ,SCvFhBkC,GAAU,WAAO,IAAD,EACGC,oBAAkB,GADrB,mBACpBC,EADoB,KACXC,EADW,KAEnBrI,EAAgBsI,qBAAWxI,GAA3BE,YAFmB,EAKzBmI,mBAQG,MAbsB,mBAIpBI,EAJoB,KAIbC,EAJa,KAiE3B,MAAO,CAAEJ,UAASK,QAhDFC,sBAAW,uCACzB,WACEC,GADF,mCAAAC,EAAA,6DAEEC,EAFF,+BAEmB,MACjBC,EAHF,+BAGc,KACZC,EAJF,+BAIiB,GAEfV,GAAW,GANb,SAQQS,IACFA,EAAOE,KAAKC,UAAUH,GACtBC,EAAQ,gBAAkB,oBAEvBA,EAAO,gBACVA,EAAO,cAAP,iBAAqC/I,IAb3C,SAkB2BkJ,MAAMP,EAAK,CAChCE,SACAC,OACAC,UACAI,YAAa,YAtBnB,cAkBUC,EAlBV,iBA4BuBA,EAASC,OA5BhC,WA4BUC,EA5BV,OA8BSF,EAASG,GA9BlB,uBA+BMf,EAASc,GACH,IAAIE,MAAMF,EAAKG,SAAW,kGAhCtC,eAmCIpB,GAAW,GAnCf,kBAoCWiB,GApCX,wCAsCIjB,GAAW,GAtCf,+DADyB,sDA4CzB,IAIyBE,QAAOmB,WADfhB,uBAAY,kBAAMF,EAAS,QAAO,MHjEvD,SAAS,KAA2Q,OAA9P,GAAW5H,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAAS6I,GAAoBxH,EAAMC,GACjC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDc,MAAO,GACPC,OAAQ,GACRR,QAAS,YACTS,KAAM,OACNV,MAAO,6BACPE,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,4qBACHO,KAAM,cAIV,IAAI,GAA0B,aAAiBwG,IAChC,IICAC,I,eCjCX,GDiCWA,GA7Bf,SACEjH,EACAkH,GAEAC,qBAAU,WACR,IAAMC,EAAW,SAACC,GAEhB,IAAMC,EAAE,OAAGtH,QAAH,IAAGA,OAAH,EAAGA,EAAKuH,QAGXD,IAAMA,EAAGE,SAASH,EAAMlJ,SAI7B+I,EAAQG,IAMV,OAHAI,SAASC,iBAAT,YAAuCN,GACvCK,SAASC,iBAAT,aAAwCN,GAEjC,WACLK,SAASE,oBAAT,YAA0CP,GAC1CK,SAASE,oBAAT,aAA2CP,MAI5C,CAACpH,EAAKkH,K,QEhBLU,GAAe5G,IAAOI,IAAV,8JAUZyG,GAAiB7G,IAAOI,IAAV,2OAWd0G,GAAS9G,YAAOC,IAAPD,CAAH,mPAaN+G,GAAe/G,IAAOqB,IAAV,8JAQZ2F,GAAahH,IAAOI,IAAV,4BAiGD6G,GA3FiB,SAAC,GAAmB,EAAjB3K,WAAkB,IAC7C0C,EAAMkI,iBAAO,MACnBjB,GAAkBjH,GAAK,WACrBmI,GAAa,MAECrF,KAAhB,IACQgD,EAAYP,KAAZO,QAN0C,EAOxBN,mBAAsB,IAPE,mBAO3C4C,EAP2C,KAOpCC,EAPoC,OAQhB7C,oBAAkB,GARF,mBAQ3C8C,EAR2C,KAQhCH,EARgC,QASrCxC,qBAAWxI,GAEUqI,mBAAiB,KAXD,mBAW3C+C,EAX2C,KAWhCC,EAXgC,KAa5CC,ECzEmB,SAACC,EAAeC,GAA2B,IAAD,EACvBnD,mBAASkD,GADc,mBAC5DE,EAD4D,KAC5CC,EAD4C,KAanE,OAVA1B,qBAAU,WACR,IAAMD,EAAU4B,YAAW,WACzBD,EAAkBH,KACjBC,GAEH,OAAO,WACLI,aAAa7B,MAEd,CAACwB,EAAOC,IAEJC,ED4DeI,CAAYT,EAAW,KAM7CpB,qBAAU,WACJsB,EACF3C,EAAQ,4BAAD,OAA6B2C,GAAiB,OAClDQ,MAAK,SAACC,GACLC,QAAQC,IAAI,aAAcF,GAI1Bb,EAASa,EAAId,UAEdiB,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,MAE9BjB,EAAS,MAEV,CAACI,IAOJ,OACE,qCACE,gBAACb,GAAD,CACE5H,IAAKA,EACLuJ,QAAS,WACFjB,GACHH,GAAa,IAJnB,UAQE,eAAC,GAAD,IACA,eAACtG,GAAD,CACE2H,MAAO,CAAEC,SAAU,8BACnBC,YAAY,YACZhB,MAAOH,EACPoB,SAxCa,SAACC,GACpBpB,EAAaoB,EAAEzL,OAAOuK,QAwChB3G,YAAY,SAII,IAAjBqG,EAAM9J,QAAgBgK,GACrB,eAACT,GAAD,UACGO,EAAMyB,KAAI,SAACC,GAMV,OACE,gBAAChC,GAAD,CAEEiC,GAAE,mBAAcD,EAAKE,KACrBT,QAAS,WACPpB,GAAa,GACbK,EAAa,KALjB,UAQE,eAACT,GAAD,CAAckC,IAAKH,EAAKI,SACxB,gBAAClC,GAAD,WACG8B,EAAKK,UADR,IACoBL,EAAKM,cATpBN,EAAKE,gB,yBDlI5B,SAAS,KAA2Q,OAA9P,GAAW/L,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASkM,GAAqB7K,EAAMC,GAClC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDc,MAAO,GACPC,OAAQ,GACRR,QAAS,YACTD,MAAO,6BACPE,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,wgCAIP,I,kBG7BI,GH6BA,GAA0B,aAAiBoK,I,IAChC,I,OI5BFC,GAAqB,WAAO,IAAD,EACR9E,oBAAS,GADD,mBAC/B+E,EAD+B,KACtBC,EADsB,KAKtC,MAAO,CAAED,UAASE,KAHL,kBAAMD,GAAW,IAGNE,KAFX,kBAAMF,GAAW,MCY1BG,GAA2B3J,IAAOI,IAAV,4OAOxBP,IASA+J,GAAqB5J,IAAOI,IAAV,ymBA6BlByJ,GAA2B7J,YAAOC,IAAPD,CAAH,gRAa1B,SAACpB,GAAD,OACCA,EAAMkL,QAAP,mDAMEC,GAAmB/J,IAAOI,IAAV,4BAEhB4J,GAAmBhK,IAAOI,IAAV,qDAIhB6J,GAAmBjK,IAAOI,IAAV,qEAShB8J,GAA4C,SAAC,GAG5C,IAFLC,EAEI,EAFJA,aAIMC,GAFF,EADJb,QAGac,YAASC,QAAQH,EAAaI,WAAWC,eAAe,CACnEC,IAAK,UACLC,MAAO,OACPC,KAAM,UACNC,OAAQ,aAEF9F,EAAYP,KAAZO,QACAjI,EAAqB8H,qBAAWxI,GAAhCU,iBAGFgO,EAAsB,uCAAG,4BAAA5F,EAAA,sEAE3BkD,QAAQC,IAAI,oBAAqB+B,GAFN,SAGTrF,EAAQ,eAAD,OAAgBqF,EAAanB,KAAO,OAHlC,OAGrBd,EAHqB,OAI3BC,QAAQC,IAAI,qBAAsBF,GAClCrL,GAAiB,SAACiO,GAChB,IAAMC,EAAaD,EAAUE,WAC3B,SAAC1E,GAAD,OAAaA,EAAG0C,MAAQmB,EAAanB,OAGjCiC,EAAO,6BACRd,GADQ,IAEXL,QAAQ,IAgBV,MARY,uBACPgB,EAAUI,MAAM,EAAGH,IADZ,CAEVE,GAFU,aAGPH,EAAUI,MAAMH,EAAa,QAvBT,gDA+B3B5C,QAAQC,IAAR,MA/B2B,yDAAH,qDAwC5B,OALAjC,qBAAU,WACHgE,EAAaL,QAChBe,MAED,IAED,gBAAChB,GAAD,CACEd,GAAIoB,EAAanF,IACjB8E,OAAQK,EAAaL,OAFvB,UAIE,eAAC1I,GAAD,CACEoH,MAAO,CAAE9H,YAAa,QACtBH,KAAK,QACL0I,IAAKkB,EAAarB,KAAKI,SAEzB,gBAACa,GAAD,WACE,gBAACC,GAAD,WACE,gBAACjK,GAAD,CAAYgJ,GAAE,mBAAcoB,EAAarB,KAAKE,KAA9C,UACGmB,EAAarB,KAAKK,UADrB,IACiCgB,EAAarB,KAAKM,YACrC,IACbe,EAAagB,QAEhB,eAAClB,GAAD,UAAmBG,WAmFZgB,GAzEwB,SAAC,GAGjC,IAFLxO,EAEI,EAFJA,cAEI,KADJC,iBAKgCyM,MAAxBC,EAJJ,EAIIA,QAASE,EAJb,EAIaA,KAAMC,EAJnB,EAImBA,KAEjB2B,EAAsBzO,EAAc0O,QACxC,SAACC,GAAD,OAAiBA,EAAMzB,UAEnB0B,EAAwB,GAC1BC,EAAY,EAChB7O,EAAc8O,SAAQ,SAACpF,GACrB,GAAKA,EAAGwD,OAED,KAAI2B,EAIT,OAHAD,EAAiBG,KAAKrF,GACtBmF,SAHAD,EAAiBG,KAAKrF,MAQ1B,IAGMsF,EACJ,eAACjL,GAAD,UACE,eAACiJ,GAAD,CAAoBrB,QAASgB,EAAUG,EAAOD,EAA9C,SACG+B,EAAiBlO,OAAS,GAAKiM,EAC9B,qCACGiC,EAAiB3C,KAAI,SAACsB,EAAmB0B,GAGxC,OACE,eAAC,GAAD,CAEEtC,QAASA,EACTY,aAAcA,GAFT0B,QAQb,+DAKR,OACE,eAAC,KAAD,CACEvH,QAASsH,EACTE,aAAa,EACbC,UAAW,aACXC,QAAQ,QACRC,SAAU,EACVC,OAAQ,CAAC,EAAG,GACZ3C,QAASA,EACT4C,eAAgBzC,EAChB0C,QAAS,kBAAMjE,QAAQC,IAAI,aAT7B,SAWE,gBAACuB,GAAD,CAA0BpB,QAASgB,EAAUG,EAtCzB,WACtBD,KAqCE,UACE,eAAC,GAAD,IACC4B,EAAoB/N,OAAS,GAC5B,eAACmE,GAAD,UAAqB4J,EAAoB/N,SAE1C6K,QAAQC,IAAI,gBAAiBxL,SFpPtC,SAAS,KAA2Q,OAA9P,GAAWK,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASkP,GAAU7N,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtD,cAAe,OACf8N,UAAW,QACX,cAAe,MACf,YAAa,SACbC,UAAW,mCACXC,KAAM,MACN1N,MAAO,6BACPC,QAAS,cACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,+xCAIP,IGjCI,GHiCA,GAA0B,aAAiBoN,IAChC,IGhCf,SAAS,KAA2Q,OAA9P,GAAWpP,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASsP,GAASjO,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtD,cAAe,OACf8N,UAAW,QACX,cAAe,MACfC,UAAW,kCACXC,KAAM,MACN1N,MAAO,6BACPC,QAAS,cACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,mxFAIP,IChCIyN,GAAO,GAAOC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GDgCtE,GAA0B,aAAiBT,IAChC,IC/Bf,SAAS,KAA2Q,OAA9P,GAAWxP,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASgQ,GAAW3O,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,GAAI,UACJ,YAAa,UACbC,MAAO,6BACPC,QAAS,kBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAMgO,KAAUA,GAAqB,gBAAoB,OAAQ,OAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CAC9IH,UAAW,QACXtN,EAAG,2TACA0N,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEJ,UAAW,QACXtN,EAAG,utBACA2N,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEL,UAAW,QACXtN,EAAG,q6BACA4N,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEN,UAAW,QACXtN,EAAG,6oDACA6N,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEP,UAAW,QACXtN,EAAG,2YACA8N,KAAWA,GAAsB,gBAAoB,OAAQ,CAChER,UAAW,QACXtN,EAAG,oYACA+N,KAAWA,GAAsB,gBAAoB,OAAQ,CAChET,UAAW,QACXtN,EAAG,m2CACAgO,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEV,UAAW,QACXtN,EAAG,85BACAiO,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEX,UAAW,QACXtN,EAAG,odAIP,ICtDI,GAAO,GDsDP,GAA0B,aAAiBkO,IAChC,ICrDf,SAAS,KAA2Q,OAA9P,GAAWlQ,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASiQ,GAAY5O,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDM,MAAO,6BACPE,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,0eACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChEA,EAAG,kiEAIP,IC5BI,GD4BA,GAA0B,aAAiBmO,IAChC,IC3Bf,SAAS,KAA2Q,OAA9P,GAAWnQ,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASkQ,GAAU7O,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtD,cAAe,OACf8N,UAAW,QACX,cAAe,MACf,YAAa,OACbC,UAAW,iCACXC,KAAM,MACN1N,MAAO,6BACPC,QAAS,cACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,o+FAIP,ICjCI,GDiCA,GAA0B,aAAiBoO,IAChC,IChCf,SAAS,KAA2Q,OAA9P,GAAWpQ,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASmQ,GAAc9O,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDM,MAAO,6BACPC,QAAS,uBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,m6GAIP,I,wEC3BI,GD2BA,GAA0B,aAAiBqO,IEbzCC,IFcS,IEdCvN,IAAOwN,OAAV,0JAQPC,GAAUzN,IAAOiF,EAAV,sUAePyI,GAAc1N,IAAOI,IAAV,qEAIXuN,GAAc3N,IAAOI,IAAV,qEAIXwN,GAAmB5N,IAAOiF,EAAV,0UAiBhB4I,GAAgB7N,IAAOiF,EAAV,2JASb6I,GAAiB9N,IAAOiF,EAAV,2JASd8I,GAAkB/N,IAAOiF,EAAV,qMAWf+I,GAAoBhO,IAAOiF,EAAV,2JAqERgJ,GA5DA,WACb,IAAMC,EAAWC,cAEjB,OADAhG,QAAQC,IAAI,WAAY8F,EAASE,SAASC,SAAS,iBAC/CH,EAASE,SAASC,SAAS,gBACtB,+BAIP,gBAACd,GAAD,CAASe,UAAU,KAAK/B,UAAU,qBAAlC,UACE,gBAACkB,GAAD,CACEtQ,OAAO,SACPoR,IAAI,sBACJC,KAAK,gDAHP,UAKE,eAAC,GAAD,IACA,gBAACd,GAAD,wBAEE,eAACC,GAAD,mCAGJ,gBAACC,GAAD,CACEzQ,OAAO,SACPoR,IAAI,sBACJC,KAAK,uBAHP,UAKE,eAAC,GAAD,IALF,WAQA,eAACX,GAAD,CACE1Q,OAAO,SACPoR,IAAI,sBACJC,KAAK,yBAHP,SAKE,eAAC,GAAD,MAEF,eAACV,GAAD,CACE3Q,OAAO,SACPoR,IAAI,sBACJC,KAAK,2BAHP,SAKE,eAAC,GAAD,MAEF,eAACT,GAAD,CACE5Q,OAAO,SACPoR,IAAI,sBACJC,KAAK,qBAHP,SAKE,eAAC,GAAD,MAEF,eAACR,GAAD,CACE7Q,OAAO,SACPoR,IAAI,sBACJC,KAAK,kCAHP,SAKE,eAAC,GAAD,UClIFC,GAAOzO,YAAOC,IAAPD,CAAH,ugBAwBJ0O,GAAY1O,IAAOI,IAAV,kEAKTuO,GAAc3O,IAAOI,IAAV,gDAIXwO,GAAS5O,IAAO6O,OAAV,qIAMNC,GAAgB9O,IAAOI,IAAV,iGAMb2O,GAAa/O,IAAOgP,IAAV,0EAKVC,GAAiBjP,YAAOC,IAAPD,CAAH,ilBAgBXF,IASHoP,GAAqBlP,IAAOI,IAAV,6FAMlB+O,GAAanP,IAAOI,IAAV,0HAQVgP,GAAWpP,IAAOI,IAAV,wOAsBRiP,IAParP,IAAOqB,IAAV,+GAOCrB,IAAOI,IAAV,gGAKRkP,GAAgBtP,IAAOI,IAAV,kDAGbmP,GAAgBvP,IAAOI,IAAV,4BAEboP,GAAsBxP,IAAOI,IAAV,qQA6JVqP,GA1IU,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAEvC/K,qBAAWxI,GADLO,EADiC,EACjCA,OAAQJ,EADyB,EACzBA,WAAYM,EADa,EACbA,cAAeC,EADF,EACEA,iBAAkBC,EADpB,EACoBA,cADpB,EAGTwM,KAAxBC,EAHiC,EAGjCA,QAASE,EAHwB,EAGxBA,KAAMC,EAHkB,EAGlBA,KAEf5E,EAAYP,KAAZO,QAEF6K,EAAY,uCAAG,sBAAA1K,EAAA,+EAGXH,EAAQ,mBAAoB,QAHjB,OAKjBpI,IALiB,+CAOjByL,QAAQC,IAAR,MAPiB,wDAAH,qDAYdwH,EAAsB,EAC1B9S,EAAc4O,SAAQ,SAACmE,GACrBA,EAAaC,SAASpE,SAAQ,SAAC5F,GACxBA,EAAQgE,QAAUhE,EAAQgD,KAAKE,OAAb,OAAqB1M,QAArB,IAAqBA,OAArB,EAAqBA,EAAY0M,MACtD4G,UAKN,IAAIG,EAA6B,EACjCnT,EAAc8O,SAAQ,SAACvB,GAEG,oCAAtBA,EAAagB,MACZhB,EAAaL,SAEd3B,QAAQC,IAAI,eAAgB+B,EAAagB,MACzChD,QAAQC,IAAI,UACZ2H,QAIJ5H,QAAQC,IAAI,6BAA8B2H,GAE1C,IAAMC,EACJ,eAACrP,GAAD,UACE,gBAAC4O,GAAD,CAAehH,QAASgB,EAAUG,EAAOD,EAAzC,UACE,eAAC,IAAD,CAAMV,GAAE,+BAAmBzM,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAY0M,KAAvC,SACE,eAACwG,GAAD,6BAEF,eAACA,GAAD,CAAqBjH,QAASoH,EAA9B,2BAON,OACE,uCACE,eAACf,GAAD,UACE,eAACF,GAAD,UACE,gBAACI,GAAD,WACE,eAACL,GAAD,CAAM1F,GAAG,IAAT,qBAIA,eAACuG,GAAD,UACE,eAAC,GAAD,CAAQhT,WAAYA,MAGtB,gBAAC6S,GAAD,WACE,eAAC,GAAD,CACEtS,iBAAkBA,EAClBD,cAAeA,IAGjB,eAAC,KAAD,CACE0H,QAAS0L,EACTlE,aAAa,EACbC,UAAW,aACXC,QAAQ,QACRC,SAAU,EACVC,OAAQ,CAAC,EAAG,GACZC,eAAgBzC,EAChBH,QAASA,EARX,SAUE,gBAAC6F,GAAD,CAAU7G,QAASgB,EAAUG,EAAOD,EAApC,UACE,eAACrI,GAAD,CACEV,YAAY,OACZH,KAAK,eACL0I,IAAG,OAAE3M,QAAF,IAAEA,OAAF,EAAEA,EAAY4M,SAEnB,eAACmG,GAAD,iBAAW/S,QAAX,IAAWA,OAAX,EAAWA,EAAY6M,YACvB,eAAC,GAAD,mBAOZ,eAACuF,GAAD,UACE,gBAACC,GAAD,WACE,gBAACI,GAAD,WACE,gBAACE,GAAD,CAAgBlG,GAAE,0BAAczM,QAAd,IAAcA,OAAd,EAAcA,EAAY0M,KAA5C,UACE,eAACkG,GAAD,UACE,eAAC,EAAD,MAFJ,gDAMA,gBAACD,GAAD,CAAgBlG,GAAE,YAAlB,UACE,gBAACmG,GAAD,WACE,eAAC,EAAD,IACyB,IAAxBU,GACC,eAACnO,GAAD,CAAoBC,IAAI,OAAOC,MAAM,OAArC,SACGiO,OALT,4DAWA,gBAACX,GAAD,CAAgBlG,GAAE,WAAlB,UACE,eAACmG,GAAD,UACE,eAAC,EAAD,MAFJ,6CAYF,gCAAOQ,SAGX,eAAC,GAAD,Q,SFvSN,SAAS,KAA2Q,OAA9P,GAAWzS,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAAS8S,GAAazR,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDc,MAAO,GACPC,OAAQ,GACRR,QAAS,YACTD,MAAO,6BACPE,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DG,GAAIF,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EO,EAAG,+lBAIP,I,0CG7BI,GH6BA,GAA0B,aAAiBgR,IIvBzC1C,IJwBS,IIxBCvN,IAAOI,IAAV,oaAoBP2J,GAAmB/J,IAAOI,IAAV,4BAEhB4J,GAAmBhK,IAAOI,IAAV,+CAgCP8P,GA5BYC,sBAOzB,WAAwBnR,GAAS,IAA9BH,EAA6B,EAA7BA,GAAIiH,EAAyB,EAAzBA,QAASsK,EAAgB,EAAhBA,KACRC,EAAkBC,eAAlBD,cAGR,OAFAlI,QAAQC,IAAI,OAAQgI,GAGlB,gBAAC,GAAD,CAASpR,IAAKA,EAAd,UACE,eAACoC,GAAD,CACEoH,MAAO,CAAE9H,YAAa,QACtBuI,IAAKnD,EAAQgD,KAAKI,OAClB3I,KAAK,UAEP,eAAC,GAAD,UACE,gBAAC,GAAD,WACGuF,EAAQgD,KAAKK,UADhB,IAC4BrD,EAAQgD,KAAKM,SADzC,IACoDtD,EAAQqF,UAG9D,eAAC,GAAD,CAAW5C,QAAS,kBAAM8H,EAAcxR,YCjDxC0O,GAAUvN,IAAOI,IAAV,saAkBT,SAACxB,GAAD,MACe,UAAfA,EAAMwR,MAAN,6CAMErG,GAAmB/J,IAAOI,IAAV,4BAEhB4J,GAAmBhK,IAAOI,IAAV,+CA6BPmQ,GApBgBJ,sBAM7B,WAAkBnR,GAAS,IAAxBH,EAAuB,EAAvBA,GAAIiH,EAAmB,EAAnBA,QACCuK,EAAkBC,eAAlBD,cAGR,OAFAlI,QAAQC,IAAI,MAAOtC,GAGjB,gBAAC,GAAD,CAAS9G,IAAKA,EAAKoR,KAAMtK,EAAQsK,KAAjC,UACE,eAAC,GAAD,UACE,eAAC,GAAD,UAAmBtK,EAAQqF,SAE7B,eAAC,GAAD,CAAW5C,QAAS,kBAAM8H,EAAcxR,YC5B/B2R,GAzBM,WAAO,IAClBC,EAAoBH,eAApBG,gBAqBR,MAAO,CAAEC,mBAnBkB,SAAC5K,EAAc6K,GACxCxI,QAAQC,IAAI,UAAWuI,GACvBF,EAAgB3K,EAAS,CACvB6K,UACArM,QAAS,SAAC9G,EAAUsI,GAAX,OACP,eAAC,GAAD,CAAoBjH,GAAIrB,EAAKsI,QAASA,QAcf8K,uBATE,SAAC9K,EAAc6K,GAE5CF,EAAgB3K,EAAS,CACvB6K,UACArM,QAAS,SAAC9G,EAAUsI,GAAX,OACP,eAAC,GAAD,CAAwBjH,GAAIrB,EAAKsI,QAASA,U,8BCN5C+K,GAAgB7Q,IAAO8Q,IAAV,ylBAiCJC,GA9CC,kBACd,eAACF,GAAD,CAAe9R,QAAQ,YAAvB,SACE,yBACEwN,UAAU,OACVyE,GAAG,KACHC,GAAG,KACHC,EAAE,KACF1R,KAAK,OACL2R,YAAY,S,oBC2BZC,GAAcpR,IAAOI,IAAV,2qBAcb,SAACxB,GAAD,OACAA,EAAMyS,OAAN,gCAEkBzS,EAAMyS,MAFxB,mFA+BEC,GAAetR,IAAOI,IAAV,oSAcZmR,GAAYvR,IAAOI,IAAV,uEAKToR,GAAYxR,IAAOI,IAAV,sIAMTqR,GAAczR,IAAOI,IAAV,sEAKXsR,GAAQ1R,IAAOI,IAAV,kKA8kBIuR,IAtkBG3R,IAAOI,IAAV,0PAYS,WAAO,IAAD,0BACtBwR,EAAOjN,qBAAWxI,GAChByU,EAA2BJ,KAA3BI,uBAFoB,EAI1BgB,EAAKtV,WADC6M,EAHoB,EAGpBA,UAAWC,EAHS,EAGTA,SAAUF,EAHD,EAGCA,OAAQ2I,EAHT,EAGSA,YAAaC,EAHtB,EAGsBA,OAAQC,EAH9B,EAG8BA,QAASC,EAHvC,EAGuCA,KAHvC,EAKUxN,mBAAc,CAClD0E,SACAC,YACAC,WACAyI,cACAC,SACAC,UACAC,SAZ0B,mBAKrBxM,EALqB,KAKRyM,EALQ,OAmBczN,oBAAS,GAnBvB,mBAmBrB0N,EAnBqB,KAmBNC,EAnBM,OAqBQ5N,KAArBO,GArBa,EAqBpBF,MArBoB,EAqBbE,SAASL,EArBI,EAqBJA,QArBI,EAsBI6E,KAtBJ,KAsBpBC,QAtBoB,EAsBXE,KAtBW,EAsBLC,KACmBlF,oBAAkB,IAvBhC,mBAuBrB4N,EAvBqB,KAuBNC,EAvBM,KAwBtBrT,EAAMkI,iBAAgC,MAxBhB,EAiDsB1C,mBAAc,CAC9DkD,MAAK,UAAE,IAAI4K,KAAK9M,EAAYqM,oBAAvB,aAAE,EAAmCU,UAC1CC,MAAK,UAAE,IAAIF,KAAK9M,EAAYqM,oBAAvB,aAAE,EAAmCU,YAnDhB,mBAiDrBE,EAjDqB,KAiDFC,EAjDE,OAsD0BlO,mBAAc,CAClEkD,MAAK,UAAE,IAAI4K,KAAK9M,EAAYqM,oBAAvB,aAAE,EAAmCc,WAC1CH,MAtBa,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAUa,UAAC,IAAIF,KAAK9M,EAAYqM,oBAAtB,aAAC,EAAmCc,cAxDvB,mBAsDrBC,EAtDqB,KAsDAC,EAtDA,OA2DwBrO,mBAAc,CAChEkD,MAAK,UAAE,IAAI4K,KAAK9M,EAAYqM,oBAAvB,aAAE,EAAmCiB,cAC1CN,MAAK,UAAE,IAAIF,KAAK9M,EAAYqM,oBAAvB,aAAE,EAAmCiB,gBA7DhB,oBA2DrBC,GA3DqB,MA2DDC,GA3DC,SAgO4BxO,mBAAc,CACpEkD,MAAK,UAAEkK,EAAKtV,kBAAP,aAAE,EAAiBwV,OACxBU,MAAM,GAAD,QACH,UAAAZ,EAAKtV,kBAAL,eAAiBwV,QAAjB,UAA0BF,EAAKtV,kBAA/B,aAA0B,EAAiBwV,OAAO,GAAGmB,cAAgB,IADlE,QAEF,UAAArB,EAAKtV,kBAAL,eAAiBwV,QAAjB,UAA0BF,EAAKtV,kBAA/B,aAA0B,EAAiBwV,OAAO5G,MAAM,GAAK,MApOtC,qBAgOrBgI,GAhOqB,MAgOCC,GAhOD,MA6O5BhL,QAAQC,IAAI,uBAAwB8K,IACpC/K,QAAQC,IAAI,SAAZ,UAAsBwJ,EAAKtV,kBAA3B,aAAsB,EAAiBwV,QAMvC,IAAMsB,GAAY,uCAAG,WAAOxK,GAAP,mBAAA3D,EAAA,6DACnB2D,EAAEyK,iBADiB,SAIjBlL,QAAQC,IACN,SACA,IAAIkK,KACFgB,OAAOP,GAAmBrL,OAC1B4L,OAAOV,EAAoBlL,OAC3B4L,OAAOb,EAAkB/K,QAE3BqL,GACAH,EACAH,EACA,IAAIH,KAAK,KAAM,EAAG,KAdH,SAgBExN,EAAQ,aAAD,OAAc8M,EAAKtV,WAAY0M,KAAO,MAAtC,aAAC,gBACtBxD,GADqB,IAExBsM,OAAQoB,GAAqBxL,MAC7BmK,YAAa,IAAIS,KACfS,GAAmBrL,MACnBkL,EAAoBlL,MACpB+K,EAAkB/K,UAtBL,OAgBX/B,EAhBW,OA0BXwE,EAAe,CACnBgB,KAAMxF,EAAKG,QACXsK,KAAM,WAERwB,EAAKrV,eAAc,SAACuO,GAClB,OAAO,6BACFA,GACAtF,MAGPoL,EAAuBzG,GACvBgI,GAAiB,GArCA,kDA2CXhI,EAAe,CACnBgB,KAAM,KAAErF,QACRsK,KAAM,SAERQ,EAAuBzG,GA/CN,0DAAH,sDAoDZoJ,GAAe,SAAC3K,GACpBqJ,EAAe,6BACVzM,GADS,mBAEXoD,EAAEzL,OAAOqW,KAAO5K,EAAEzL,OAAOuK,SAG5ByK,GAAiB,IAGbsB,GAAa,SAACC,GAAD,OACjB,IAAIC,SAAQ,SAACC,GACXC,KAAQC,iBACNJ,EACA,IACA,IACA,OACA,GACA,GACA,SAACK,GACCH,EAAQG,KAEV,cAIAC,GAAkB,uCAAG,WAAOpL,GAAP,mBAAA3D,EAAA,0DACrB2D,EAAEzL,OAAO8W,MADY,wBAEvB5B,GAAiB,GACXqB,EAAO9K,EAAEzL,OAAO8W,MAAM,GAHL,SAIDR,GAAWC,GAJV,cAIjBQ,EAJiB,yBAMHpP,EAAQ,oBAAqB,OAAQ,CACrDuM,MAAO6C,IAPY,OAMfhM,EANe,OASrBC,QAAQC,IAAI,mBAAoBF,GAChC+J,EAAe,6BACVzM,GADS,IAEZ0D,OAAQhB,EAAIlD,OAEdqN,GAAiB,GAdI,kDAgBrBlK,QAAQC,IAAR,MACAiK,GAAiB,GAjBI,QAyBvBF,GAAiB,GAzBM,0DAAH,sDAqDxB,OACE,gBAACxR,GAAD,CAAY6H,MAAO,CAAE2L,SAAU,SAA/B,UACE,eAACvT,GAAD,UACE,eAAC8Q,GAAD,6BAEF,eAACvQ,GAAD,IACA,eAACP,GAAD,CAAqB4H,MAAO,CAAErF,QAAS,QAAvC,SACE,wBAAMiR,YAAU,EAACC,SAAUjB,GAA3B,UACE,gBAAC7B,GAAD,WACE,eAACC,GAAD,sBACA,eAACC,GAAD,CAAajJ,MAAO,CAAElG,QAAS,QAA/B,SACG8P,EACC,eAACd,GAAD,UACE,eAAC,GAAD,MAGF,mCACE,eAACF,GAAD,CAAaC,MAAO7L,EAAY0D,OAAhC,SACE,+BACE,eAAC,KAAD,QAGJ,wBACEkH,KAAK,OACLoD,KAAK,OACLc,OAAO,UACP3L,SAAUqL,GACVhV,IAAKA,EACLwJ,MAAO,CAAElG,QAAS,kBAM5B,gBAACiP,GAAD,WACE,eAACC,GAAD,oBACA,gBAACC,GAAD,CAAajJ,MAAO,CAAElG,QAAS,QAA/B,UACE,eAACzB,GAAD,CACE2S,KAAK,YACL3U,GAAG,YACH6I,MAAOlC,EAAY2D,UACnBR,SAAU4K,GACVgB,SAAU9P,EACV+D,MAAO,CAAE9H,YAAa,UAGxB,eAACG,GAAD,CACE2S,KAAK,WACL3U,GAAG,WACH6I,MAAOlC,EAAY4D,SACnBT,SAAU4K,GACVgB,SAAU9P,UAKhB,gBAAC8M,GAAD,WACE,eAACC,GAAD,sBACA,eAACC,GAAD,UACE,eAAC,KAAD,CACE/J,MAAOwL,GACPvK,SA5Me,SAAC6L,GAC5BrB,GAAwBqB,GACxBrC,GAAiB,IA2MLsC,QAjWsB,CAClC,CAAE/M,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,SAAU8K,MAAO,WAgWd9J,YAAY,gBACZgM,aAAY,UAAE9C,EAAKtV,kBAAP,aAAE,EAAiBwV,OAC/BvF,UAAW,eACXoI,gBAAiB,2BAIvB,gBAACpD,GAAD,WACE,eAACC,GAAD,wBACA,gBAACC,GAAD,CACEjJ,MAAO,CAAElG,QAAS,OAAQgB,eAAgB,iBAD5C,UAGE,eAAC,KAAD,CACEoE,MAAO+K,EACP9J,SAnYU,SAACyB,GACvBsI,EAAqBtI,GACrB+H,GAAiB,IAkYLsC,QA5WmB,CAC/B,CAAE/M,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,IAAK8K,MAAO,KACrB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,MACtB,CAAE9K,MAAO,KAAM8K,MAAO,OA8UV9J,YAAY,gBAEZ6D,UAAW,YACXoI,gBAAiB,sBAGnB,eAAC,KAAD,CACEjN,MAAOkL,EACPjK,SAzYY,SAACyB,GACzByI,EAAuBzI,GACvB+H,GAAiB,IAwYLsC,QApVqB,CACjC,CAAE/M,MAAO,IAAK8K,MAAO,WACrB,CAAE9K,MAAO,IAAK8K,MAAO,YACrB,CAAE9K,MAAO,IAAK8K,MAAO,SACrB,CAAE9K,MAAO,IAAK8K,MAAO,SACrB,CAAE9K,MAAO,IAAK8K,MAAO,OACrB,CAAE9K,MAAO,IAAK8K,MAAO,QACrB,CAAE9K,MAAO,IAAK8K,MAAO,QACrB,CAAE9K,MAAO,IAAK8K,MAAO,UACrB,CAAE9K,MAAO,IAAK8K,MAAO,aACrB,CAAE9K,MAAO,IAAK8K,MAAO,WACrB,CAAE9K,MAAO,KAAM8K,MAAO,YACtB,CAAE9K,MAAO,KAAM8K,MAAO,aAyUV9J,YAAY,gBAKZ6D,UAAW,cACXoI,gBAAiB,sBAGnB,eAAC,KAAD,CACEjN,MAAOqL,GACPpK,SAjZW,SAACyB,GACxB4I,GAAsB5I,GACtB+H,GAAiB,IAgZLsC,QAlVoB,CAChC,CAAE/M,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE9K,MAAO,OAAQ8K,MAAO,QACxB,CAAE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","file":"static/js/main.7fc1d5c6.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgProfileIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"f5b8572e-e789-4a67-a3d4-fd233b7f5529\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.82,16.38c-1.24,0-1.8.68-3.82.68s-2.62-.68-3.87-.68a5.79,5.79,0,0,0-5.75,5.8v1.76A2,2,0,0,0,7.44,26H22.56a2.06,2.06,0,0,0,2.06-2.06V22.18A5.83,5.83,0,0,0,18.82,16.38Zm4.43,7.56a.7.7,0,0,1-.69.68H7.44a.68.68,0,0,1-.69-.68V22.18a4.38,4.38,0,0,1,4.38-4.43c.86,0,1.68.69,3.87.69s3-.69,3.82-.69a4.43,4.43,0,0,1,4.43,4.43ZM15,15A5.5,5.5,0,1,0,9.5,9.5,5.51,5.51,0,0,0,15,15Zm0-9.62a4.12,4.12,0,1,1,0,8.24,4.12,4.12,0,0,1,0-8.24Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgProfileIcon);\nexport default __webpack_public_path__ + \"static/media/profile-icon.e5b06066.svg\";\nexport { ForwardRef as ReactComponent };","import { Dispatch } from \"react\";\r\nimport { createContext } from \"react\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport type AuthContextType = {\r\n  accessToken: null | string;\r\n  meUserData: null | IUserData;\r\n  isAuthenticated: boolean;\r\n  login: (jwtToken: string, data: IUserData) => void;\r\n  logout: () => void;\r\n  setMeUserData: Dispatch<any>;\r\n  socket: null | any;\r\n  notifications: any;\r\n  setNotifications: Dispatch<any>;\r\n  conversations: any;\r\n  setConversations: Dispatch<any>;\r\n\r\n  // loading: boolean;\r\n};\r\n\r\nconst noop = (): void => {};\r\n\r\nexport const AuthContext = createContext<AuthContextType>({\r\n  accessToken: null,\r\n  meUserData: null,\r\n  setMeUserData: noop,\r\n  isAuthenticated: false,\r\n  login: noop,\r\n  logout: noop,\r\n  socket: null,\r\n  notifications: [],\r\n  setNotifications: noop,\r\n  conversations: null,\r\n  setConversations: noop,\r\n\r\n  // loading: false,\r\n});\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMessagesIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a2b7b2d4-3a7e-4ef8-815f-f2ff2ed50e60\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.94,6.75H6.06A2.06,2.06,0,0,0,4,8.81V21.19a2,2,0,0,0,2.06,2.06H23.94A2.06,2.06,0,0,0,26,21.19V8.81A2.1,2.1,0,0,0,23.94,6.75ZM6.06,8.12H23.94a.74.74,0,0,1,.68.69v1.81c-.94.77-2.32,1.89-6.48,5.2-.73.6-2.15,2-3.14,1.93s-2.45-1.33-3.18-1.93c-4.17-3.31-5.54-4.43-6.44-5.2V8.81A.71.71,0,0,1,6.06,8.12ZM23.94,21.88H6.06a.68.68,0,0,1-.68-.69V12.38c.94.82,2.49,2.06,5.58,4.51.9.73,2.45,2.28,4,2.23s3.09-1.5,4-2.23c3.09-2.45,4.64-3.69,5.62-4.51v8.81A.71.71,0,0,1,23.94,21.88Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMessagesIcon);\nexport default __webpack_public_path__ + \"static/media/messages-icon.dd183351.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFriendsIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a8958859-8e13-4d28-be3a-2b1bd58f0dfc\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.88,15a4.13,4.13,0,1,0-4.13-4.12A4.13,4.13,0,0,0,21.88,15Zm0-6.88a2.77,2.77,0,0,1,2.74,2.76,2.75,2.75,0,1,1-2.74-2.76ZM9.5,15a4.81,4.81,0,1,0-4.81-4.81A4.83,4.83,0,0,0,9.5,15Zm0-8.25a3.44,3.44,0,1,1,0,6.87,3.44,3.44,0,1,1,0-6.87Zm3.44,9.11c-1.46,0-1.81.52-3.44.52s-2-.52-3.48-.52a4.81,4.81,0,0,0-3.95,2,5.15,5.15,0,0,0-.82,2.79v1.89a2,2,0,0,0,2.06,2.06H15.69a2.06,2.06,0,0,0,2.06-2.06V20.67a5.19,5.19,0,0,0-.86-2.79A4.83,4.83,0,0,0,12.94,15.86Zm3.44,6.7a.71.71,0,0,1-.69.69H3.31a.69.69,0,0,1-.69-.69V20.67a3.39,3.39,0,0,1,.61-2A3.34,3.34,0,0,1,6,17.23c1.2,0,1.63.52,3.48.52s2.23-.52,3.44-.52a3.34,3.34,0,0,1,2.79,1.42,3.38,3.38,0,0,1,.6,2v1.89ZM28,17.66A3.9,3.9,0,0,0,24.71,16c-1.16,0-1.46.43-2.83.43S20.2,16,19,16a3.65,3.65,0,0,0-1.64.38,4.15,4.15,0,0,1,.86,1.12,4.64,4.64,0,0,1,.78-.09c.94,0,1.29.43,2.88.43s1.93-.43,2.83-.43a2.58,2.58,0,0,1,2.67,2.58v1.59a.35.35,0,0,1-.35.35H19.12A5.92,5.92,0,0,1,19,23.25h8a1.69,1.69,0,0,0,1.72-1.72V19.94A3.83,3.83,0,0,0,28,17.66Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFriendsIcon);\nexport default __webpack_public_path__ + \"static/media/friends-icon.66f0650d.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowMoreIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 6,\n    viewBox: \"0 0 10 6\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.42627 0.510254L9.01807 0.0805664C8.91064 -0.0268555 8.73877 -0.0268555 8.65283 0.0805664L4.76416 3.96924L0.854004 0.0805664C0.768066 -0.0268555 0.596191 -0.0268555 0.48877 0.0805664L0.0805664 0.510254C-0.0268555 0.596191 -0.0268555 0.768066 0.0805664 0.875488L4.5708 5.36572C4.67822 5.47314 4.82861 5.47314 4.93604 5.36572L9.42627 0.875488C9.53369 0.768066 9.53369 0.596191 9.42627 0.510254Z\",\n    fill: \"#BAC4DB\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowMoreIcon);\nexport default __webpack_public_path__ + \"static/media/arrow-more-icon.8e743f16.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLookingGlassIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 16,\n    viewBox: \"0 0 15 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.8828 14.9961L11.1035 11.2168C11.0449 11.1582 10.957 11.1289 10.8691 11.1289H10.5469C11.5723 10.0156 12.1875 8.58008 12.1875 6.96875C12.1875 3.62891 9.43359 0.875 6.09375 0.875C2.72461 0.875 0 3.62891 0 6.96875C0 10.3379 2.72461 13.0625 6.09375 13.0625C7.67578 13.0625 9.14062 12.4473 10.2246 11.4512V11.7441C10.2246 11.8613 10.2539 11.9492 10.3125 12.0078L14.0918 15.7871C14.2383 15.9336 14.4434 15.9336 14.5898 15.7871L14.8828 15.4941C15.0293 15.3477 15.0293 15.1426 14.8828 14.9961ZM6.09375 12.125C3.22266 12.125 0.9375 9.83984 0.9375 6.96875C0.9375 4.12695 3.22266 1.8125 6.09375 1.8125C8.93555 1.8125 11.25 4.12695 11.25 6.96875C11.25 9.83984 8.93555 12.125 6.09375 12.125Z\",\n    fill: \"#B6C3E1\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLookingGlassIcon);\nexport default __webpack_public_path__ + \"static/media/looking-glass-icon.2f53510f.svg\";\nexport { ForwardRef as ReactComponent };","import styled, { css } from \"styled-components\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  letter-spacing: .05em;\r\n  font-family: 'Roboto', sans-serif;\r\n  font-family: 'Open Sans', sans-serif;\r\n  font-family: 'Noto Sans', sans-serif;\r\n  font-family: 'Ubuntu', sans-serif;\r\n  font-family: 'Rubik', sans-serif;\r\n  font-family: \"Segoe UI\", sans-serif;\r\n  line-height: 1.35;\r\n  letter-spacing: 0.05rem;\r\n  \r\n  \r\n  font-size: var(--text-size-primary);\r\n  /* font-weight: 500; */\r\n  color: #45557A;\r\n}\r\n\r\n#root {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\nmain {\r\n  width: 100%;\r\n}\r\n\r\ninput, input:hover, input:active, input:focus {\r\n  outline: none;\r\n}\r\n\r\ntextarea, textarea:hover, textarea:active, textarea:focus {\r\n  outline: none;\r\n}\r\n\r\nimg {\r\n  -ms-flex-item-align: start;\r\n      -ms-grid-row-align: start;\r\n      align-self: start;\r\n}\r\n\r\np {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nul, li {\r\n  display: block;\r\n  padding: 0;\r\n  margin: 0;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\ndiv, p, a, span, input, form, button {\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\na, a:hover {\r\n  text-decoration: none;\r\n  color: inherit;\r\n  font-weight: inherit;\r\n  letter-spacing: inherit;\r\n  font-size: inherit;\r\n}\r\n\r\nbutton {\r\n  border: none;\r\n}\r\n\r\nbutton:focus {\r\n  outline: none;\r\n}\r\n\r\nul, li {\r\n  display: block;\r\n  padding: 0;\r\n  margin: 0;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\nfooter {\r\n  margin-top: auto;\r\n}\r\n\r\n.customSelect {\r\n  /* border: var(----border-primary); */\r\n  \r\n  \r\n  :focus {\r\n    outline: none;\r\n  }\r\n  :active {\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.daySelect {\r\n  /* border: var(--border-primary); */\r\n  flex-grow: 1;\r\n  margin-right: 10px;\r\n}\r\n\r\n.monthSelect {\r\n  /* border: var(--border-primary); */\r\n  flex-grow: 10;\r\n  margin-right: 10px;\r\n}\r\n\r\n.yearSelect {\r\n  /* border: var(--border-primary); */\r\n  flex-grow: 2;\r\n}\r\n\r\n.customSelectInner__control {\r\n  border: var(--border-primary) !important;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n  :active {\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.customSelectInner__indicator-separator {\r\n  display: none;\r\n}\r\n.customSelectInner__indicator {\r\n  svg {\r\n    fill: var(--text-color-secondary);\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n}\r\n\r\n\r\n.react-responsive-modal-root {\r\n  padding-right: 15px !important;\r\n}\r\n\r\n.customOverlay {\r\n    background: rgba(93, 102, 122, 0.6) !important;\r\n    padding: 0 !important;\r\n    padding-right: 15px !important;\r\n    /* filter: blur(4px); */\r\n  }\r\n\r\n  .customModal {\r\n    border-radius: var(--border-radius-primary);\r\n    background: white;\r\n    box-shadow: 0 5px 10px rgba(0,0,0,0.3);\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow-y: visible;\r\n\r\n  }\r\n\r\n\r\n  * {\r\n    --color-primary: #2965F1;\r\n    --color-secondary: #EFF2F9;\r\n    --color-dark-secondary: rgb(211, 218, 235);\r\n    --color-light-secondary: #DFE5F3;\r\n    --color-dark-primary: rgb(18, 62, 165);\r\n    --color-green: #00E296;\r\n    --color-dark-grey: #303030;\r\n    --color-grey: #616161;\r\n    --color-red: #FF3366;\r\n    --color-black: #324164;\r\n\r\n\r\n    --text-color-secondary: #ACB7D1;\r\n    --text-color-dark-secondary: #45557A;\r\n    --text-color-primary: var(--color-black);\r\n    --text-color-link: var(--color-primary);\r\n\r\n\r\n\r\n    --font-size-primary: 15px;\r\n\r\n    --font-size-secondary: 16px;\r\n    --font-family-primary: Open Sans, sans-serif;\r\n    /* --font-family-primary: Roboto, sans-serif; */\r\n    --font-family-secondary: Montserrat, sans-serif;\r\n\r\n    --shadow-primary: 0 5px 5px rgba(211, 218, 235, 0.5);\r\n    --shadow-popup: 0 5px 5px rgba(211, 218, 235, 0.5);\r\n    /* --shadow-popup_dark */\r\n\r\n    --border-radius-primary: 5px;\r\n    --border-primary: 1px solid var(--text-color-secondary);\r\n\r\n    --text-size-primary: 14px;\r\n    --text-size-secondary: 16px;\r\n    --text-size-button: 14px;\r\n\r\n    --icon-size-primary: 25px;\r\n    --icon-size-primary_blue: 25px;\r\n    --icon-size-secondary: 16px;\r\n\r\n    --icon-color-primary: var(--color-primary);\r\n    --icon-color-secondary: var(--text-color-secondary);\r\n\r\n    --z-index-popup: 100;\r\n\r\n\r\n  }\r\n\r\n`;\r\n\r\nexport const svgPrimaryStyle = css`\r\n  width: var(--icon-size-primary);\r\n  height: var(--icon-size-primary);\r\n  fill: var(--text-color-secondary);\r\n  :hover {\r\n    cursor: pointer;\r\n    fill: var(--text-color-dark-secondary);\r\n  }\r\n`;\r\n\r\nexport const svgPrimaryStyleNoHover = css`\r\n  width: var(--icon-size-primary);\r\n  height: var(--icon-size-primary);\r\n  fill: var(--text-color-secondary);\r\n`;\r\n\r\nexport const svgSecondaryStyle = css`\r\n  width: var(--icon-size-secondary);\r\n  height: var(--icon-size-secondary);\r\n  fill: var(--text-color-secondary);\r\n  :hover {\r\n    cursor: pointer;\r\n    fill: var(--text-color-dark-secondary);\r\n  }\r\n`;\r\n\r\nexport const CustomLink = styled(Link)<{ color?: \"black\" }>`\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n\r\n  :hover {\r\n    color: var(--color-primary);\r\n    font-weight: 500;\r\n    text-decoration: underline;\r\n  }\r\n  ${(props) =>\r\n    props.color === \"black\" &&\r\n    `\r\n      color: var(--color-black);\r\n      :hover {\r\n        color: var(--color-black);\r\n      }\r\n  `}\r\n`;\r\n\r\nexport const CustomDate = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nexport const Button = styled.button<{\r\n  size?: \"small\";\r\n  color?: \"secondary\";\r\n  width?: \"fullwidth\";\r\n  marginBottom?: string;\r\n  marginTop?: string;\r\n  marginRight?: string;\r\n  marginLeft?: string;\r\n}>`\r\n  /* display: inline-flex; */\r\n  border-radius: var(--border-radius-primary);\r\n  font-size: var(--font-size-secondary);\r\n  padding: 12px 20px;\r\n  background: var(--color-primary);\r\n  color: white;\r\n  :hover {\r\n    background: var(--color-dark-primary);\r\n    cursor: pointer;\r\n  }\r\n  :disabled {\r\n    background: var(--color-secondary);\r\n    color: var(--text-color-secondary);\r\n    :hover {\r\n      background: var(--color-secondary);\r\n      cursor: default;\r\n    }\r\n  }\r\n\r\n  ${(props) =>\r\n    props.size === \"small\" &&\r\n    `\r\n    padding: 7px 20px;\r\n    font-size: var(--text-size-primary);\r\n  `}\r\n  ${(props) =>\r\n    props.width === \"fullwidth\" &&\r\n    `\r\n    width: 100%;\r\n  `}\r\n  ${(props) =>\r\n    props.color === \"secondary\" &&\r\n    `\r\n        background: var(--color-secondary);\r\n        color: var(--text-color-dark-secondary);\r\n        // border: 1px solid var(--color-dark-secondary);\r\n        :hover {\r\n            background: var(--color-dark-secondary);\r\n        }\r\n    `}\r\n  ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n    ${(props) =>\r\n    props.marginTop &&\r\n    `\r\n    margin-top: ${props.marginTop};\r\n  `}\r\n    ${(props) =>\r\n    props.marginRight &&\r\n    `\r\n    margin-right: ${props.marginRight};\r\n  `}\r\n`;\r\nexport const ContentBox = styled.div<{ marginBottom?: string }>`\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  box-shadow: var(--shadow-primary);\r\n\r\n  background: white;\r\n  ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n`;\r\n\r\nexport const ContentBoxContainer = styled.div`\r\n  padding: 15px;\r\n`;\r\n\r\nexport const Input = styled.input<{ paddingLeft?: string }>`\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 8px 10px;\r\n  /* font-size: var(--text-size-secondary); */\r\n  font-size: var(--text-size-primary);\r\n  width: 100%;\r\n  ::placeholder {\r\n    color: var(--text-color-secondary);\r\n  }\r\n  ${(props) =>\r\n    props.paddingLeft &&\r\n    `\r\n    padding-left: ${props.paddingLeft};\r\n  `}//35px\r\n`;\r\n\r\nexport const TextArea = styled(TextareaAutosize)<{\r\n  $focuse?: boolean;\r\n  marginBottom?: string;\r\n}>`\r\n  border: 1px solid white;\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 11px;\r\n  padding-right: 35px;\r\n  width: 100%;\r\n  position: relative;\r\n  font-size: var(--text-size-primary);\r\n  ::placeholder {\r\n    color: var(--text-color-secondary);\r\n  }\r\n  ${(props) =>\r\n    props.$focuse &&\r\n    `\r\n    border: var(--border-primary);\r\n  `}\r\n  ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n`;\r\nexport const Separator = styled.div`\r\n  border-top: var(--border-primary);\r\n  width: 100%;\r\n  /* background: var(--text-color-secondary); */\r\n`;\r\n\r\nexport const Avatar = styled.img<{\r\n  size: \"small\" | \"medium\" | \"large\" | \"extra-small\" | \"medium-small\";\r\n  marginBottom?: string;\r\n  marginTop?: string;\r\n  marginRight?: string;\r\n  marginLeft?: string;\r\n  // onlineType?: boolean;\r\n}>`\r\n  border-radius: 150px;\r\n  object-fit: cover;\r\n  ${(props) =>\r\n    props.size === \"extra-small\" &&\r\n    `\r\n    width: 25px;\r\n    height: 25px;\r\n    min-width: 25px;\r\n    min-height: 25px;\r\n  `}\r\n  ${(props) =>\r\n    props.size === \"small\" &&\r\n    `\r\n    width: 35px;\r\n    height: 35px;\r\n    min-width: 35px;\r\n    min-height: 35px;\r\n  `}\r\n    ${(props) =>\r\n    props.size === \"medium-small\" &&\r\n    `\r\n    width: 40px;\r\n    height: 40px;\r\n    min-width: 40px;\r\n    min-height: 40px;\r\n  `}\r\n  ${(props) =>\r\n    props.size === \"medium\" &&\r\n    `\r\n    width: 53px;\r\n    height: 53px;\r\n    min-width: 53px;\r\n    min-height: 53px;\r\n  `}\r\n    ${(props) =>\r\n    props.size === \"large\" &&\r\n    `\r\n    width: 150px;\r\n    height: 150px;\r\n    min-width: 150px;\r\n    min-height: 150px;\r\n  `}\r\n    ${(props) =>\r\n    props.marginBottom &&\r\n    `\r\n    margin-bottom: ${props.marginBottom};\r\n  `}\r\n      ${(props) =>\r\n    props.marginTop &&\r\n    `\r\n    margin-top: ${props.marginTop};\r\n  `}\r\n      ${(props) =>\r\n    props.marginRight &&\r\n    `\r\n    margin-right: ${props.marginRight};\r\n  `}\r\n      ${(props) =>\r\n    props.marginLeft &&\r\n    `\r\n    margin-left: ${props.marginLeft};\r\n  `}\r\n`;\r\n\r\nexport const PopupPrimary = styled.div`\r\n  background: white;\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 10px;\r\n`;\r\n\r\nexport const OptionsPopup = styled.div``;\r\n\r\nexport const OptionsPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nexport const NotificationsCount = styled.div<{ top?: string; right?: string }>`\r\n  background: var(--color-red);\r\n  height: 24px;\r\n  width: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid white;\r\n  position: absolute;\r\n  top: 13px;\r\n  right: 7px;\r\n  border-radius: 100px;\r\n  color: white;\r\n  ${(props) =>\r\n    props.top &&\r\n    `\r\n    top: ${props.top};\r\n  `}\r\n  ${(props) =>\r\n    props.right &&\r\n    `\r\n    right: ${props.right};\r\n  `} /* font-size: 11px; */\r\n`;\r\n\r\nexport const AvatarOnlineWrapper = styled.div<{ onlineType?: boolean }>`\r\n  ${(props) =>\r\n    props.onlineType &&\r\n    `\r\n  position: relative;\r\n  :after {\r\n    content: '';\r\n    background: var(--color-green);\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 100px;\r\n    position: absolute;\r\n    bottom: 3px;\r\n    right: 15px;\r\n    border: 2px solid white;\r\n  }\r\n`}\r\n`;\r\n","import {\r\n  fade,\r\n  makeStyles,\r\n  Theme,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nexport const useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"block\",\r\n      },\r\n    },\r\n    search: {\r\n      position: \"relative\",\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: \"100%\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: \"auto\",\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: \"100%\",\r\n      position: \"absolute\",\r\n      pointerEvents: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    inputRoot: {\r\n      color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create(\"width\"),\r\n      width: \"100%\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"20ch\",\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        display: \"flex\",\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerContainer: {\r\n      overflow: \"auto\",\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      padding: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n","import React, { useState, useCallback, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { accessToken } = useContext(AuthContext);\r\n\r\n  const [error, setError] =\r\n    useState<null | {\r\n      message: string;\r\n      errors?: {\r\n        value?: string;\r\n        msg?: string;\r\n        param?: string;\r\n        location?: string;\r\n      }[];\r\n    }>(null);\r\n\r\n  // console.log(\"useHttp\");\r\n\r\n  const request = useCallback(\r\n    async (\r\n      url: string,\r\n      method: string = \"GET\",\r\n      body: any = null,\r\n      headers: any = {}\r\n    ) => {\r\n      setLoading(true);\r\n      try {\r\n        if (body) {\r\n          body = JSON.stringify(body);\r\n          headers[\"Content-Type\"] = \"application/json\";\r\n        }\r\n        if (!headers[\"Authorization\"]) {\r\n          headers[\"Authorization\"] = `Bearer ${accessToken}`;\r\n        }\r\n\r\n        // console.log(\"headers\", headers);\r\n\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          credentials: \"include\",\r\n          // withCredentials: true,\r\n        });\r\n\r\n        // console.log(response);\r\n\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n          setError(data);\r\n          throw new Error(data.message || \"Что-то пошло не так\");\r\n        }\r\n\r\n        setLoading(false);\r\n        return data;\r\n      } catch (e) {\r\n        setLoading(false);\r\n\r\n        throw e;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = useCallback(() => setError(null), []);\r\n  return { loading, request, error, clearError };\r\n};\r\n","import { useEffect, RefObject } from \"react\";\r\n\r\ntype AnyEvent = MouseEvent | TouchEvent;\r\n\r\nfunction useOnClickOutside<T extends HTMLElement = HTMLElement>(\r\n  ref: RefObject<T>,\r\n  handler: (event: AnyEvent) => void\r\n) {\r\n  useEffect(() => {\r\n    const listener = (event: AnyEvent) => {\r\n      // console.log(\"listener\");\r\n      const el = ref?.current;\r\n\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!el || el.contains(event.target as Node)) {\r\n        return;\r\n      }\r\n\r\n      handler(event);\r\n    };\r\n\r\n    document.addEventListener(`mousedown`, listener);\r\n    document.addEventListener(`touchstart`, listener);\r\n\r\n    return () => {\r\n      document.removeEventListener(`mousedown`, listener);\r\n      document.removeEventListener(`touchstart`, listener);\r\n    };\r\n\r\n    // Reload only if ref or handler changes\r\n  }, [ref, handler]);\r\n}\r\n\r\nexport default useOnClickOutside;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNotificationsIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 27,\n    viewBox: \"0 0 26 27\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.7087 25.0625C11.6891 25.0625 10.8962 24.2695 10.8962 23.25H9.08367C9.08367 25.2891 10.6696 26.875 12.7087 26.875C14.6911 26.875 16.3337 25.2891 16.3337 23.25H14.5212C14.5212 24.2695 13.6716 25.0625 12.7087 25.0625ZM24.5466 18.9746C22.9606 17.502 21.7712 15.916 21.7712 10.5352C21.7712 6.06055 18.1462 2.37891 13.6149 1.92578V0.90625C13.6149 0.453125 13.1618 0 12.7087 0C12.1989 0 11.8024 0.453125 11.8024 0.90625V1.92578C7.21453 2.37891 3.58953 6.06055 3.58953 10.5352C3.58953 15.916 2.40008 17.502 0.814143 18.9746C0.0211746 19.7676 -0.205388 20.9004 0.191096 21.9199C0.587581 22.9395 1.60711 23.5625 2.73992 23.5625H22.6774C23.7536 23.5625 24.7731 22.9395 25.1696 21.9199C25.5661 20.9004 25.3395 19.7676 24.5466 18.9746ZM22.6774 21.75H2.73992C1.89032 21.75 1.49383 20.8438 2.06024 20.2773C4.04266 18.4082 5.40203 16.3125 5.40203 10.5352C5.40203 6.74023 8.68719 3.625 12.7087 3.625C16.6735 3.625 19.9587 6.74023 19.9587 10.5352C19.9587 16.3125 21.3181 18.4082 23.3005 20.2773C23.8669 20.8438 23.4704 21.75 22.6774 21.75Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotificationsIcon);\nexport default __webpack_public_path__ + \"static/media/notifications-icon.abd3b569.svg\";\nexport { ForwardRef as ReactComponent };","import { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { useStyles } from \"./useStyles\";\r\nimport styled from \"styled-components\";\r\nimport { useDebounce } from \"../hooks/useDebounce\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as SearchIcon } from \"../assets//icons/looking-glass-icon.svg\";\r\n// import { AuthContext } from \"../context/AuthContext\";\r\n\r\nimport { Input } from \"../styled-components/global\";\r\nimport useOnClickOutside from \"../hooks/useOnClickOutside\";\r\n\r\nconst InputWrapper = styled.div`\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 10px;\r\n  }\r\n`;\r\n\r\nconst ResultsWrapper = styled.div`\r\n  position: absolute;\r\n  top: 45px;\r\n  left: 0;\r\n  width: 100%;\r\n  border: var(--border-primary);\r\n  box-shadow: var(--shadow-popup);\r\n  border-radius: var(--border-radius-primary);\r\n  background: white;\r\n`;\r\n\r\nconst Result = styled(Link)`\r\n  display: flex;\r\n  padding: 15px 12px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n  :hover {\r\n    background: var(--color-light-secondary);\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst ResultAvatar = styled.img`\r\n  /* min-width: 15px;\r\n  min-height: 15px; */\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 100px;\r\n  margin-right: 10px;\r\n`;\r\nconst ResultName = styled.div``;\r\n\r\ntype Props = {\r\n  meUserData: null | IUserData;\r\n};\r\n\r\nconst Search: React.FC<Props> = ({ meUserData }) => {\r\n  const ref = useRef(null);\r\n  useOnClickOutside(ref, () => {\r\n    setIsFocused(false);\r\n  });\r\n  const classes = useStyles();\r\n  const { request } = useHttp();\r\n  const [users, setUsers] = useState<IUserData[]>([]);\r\n  const [isFocused, setIsFocused] = useState<boolean>(false);\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [inputText, setInputText] = useState<string>(\"\");\r\n\r\n  const debouncedText = useDebounce(inputText, 250);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputText(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (debouncedText) {\r\n      request(`/api/search/users?search=${debouncedText}`, \"GET\")\r\n        .then((res) => {\r\n          console.log(\"search res\", res);\r\n          // const filtered = res.users.filter(\r\n          //   (el: IUserData) => el._id !== auth.userData?._id\r\n          // );\r\n          setUsers(res.users);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setUsers([]);\r\n    }\r\n  }, [debouncedText]);\r\n\r\n  const handleClose = () => {\r\n    setInputText(\"\");\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <InputWrapper\r\n        ref={ref}\r\n        onClick={() => {\r\n          if (!isFocused) {\r\n            setIsFocused(true);\r\n          }\r\n        }}\r\n      >\r\n        <SearchIcon />\r\n        <Input\r\n          style={{ fontSize: \"var(--text-size-secondary)\" }}\r\n          placeholder=\"Search...\"\r\n          value={inputText}\r\n          onChange={handleChange}\r\n          paddingLeft=\"35px\"\r\n          // onFocus={() => setIsFocused(true)}\r\n          // onBlur={() => setIsFocused(false)}\r\n        />\r\n        {users.length !== 0 && isFocused && (\r\n          <ResultsWrapper>\r\n            {users.map((user) => {\r\n              // console.log(user._id);\r\n              // if (user._id === meUserData?._id) {\r\n              //   console.log(\"me\", user._id);\r\n              //   return;\r\n              // }\r\n              return (\r\n                <Result\r\n                  key={user._id}\r\n                  to={`/profile/${user._id}`}\r\n                  onClick={() => {\r\n                    setIsFocused(false);\r\n                    setInputText(\"\");\r\n                  }}\r\n                >\r\n                  <ResultAvatar src={user.avatar} />\r\n                  <ResultName>\r\n                    {user.firstName} {user.lastName}\r\n                  </ResultName>\r\n                </Result>\r\n              );\r\n            })}\r\n          </ResultsWrapper>\r\n        )}\r\n      </InputWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useDebounce = (value: string, delay: number): string => {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n};\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGitHub(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"github\",\n    className: \"svg-inline--fa fa-github fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 496 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGitHub);\nexport default __webpack_public_path__ + \"static/media/gitHub.ecb1b24f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\n\r\nexport const useTippyVisibility = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const show = () => setVisible(true);\r\n  const hide = () => setVisible(false);\r\n\r\n  return { visible, show, hide };\r\n};\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  CustomLink,\r\n  NotificationsCount,\r\n  svgPrimaryStyleNoHover,\r\n} from \"../../styled-components/global\";\r\nimport styled from \"styled-components\";\r\nimport { ReactComponent as NotificationsIcon } from \"../../assets/icons/notifications-icon.svg\";\r\nimport { DateTime } from \"luxon\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { useTippyVisibility } from \"../../hooks/useTippyVisibility\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst NotificationsIconWrapper = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  position: relative;\r\n  svg {\r\n    ${svgPrimaryStyleNoHover}\r\n  }\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst NotificationsPopup = styled.div`\r\n  min-width: 250px;\r\n  /* min-height: 300px; */\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  /* &::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    width: 15px;\r\n    height: 15px;\r\n    border: 1px solid black;\r\n  } */\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: none;\r\n    /* box-shadow: inset 0 0 10px black; */\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    background: var(--color-dark-secondary);\r\n    box-shadow: inset 0 0 5px $pale-orange;\r\n  }\r\n`;\r\n\r\nconst NotificationsPopupSelect = styled(Link)<{ isRead: boolean }>`\r\n  display: flex;\r\n  padding: 20px 18px;\r\n  align-items: flex-start;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n  ${(props) =>\r\n    !props.isRead &&\r\n    `\r\n    background: var(--color-secondary);\r\n  `}\r\n`;\r\n\r\nconst NotificationInfo = styled.div``;\r\n\r\nconst NotificationText = styled.div`\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst NotificationDate = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\ntype NotificationProps = {\r\n  notification: any;\r\n  visible: boolean;\r\n};\r\n\r\nconst Notification: React.FC<NotificationProps> = ({\r\n  notification,\r\n  visible,\r\n}) => {\r\n  // const history = useHistory();\r\n  const date = DateTime.fromISO(notification.createdAt).toLocaleString({\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  });\r\n  const { request } = useHttp();\r\n  const { setNotifications } = useContext(AuthContext);\r\n  // console.log(\"NOTIFICATION\", notification);\r\n\r\n  const handleReadNotification = async () => {\r\n    try {\r\n      console.log(\"read notification\", notification);\r\n      const res = await request(`/api/notify/${notification._id}`, \"PUT\");\r\n      console.log(\"i read notificatio\", res);\r\n      setNotifications((prevState: any) => {\r\n        const notificIdx = prevState.findIndex(\r\n          (el: any) => el._id === notification._id\r\n        );\r\n\r\n        const notific = {\r\n          ...notification,\r\n          isRead: true,\r\n        };\r\n        // console.log(\"notific\", notific);\r\n        // console.log(\"notificIdx\", notificIdx);\r\n\r\n        // console.log(\"first slice\", [...prevState.slice(0, notificIdx)]);\r\n        // console.log(\"second slice\", [...prevState.slice(notificIdx + 1)]);\r\n\r\n        const newArr = [\r\n          ...prevState.slice(0, notificIdx),\r\n          notific,\r\n          ...prevState.slice(notificIdx + 1),\r\n        ];\r\n        // console.log(\"prevState\", prevState);\r\n        // console.log(\"newArr\", newArr);\r\n\r\n        return newArr;\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!notification.isRead) {\r\n      handleReadNotification();\r\n    }\r\n  }, []);\r\n  return (\r\n    <NotificationsPopupSelect\r\n      to={notification.url}\r\n      isRead={notification.isRead}\r\n    >\r\n      <Avatar\r\n        style={{ marginRight: \"15px\" }}\r\n        size=\"small\"\r\n        src={notification.user.avatar}\r\n      />\r\n      <NotificationInfo>\r\n        <NotificationText>\r\n          <CustomLink to={`/profile/${notification.user._id}`}>\r\n            {notification.user.firstName} {notification.user.lastName}\r\n          </CustomLink>{\" \"}\r\n          {notification.text}\r\n        </NotificationText>\r\n        <NotificationDate>{date}</NotificationDate>\r\n      </NotificationInfo>\r\n    </NotificationsPopupSelect>\r\n  );\r\n};\r\n\r\ntype Props = {\r\n  setNotifications: React.Dispatch<any>;\r\n  notifications: any;\r\n};\r\nconst Notifications: React.FC<Props> = ({\r\n  notifications,\r\n  setNotifications,\r\n}) => {\r\n  // const count = notifications.length;\r\n  // const [notificationsCount, setNotificationsCount] = useState<number>(count);\r\n  // console.log(\"length\", notificationsCount);\r\n  const { visible, show, hide } = useTippyVisibility();\r\n\r\n  const unreadNotifications = notifications.filter(\r\n    (notif: any) => !notif.isRead\r\n  );\r\n  const notificationList: any = [];\r\n  let iteration = 5;\r\n  notifications.forEach((el: any) => {\r\n    if (!el.isRead) {\r\n      notificationList.push(el);\r\n    } else if (iteration) {\r\n      notificationList.push(el);\r\n      iteration--;\r\n    } else {\r\n      return;\r\n    }\r\n  });\r\n  const handleOpenPopup = () => {\r\n    show();\r\n  };\r\n  const userNotificationsPopup = (\r\n    <ContentBox>\r\n      <NotificationsPopup onClick={visible ? hide : show}>\r\n        {notificationList.length > 0 && visible ? (\r\n          <>\r\n            {notificationList.map((notification: any, idx: number) => {\r\n              // console.log(\"not\", notification);\r\n\r\n              return (\r\n                <Notification\r\n                  key={idx}\r\n                  visible={visible}\r\n                  notification={notification}\r\n                />\r\n              );\r\n            })}\r\n          </>\r\n        ) : (\r\n          <div>No notifications yet...</div>\r\n        )}\r\n      </NotificationsPopup>\r\n    </ContentBox>\r\n  );\r\n  return (\r\n    <Tippy\r\n      content={userNotificationsPopup}\r\n      interactive={true}\r\n      placement={\"bottom-end\"}\r\n      trigger=\"click\"\r\n      duration={0}\r\n      offset={[0, 0]}\r\n      visible={visible}\r\n      onClickOutside={hide}\r\n      onMount={() => console.log(\"mounted!\")}\r\n    >\r\n      <NotificationsIconWrapper onClick={visible ? hide : handleOpenPopup}>\r\n        <NotificationsIcon />\r\n        {unreadNotifications.length > 0 && (\r\n          <NotificationsCount>{unreadNotifications.length}</NotificationsCount>\r\n        )}\r\n        {console.log(\"notifications\", notifications)}\r\n      </NotificationsIconWrapper>\r\n    </Tippy>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgReact(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    className: \"svg-inline--fa fa-react fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReact);\nexport default __webpack_public_path__ + \"static/media/react.721051cd.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMongoDb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 1112.61 300\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M1088.41,233.64A16.61,16.61,0,1,1,1105,216.8a16.4,16.4,0,0,1-16.61,16.84m0-31.72a15.12,15.12,0,1,0,15,15.16,14.87,14.87,0,0,0-15-15.16m4.06,25.61-4.29-9.23h-3.46v9.23h-2.51v-21h6.2c4.62,0,6.53,2.05,6.53,5.88,0,3.08-1.45,5-4.15,5.59l4.43,9.52Zm-7.75-11.43h3.64c2.94,0,4.06-1,4.06-3.68s-1.07-3.6-4.38-3.6h-3.32Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M841.24,218.5c4.5,3.6,13.48,5.08,21.4,5.08,10.26,0,20.31-1.9,30.14-10.78,10.06-9.1,16.9-23.06,16.9-45.26,0-21.36-8.13-38.7-24.81-48.85-9.41-5.92-21.59-8.25-35.5-8.25-4.06,0-8.13.21-10.48,1.27a5.56,5.56,0,0,0-1.92,3c-.43,3.81-.43,32.78-.43,49.91,0,17.55,0,42.08.43,45,.21,2.54,1.5,7,4.27,8.88M798.56,100.93c3.63,0,17.45.63,23.87.63,12,0,20.31-.63,42.77-.63,18.82,0,34.65,5.08,46,14.8,13.69,11.84,21,28.34,21,48.43,0,28.54-13,45-26.09,54.34-13,9.73-29.95,15.23-54.11,15.23-12.83,0-34.86-.42-53.26-.63h-.25c-.85-1.7,1.58-8.29,3.08-8.46,5-.57,6.32-.76,8.63-1.71,3.88-1.6,4.8-3.58,5.23-10.56.64-13.11.43-28.76.43-46.52,0-12.69.21-37.43-.22-45.26-.64-6.55-3.41-8.24-9-9.51a118.52,118.52,0,0,0-12-1.91c-.43-1.27,2.86-7,3.93-8.24\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M985.2,111.66c-.85.21-1.93,2.33-1.93,3.39-.21,7.61-.42,27.49-.42,41.23a1.37,1.37,0,0,0,1.07,1.06c2.78.21,9.62.43,15.39.43,8.13,0,12.84-1.07,15.4-2.34,6.85-3.38,10-10.78,10-18.81,0-18.4-12.83-25.38-31.86-25.38a57.48,57.48,0,0,0-7.7.42m48.55,84.59c0-18.61-13.69-29.18-38.72-29.18-1.06,0-9-.22-10.9.21-.64.21-1.28.63-1.28,1.06,0,13.32-.22,34.68.42,43.14.43,3.59,3,8.67,6.21,10.15,3.42,1.9,11.12,2.32,16.47,2.32,14.75,0,27.8-8.24,27.8-27.7M946.57,101.3c1.93,0,7.62.63,22.16.63,13.69,0,24.81-.42,38.07-.42,16.47,0,39.14,5.93,39.14,30.45,0,12.06-8.56,21.78-19.68,26.44-.64.21-.64.63,0,.84,15.83,4,29.73,13.75,29.73,32.36,0,18.18-11.33,29.61-27.8,36.79-10.06,4.45-22.46,5.92-35.08,5.92-9.62,0-35.41-1.05-49.74-.84-1.5-.63,1.37-7.4,2.65-8.46a39.93,39.93,0,0,0,9.7-1.52c5.13-1.26,5.74-2.92,6.38-10.53.43-6.56.43-30,.43-46.74,0-22.84.21-38.27,0-45.89-.22-5.92-2.35-7.83-6.42-8.88-3.2-.64-8.55-1.27-12.82-1.9-1.08-1.06,2.22-7.41,3.28-8.25\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M179.51,233.64a9.24,9.24,0,0,1-.66-4.28,5.5,5.5,0,0,1,.66-2.85,73.34,73.34,0,0,0,8.21-1.67c3.78-.94,5.2-3,5.43-7.83.62-11.4.65-32.79.43-47.83v-.44c0-1.62,0-3.82-2-5.38a43,43,0,0,0-11.34-5c-1.8-.53-2.79-1.47-2.73-2.57S178.7,153.4,181,153c6.19-.64,22.43-4.51,28.8-7.46a4.2,4.2,0,0,1,.86,3c0,.66-.1,1.36-.17,2.08-.18,2.13-.38,4.54-.38,6.94a1.58,1.58,0,0,0,2.68.91c12.15-9.52,23-12.92,28.6-12.92,9.18,0,16.33,4.39,21.86,13.42a1.49,1.49,0,0,0,1.25.73,1.39,1.39,0,0,0,1.15-.62c11.17-8.47,22.24-13.53,29.63-13.53,17.51,0,28,13.11,28,35.06,0,6.31-.06,14.3-.12,21.77-.05,6.54-.1,12.68-.1,16.93,0,1,1.38,3.88,3.45,4.45,2.56,1.25,6.26,1.89,10.93,2.69l.18,0c.36,1.26-.38,6.15-1.1,7.15-1.16,0-2.76-.09-4.76-.19-3.63-.18-8.62-.44-14.42-.44-11.63,0-17.71.23-23.52.61-.43-1.45-.59-6.14-.05-7.11a64.2,64.2,0,0,0,7.09-1.67c3.7-1.22,4.77-2.9,5-7.82.09-3.5.76-34.28-.43-41.59-1.1-7.57-6.8-16.44-19.29-16.44-4.63,0-12.11,1.93-19.25,7.34a2.84,2.84,0,0,0-.69,1.81v.15c.84,3.94.84,8.54.84,15.51,0,4,0,8.17-.05,12.35-.05,8.49-.09,16.5.05,22.55,0,4.13,2.49,5.12,4.5,5.91,1.09.24,2,.45,2.82.65,1.68.41,3.42.83,6,1.24a11.49,11.49,0,0,1-.1,5.32,4,4,0,0,1-.75,1.82c-6.46-.22-13.1-.42-22.68-.42-2.9,0-7.64.13-11.83.24-3.38.09-6.6.18-8.42.19A8.34,8.34,0,0,1,236,230a6.38,6.38,0,0,1,.67-3.44l2.57-.47c2.24-.4,4.18-.74,6-1.2,3.17-1,4.36-2.73,4.6-6.76.62-9.41,1.1-36.52-.23-43.31-2.27-10.89-8.47-16.42-18.44-16.42-5.84,0-13.21,2.81-19.23,7.33a5.83,5.83,0,0,0-1.78,4.35c0,3.23,0,7.08,0,11.2,0,13.61-.09,30.56.24,37.9.2,2.25,1,4.93,5.24,5.92.93.27,2.53.53,4.39.84,1.08.18,2.25.37,3.45.59a15.21,15.21,0,0,1-.57,7.16c-1.86,0-4.15-.12-6.77-.24-4-.17-9-.4-14.67-.4-6.69,0-11.34.23-15.08.4-2.51.13-4.68.23-6.85.24\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M394.18,154.55A18.28,18.28,0,0,0,384,157.42c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.43,42.14,30.21,42.14A19,19,0,0,0,416,221.73c5.46-4.46,8.36-13.57,8.36-26.32,0-24.44-12.14-40.86-30.21-40.86m3.43,81C365.47,235.54,354,212,354,189.92c0-15.41,6.3-27.46,18.72-35.81a57.11,57.11,0,0,1,28.92-8.56c24.52,0,41.65,17.64,41.65,42.89,0,17.16-6.85,30.71-19.79,39.18-6.21,3.81-17,7.92-25.92,7.92\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M721.32,154.55a18.27,18.27,0,0,0-10.24,2.87c-7.42,4.52-11.21,13.53-11.21,26.78,0,24.81,12.42,42.14,30.21,42.14a19,19,0,0,0,13.08-4.62c5.46-4.45,8.36-13.56,8.36-26.31,0-24.44-12.14-40.86-30.2-40.86m3.42,81c-32.14,0-43.58-23.57-43.58-45.62,0-15.42,6.3-27.46,18.73-35.81a57,57,0,0,1,28.91-8.56c24.52,0,41.65,17.64,41.65,42.88,0,17.18-6.85,30.72-19.79,39.18-6.21,3.82-17,7.93-25.92,7.93\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M613.14,153.7c-9.91,0-16.31,7.82-16.31,19.93s5.51,26.49,21,26.49c2.67,0,7.5-1.19,9.89-3.82,3.6-3.31,5.95-10.16,5.95-17.38,0-15.79-7.68-25.22-20.54-25.22m-1.29,83.53a16.41,16.41,0,0,0-8,2c-7.84,5-11.47,10.05-11.47,15.83,0,5.45,2.12,9.78,6.66,13.63,5.51,4.66,12.93,6.93,22.69,6.93,19.21,0,27.82-10.33,27.82-20.56,0-7.13-3.58-11.9-10.93-14.6-5.67-2.08-15.14-3.22-26.73-3.22m1.29,49.07c-11.54,0-19.85-2.44-26.95-7.9-6.9-5.33-10-13.24-10-18.7a14.61,14.61,0,0,1,3.78-9.51c2-2.29,6.67-6.56,17.42-14a.9.9,0,0,0,.57-.85.89.89,0,0,0-.68-.88c-8.87-3.39-11.54-9-12.34-12,0-.11-.05-.28-.09-.47-.26-1.19-.5-2.3,1.11-3.46,1.24-.88,3.23-2.06,5.35-3.31a71,71,0,0,0,8.59-5.6,1.35,1.35,0,0,0,.37-1.19,1.39,1.39,0,0,0-.72-1c-13.12-4.4-19.72-14.15-19.72-29a28.87,28.87,0,0,1,12.11-23.76c5.28-4.17,18.52-9.18,27.1-9.18h.5c8.82.21,13.8,2.06,20.68,4.61a32.89,32.89,0,0,0,12.23,2c7.3,0,10.49-2.32,13.23-5a11.39,11.39,0,0,1,.7,3.78A14.17,14.17,0,0,1,664,159.6c-1.5,2.07-5,3.58-8.22,3.58-.34,0-.65,0-1-.05a29.36,29.36,0,0,1-5-.83l-.82.28c-.26.39-.09.81.12,1.35a2.74,2.74,0,0,1,.12.32,58.87,58.87,0,0,1,1.19,8.11c0,15.57-6.13,22.35-12.77,27.37a43.59,43.59,0,0,1-22.07,8.53h0c-.17,0-1,.08-2.55.22-1,.09-2.31.2-2.5.2l-.19,0c-1.44.41-5.21,2.2-5.21,5.52,0,2.77,1.71,6.21,9.84,6.82l5.26.37c10.74.75,24.14,1.68,30.45,3.82a21.08,21.08,0,0,1,14.08,20.29c0,14-9.92,27.1-26.55,35.12a57.66,57.66,0,0,1-25.11,5.65\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M564,226.19c-4.71-.63-8.14-1.27-12.19-3.17a5.56,5.56,0,0,1-1.5-3c-.43-6.56-.43-25.59-.43-38.07,0-10.15-1.71-19-6-25.37-5.13-7.19-12.4-11.42-21.81-11.42-8.34,0-19.46,5.7-28.66,13.53-.22.21-1.63,1.55-1.59-.53s.35-6.31.54-9a4.6,4.6,0,0,0-1.4-3.92c-6,3-22.85,7-29.08,7.61-4.55.88-5.7,5.26-.85,6.77l.07,0a41.79,41.79,0,0,1,11.05,4.84c1.92,1.48,1.7,3.6,1.7,5.29.21,14.17.21,35.95-.42,47.8-.22,4.65-1.5,6.34-4.93,7.19l.32-.11a66.65,66.65,0,0,1-7.92,1.48c-1.07,1.05-1.07,7.19,0,8.46,2.14,0,13.05-.63,22-.63,12.4,0,18.82.63,22,.63,1.29-1.48,1.71-7.19.85-8.46a45.12,45.12,0,0,1-8.77-1.27c-3.42-.84-4.27-2.54-4.48-6.34-.43-9.94-.43-31.09-.43-45.47,0-4,1.06-5.92,2.35-7,4.28-3.81,11.33-6.34,17.54-6.34,6,0,10.05,1.9,13,4.44,4.07,3.38,5.56,8.24,6,11.84.86,8,.64,24.11.64,38.06,0,7.62-.64,9.53-3.42,10.37-1.28.63-4.71,1.27-8.77,1.69-1.28,1.27-.86,7.19,0,8.46,5.56,0,12-.63,21.39-.63,11.76,0,19.24.63,22.24.63,1.28-1.48,1.71-7,.86-8.46\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M131.69,120.49C116.44,53.19,80.4,31.06,76.53,22.61,72.27,16.63,68,6,68,6c-.08-.17-.19-.49-.32-.8-.44,5.95-.67,8.27-6.3,14.29C52.62,26.36,7.82,63.94,4.17,140.41c-3.4,71.29,51.52,113.79,59,119.21l.84.59,0,0c.05.35,2.36,17,4,34.57l5.81,0a344.12,344.12,0,0,1,6.14-37l.45-.3a97.92,97.92,0,0,0,9.48-7.76l.34-.31a136.77,136.77,0,0,0,43.89-102.11A163.1,163.1,0,0,0,131.69,120.49ZM67.32,219.36s0-100,3.35-100c2.57,0,5.91,129,5.91,129C72,247.82,67.32,227.14,67.32,219.36Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMongoDb);\nexport default __webpack_public_path__ + \"static/media/mongoDB.798a28af.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSocketIo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M45.2 29.57c-.106-6.514-3.734-12.843-9.348-16.18-4.422-2.754-10-3.495-15.04-2.224-7.573 1.907-13.6 8.765-14.38 16.577-.953 7.388 2.78 15.067 9.162 18.854 6.25 3.92 14.75 3.76 20.867-.37 5.508-3.575 8.924-10.1 8.74-16.656zm-18.377 17c-8.844.874-17.398-6.62-17.636-15.5-.662-7.203 4.078-14.326 10.857-16.7 9.506-3.813 21.184 3.23 22.164 13.426 1.536 9.162-6.1 18.483-15.385 18.775zm-5.826-17.555l12.8-10.46-6.9 10.486c-1.96 0-3.92 0-5.88-.026zm3.6 1.933l5.88.026-12.8 10.486 6.9-10.513z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.065 35.91c.648.367 1.62.627 2.7.627 2.356 0 3.61-1.167 3.61-2.766-.022-1.318-.756-2.14-2.356-2.7-1.124-.41-1.556-.67-1.556-1.232 0-.54.432-.93 1.232-.93.778 0 1.49.28 1.88.52l.432-1.578c-.52-.28-1.36-.52-2.356-.52-2.053 0-3.35 1.2-3.35 2.788-.022 1.037.713 1.988 2.442 2.593 1.102.39 1.448.692 1.448 1.297 0 .583-.432.972-1.426.972-.8 0-1.772-.324-2.27-.627zm11.39-8.623c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004zm11.735 5.49a4.49 4.49 0 0 1-1.772.346c-1.534 0-2.7-1.037-2.7-2.853-.022-1.62.994-2.874 2.7-2.874.8 0 1.318.173 1.686.346l.41-1.664c-.52-.238-1.34-.41-2.16-.41-3.112 0-4.927 2.075-4.927 4.733 0 2.745 1.794 4.517 4.56 4.517 1.102 0 2.03-.238 2.507-.454zm3.436-10.978h-2.248v12.923h2.248V33.34l.756-.886 2.55 3.912h2.745l-3.74-5.23 3.285-3.63h-2.7l-2.14 2.853c-.238.303-.497.692-.713 1.037h-.043zM91.24 32.54c.043-.194.065-.52.065-.95 0-1.945-.95-4.322-3.825-4.322-2.83 0-4.322 2.312-4.322 4.776 0 2.7 1.686 4.473 4.56 4.473 1.275 0 2.334-.238 3.1-.54l-.324-1.556c-.67.26-1.426.41-2.464.41-1.426 0-2.68-.692-2.723-2.29zm-5.92-1.556c.086-.908.67-2.16 2.053-2.16 1.49 0 1.86 1.34 1.837 2.16zm7.413-5.49v2h-1.253v1.664h1.275v4.17c0 1.167.216 1.967.692 2.464.41.454 1.102.735 1.923.735.713 0 1.297-.086 1.62-.216l-.043-1.707c-.194.065-.497.108-.864.108-.864 0-1.145-.562-1.145-1.642v-3.912h2.14v-1.664h-2.14v-2.55zM99 36.56c.843 0 1.383-.627 1.383-1.448 0-.864-.562-1.448-1.383-1.448-.8 0-1.383.605-1.383 1.448 0 .82.562 1.448 1.383 1.448zm4.668-.216v-8.86h-2.248v8.86zm-1.124-12.556c-.756 0-1.253.52-1.253 1.2 0 .67.497 1.2 1.232 1.2.778 0 1.275-.52 1.275-1.2-.022-.67-.497-1.2-1.253-1.2zm6.786 3.5c-2.68 0-4.582 1.794-4.582 4.7 0 2.83 1.923 4.56 4.43 4.56 2.248 0 4.538-1.448 4.538-4.71.022-2.68-1.75-4.538-4.387-4.538zm-.043 1.642c1.534 0 2.14 1.578 2.14 2.96 0 1.794-.886 3.047-2.16 3.047-1.36 0-2.204-1.297-2.204-3.004 0-1.47.627-3.004 2.226-3.004z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSocketIo);\nexport default __webpack_public_path__ + \"static/media/socketIO.35bda906.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNodeJs(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"node\",\n    className: \"svg-inline--fa fa-node fa-w-20\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 640 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M316.3 452c-2.1 0-4.2-.6-6.1-1.6L291 439c-2.9-1.6-1.5-2.2-.5-2.5 3.8-1.3 4.6-1.6 8.7-4 .4-.2 1-.1 1.4.1l14.8 8.8c.5.3 1.3.3 1.8 0L375 408c.5-.3.9-.9.9-1.6v-66.7c0-.7-.3-1.3-.9-1.6l-57.8-33.3c-.5-.3-1.2-.3-1.8 0l-57.8 33.3c-.6.3-.9 1-.9 1.6v66.7c0 .6.4 1.2.9 1.5l15.8 9.1c8.6 4.3 13.9-.8 13.9-5.8v-65.9c0-.9.7-1.7 1.7-1.7h7.3c.9 0 1.7.7 1.7 1.7v65.9c0 11.5-6.2 18-17.1 18-3.3 0-6 0-13.3-3.6l-15.2-8.7c-3.7-2.2-6.1-6.2-6.1-10.5v-66.7c0-4.3 2.3-8.4 6.1-10.5l57.8-33.4c3.7-2.1 8.5-2.1 12.1 0l57.8 33.4c3.7 2.2 6.1 6.2 6.1 10.5v66.7c0 4.3-2.3 8.4-6.1 10.5l-57.8 33.4c-1.7 1.1-3.8 1.7-6 1.7zm46.7-65.8c0-12.5-8.4-15.8-26.2-18.2-18-2.4-19.8-3.6-19.8-7.8 0-3.5 1.5-8.1 14.8-8.1 11.9 0 16.3 2.6 18.1 10.6.2.8.8 1.3 1.6 1.3h7.5c.5 0 .9-.2 1.2-.5.3-.4.5-.8.4-1.3-1.2-13.8-10.3-20.2-28.8-20.2-16.5 0-26.3 7-26.3 18.6 0 12.7 9.8 16.1 25.6 17.7 18.9 1.9 20.4 4.6 20.4 8.3 0 6.5-5.2 9.2-17.4 9.2-15.3 0-18.7-3.8-19.8-11.4-.1-.8-.8-1.4-1.7-1.4h-7.5c-.9 0-1.7.7-1.7 1.7 0 9.7 5.3 21.3 30.6 21.3 18.5 0 29-7.2 29-19.8zm54.5-50.1c0 6.1-5 11.1-11.1 11.1s-11.1-5-11.1-11.1c0-6.3 5.2-11.1 11.1-11.1 6-.1 11.1 4.8 11.1 11.1zm-1.8 0c0-5.2-4.2-9.3-9.4-9.3-5.1 0-9.3 4.1-9.3 9.3 0 5.2 4.2 9.4 9.3 9.4 5.2-.1 9.4-4.3 9.4-9.4zm-4.5 6.2h-2.6c-.1-.6-.5-3.8-.5-3.9-.2-.7-.4-1.1-1.3-1.1h-2.2v5h-2.4v-12.5h4.3c1.5 0 4.4 0 4.4 3.3 0 2.3-1.5 2.8-2.4 3.1 1.7.1 1.8 1.2 2.1 2.8.1 1 .3 2.7.6 3.3zm-2.8-8.8c0-1.7-1.2-1.7-1.8-1.7h-2v3.5h1.9c1.6 0 1.9-1.1 1.9-1.8zM137.3 191c0-2.7-1.4-5.1-3.7-6.4l-61.3-35.3c-1-.6-2.2-.9-3.4-1h-.6c-1.2 0-2.3.4-3.4 1L3.7 184.6C1.4 185.9 0 188.4 0 191l.1 95c0 1.3.7 2.5 1.8 3.2 1.1.7 2.5.7 3.7 0L42 268.3c2.3-1.4 3.7-3.8 3.7-6.4v-44.4c0-2.6 1.4-5.1 3.7-6.4l15.5-8.9c1.2-.7 2.4-1 3.7-1 1.3 0 2.6.3 3.7 1l15.5 8.9c2.3 1.3 3.7 3.8 3.7 6.4v44.4c0 2.6 1.4 5.1 3.7 6.4l36.4 20.9c1.1.7 2.6.7 3.7 0 1.1-.6 1.8-1.9 1.8-3.2l.2-95zM472.5 87.3v176.4c0 2.6-1.4 5.1-3.7 6.4l-61.3 35.4c-2.3 1.3-5.1 1.3-7.4 0l-61.3-35.4c-2.3-1.3-3.7-3.8-3.7-6.4v-70.8c0-2.6 1.4-5.1 3.7-6.4l61.3-35.4c2.3-1.3 5.1-1.3 7.4 0l15.3 8.8c1.7 1 3.9-.3 3.9-2.2v-94c0-2.8 3-4.6 5.5-3.2l36.5 20.4c2.3 1.2 3.8 3.7 3.8 6.4zm-46 128.9c0-.7-.4-1.3-.9-1.6l-21-12.2c-.6-.3-1.3-.3-1.9 0l-21 12.2c-.6.3-.9.9-.9 1.6v24.3c0 .7.4 1.3.9 1.6l21 12.1c.6.3 1.3.3 1.8 0l21-12.1c.6-.3.9-.9.9-1.6v-24.3zm209.8-.7c2.3-1.3 3.7-3.8 3.7-6.4V192c0-2.6-1.4-5.1-3.7-6.4l-60.9-35.4c-2.3-1.3-5.1-1.3-7.4 0l-61.3 35.4c-2.3 1.3-3.7 3.8-3.7 6.4v70.8c0 2.7 1.4 5.1 3.7 6.4l60.9 34.7c2.2 1.3 5 1.3 7.3 0l36.8-20.5c2.5-1.4 2.5-5 0-6.4L550 241.6c-1.2-.7-1.9-1.9-1.9-3.2v-22.2c0-1.3.7-2.5 1.9-3.2l19.2-11.1c1.1-.7 2.6-.7 3.7 0l19.2 11.1c1.1.7 1.9 1.9 1.9 3.2v17.4c0 2.8 3.1 4.6 5.6 3.2l36.7-21.3zM559 219c-.4.3-.7.7-.7 1.2v13.6c0 .5.3 1 .7 1.2l11.8 6.8c.4.3 1 .3 1.4 0L584 235c.4-.3.7-.7.7-1.2v-13.6c0-.5-.3-1-.7-1.2l-11.8-6.8c-.4-.3-1-.3-1.4 0L559 219zm-254.2 43.5v-70.4c0-2.6-1.6-5.1-3.9-6.4l-61.1-35.2c-2.1-1.2-5-1.4-7.4 0l-61.1 35.2c-2.3 1.3-3.9 3.7-3.9 6.4v70.4c0 2.8 1.9 5.2 4 6.4l61.2 35.2c2.4 1.4 5.2 1.3 7.4 0l61-35.2c1.8-1 3.1-2.7 3.6-4.7.1-.5.2-1.1.2-1.7zm-74.3-124.9l-.8.5h1.1l-.3-.5zm76.2 130.2l-.4-.7v.9l.4-.2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNodeJs);\nexport default __webpack_public_path__ + \"static/media/nodeJS.e857c44e.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTypescript(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"-64.9 417 256 61.369\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M-33.33 422.558h-13.125v40.558h-5.32v-40.558H-64.9V417.7h31.453v4.848h.118zm25.188 8.158l-14.9 37.602c-2.72 6.74-6.385 10.05-11.233 10.05-1.3 0-2.483-.118-3.43-.355V473.4c1.064.355 2.128.6 3.074.6 2.6 0 4.612-1.537 5.912-4.73l2.6-6.15-12.652-32.4h5.794l8.75 24.95c.118.355.355 1.182.7 2.483h.236c.118-.473.355-1.3.6-2.365l9.223-25.068h5.32zm8.75 27.788H.5v19.63h-5.203v-47.298H.5v5.676h.118c2.6-4.257 6.267-6.503 11.233-6.503 4.14 0 7.45 1.42 9.814 4.375s3.547 6.74 3.547 11.706c0 5.44-1.3 9.814-3.902 13.007s-6.267 4.848-10.88 4.848c-4.257 0-7.45-1.774-9.814-5.44zM.5 445.38v4.493c0 2.72.828 4.966 2.6 6.858s3.902 2.838 6.622 2.838c3.193 0 5.558-1.182 7.45-3.666s2.72-5.794 2.72-10.05c0-3.666-.828-6.385-2.483-8.514-1.655-2-3.902-3.074-6.74-3.074-3.074 0-5.44 1.064-7.33 3.193S.5 442.186.5 445.38zm56.758 2.838h-22.94c.118 3.666 1.064 6.385 2.956 8.395s4.375 2.956 7.686 2.956c3.666 0 6.976-1.182 10.05-3.666v4.848c-2.838 2.128-6.622 3.074-11.352 3.074-4.612 0-8.16-1.42-10.76-4.375s-3.902-7.095-3.902-12.416c0-5.085 1.42-9.105 4.257-12.297s6.385-4.73 10.642-4.73 7.568 1.42 9.814 4.14c2.365 2.72 3.43 6.503 3.43 11.47v2.6h.118zm-5.32-4.375c0-2.956-.7-5.32-2.128-6.976s-3.43-2.483-5.912-2.483-4.493.828-6.267 2.6c-1.655 1.774-2.72 4.02-3.193 6.858h17.5zm8.16 17.737v-3.547c3.3 2.128 6.503 3.074 9.933 3.074 3.547 0 6.267-.7 8.04-2.247 1.892-1.42 2.72-3.547 2.72-6.15 0-2.365-.6-4.14-1.892-5.558-1.182-1.42-3.902-3.3-8.04-5.676-4.612-2.72-7.568-4.966-8.75-6.74a11.2 11.2 0 0 1-1.892-6.267c0-3.193 1.3-5.912 3.784-8.16s5.79-3.31 9.93-3.31c2.72 0 5.44.473 8.16 1.42v3.3a21.13 21.13 0 0 0-8.514-1.774c-3.074 0-5.558.828-7.33 2.365s-2.72 3.547-2.72 5.912.6 4.14 1.892 5.558c1.182 1.42 3.902 3.193 8.04 5.558 4.257 2.365 7.095 4.493 8.514 6.385s2.128 4.02 2.128 6.503c0 3.43-1.182 6.267-3.666 8.514-2.365 2.247-5.794 3.3-10.287 3.3-1.537 0-3.3-.236-5.44-.7-1.892-.6-3.43-1.182-4.612-1.774zm51.436.118c-2.365 1.42-5.32 2.247-8.632 2.247-4.375 0-7.922-1.537-10.642-4.493-2.72-3.074-4.02-6.976-4.02-11.943 0-5.203 1.537-9.34 4.612-12.652s6.976-4.966 11.706-4.966c2.483 0 4.848.473 7.213 1.537v3.3a14.47 14.47 0 0 0-7.686-2.128c-3.784 0-6.858 1.42-9.223 4.14S91.3 443.014 91.3 447.4c0 4.257 1.064 7.568 3.193 10.17s4.966 3.784 8.514 3.784c3.193 0 6.03-.828 8.514-2.6v2.956zm19.63-27.906c-.946-.7-2.128-1.064-3.43-1.064-2.6 0-4.73 1.3-6.385 3.902-1.774 2.6-2.6 6.385-2.6 11.233v15.254H115.9v-32.4h2.838v7.213h.118c.7-2.483 1.892-4.375 3.547-5.794s3.43-2 5.557-2c1.182 0 2.247.236 3.193.6v3.074zm4.966-11.233c-.6 0-1.182-.236-1.655-.7s-.7-1.064-.7-1.774.236-1.3.7-1.655c.473-.473 1.064-.6 1.655-.6.7 0 1.182.236 1.774.6.473.473.7.946.7 1.655s-.236 1.3-.7 1.774c-.6.473-1.064.7-1.774.7zm-1.42 40.676v-32.4h2.956v32.4H134.7zm13.125-5.794h-.118v20.693h-2.956v-47.298h2.956v6.74h.118c1.182-2.365 2.838-4.257 4.966-5.558s4.493-1.892 7.095-1.892c4.14 0 7.33 1.42 9.696 4.257s3.43 6.74 3.43 11.588c0 5.44-1.3 9.814-4.02 13.125-2.6 3.3-6.15 4.966-10.524 4.966-4.73-.118-8.277-2.247-10.642-6.622zm-.118-12.06v4.14c0 3.3 1.064 6.03 3.074 8.395s4.73 3.547 8.04 3.547 6.03-1.42 8.04-4.257 3.074-6.622 3.074-11.233c0-4.02-.946-7.33-2.838-9.696s-4.493-3.547-7.568-3.547c-3.784 0-6.74 1.3-8.75 3.784s-3.074 5.44-3.074 8.868zm43.393 17.38c-1.537.7-2.956 1.064-4.257 1.064-4.848 0-7.213-2.838-7.213-8.632v-21.757h-5.794v-2.72h5.794v-8.395c.473-.118.946-.355 1.42-.473s.946-.355 1.42-.473v9.46h8.514v2.72h-8.514v21.402c0 2.247.355 3.902 1.064 4.848s1.892 1.537 3.547 1.537c1.182 0 2.483-.355 3.902-1.182v2.6h.118z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTypescript);\nexport default __webpack_public_path__ + \"static/media/typescript.a24bf988.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCrossIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCrossIcon);\nexport default __webpack_public_path__ + \"static/media/cross-icon.840ad556.svg\";\nexport { ForwardRef as ReactComponent };","// import { Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import { faReact } from \"@fortawesome/free-brands-svg-icons\";\r\n// import { faGithub } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { ReactComponent as GitHubIcon } from \"../assets/icons/footer/gitHub.svg\";\r\nimport { ReactComponent as ReactIcon } from \"../assets/icons/footer/react.svg\";\r\nimport { ReactComponent as MongoDBIcon } from \"../assets/icons/footer/mongoDB.svg\";\r\nimport { ReactComponent as SocketIOIcon } from \"../assets/icons/footer/socketIO.svg\";\r\nimport { ReactComponent as NodeIcon } from \"../assets/icons/footer/nodeJS.svg\";\r\nimport { ReactComponent as TypescriptIcon } from \"../assets/icons/footer/typescript.svg\";\r\nimport styled from \"styled-components\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Wrapper = styled.footer`\r\n  /* background: black; */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 40px 0 30px;\r\n`;\r\n\r\nconst Creator = styled.a`\r\n  display: flex;\r\n  border: 1px solid var(--text-color-secondary);\r\n  border-radius: 5px;\r\n  padding: 15px 20px;\r\n  align-items: center;\r\n  margin-right: 25px;\r\n  min-width: 190px;\r\n  width: 150px;\r\n  svg {\r\n    width: 35px;\r\n    margin-right: 10px;\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\nconst CreatorInfo = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst CreatorName = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst ReactIconWrapper = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 18px;\r\n  color: var(--text-color-secondary);\r\n  margin-right: 25px;\r\n  :hover {\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  svg {\r\n    width: 35px;\r\n    margin-right: 7px;\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst NodeJsWrapper = styled.a`\r\n  margin-right: 25px;\r\n  svg {\r\n    width: 65px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst MongoDBWrapper = styled.a`\r\n  margin-right: 15px;\r\n  svg {\r\n    width: 95px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst SocketIOWrapper = styled.a`\r\n  margin-right: 15px;\r\n  svg {\r\n    min-width: 65px;\r\n    width: 120px;\r\n    height: 60px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst TypescriptWrapper = styled.a`\r\n  margin-right: 20px;\r\n  svg {\r\n    width: 90px;\r\n    /* margin-right: 7px; */\r\n    fill: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst Footer = () => {\r\n  const location = useLocation();\r\n  console.log(\"location\", location.pathname.includes(\"conversation\"));\r\n  if (location.pathname.includes(\"conversation\")) {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <Wrapper translate=\"no\" className=\"footer notranslate\">\r\n      <Creator\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://github.com/antonlavrinov/social-media\"\r\n      >\r\n        <GitHubIcon />\r\n        <CreatorInfo>\r\n          Created by\r\n          <CreatorName>Anton Lavrinov</CreatorName>\r\n        </CreatorInfo>\r\n      </Creator>\r\n      <ReactIconWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://reactjs.org/\"\r\n      >\r\n        <ReactIcon />\r\n        React\r\n      </ReactIconWrapper>\r\n      <NodeJsWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://nodejs.org/en/\"\r\n      >\r\n        <NodeIcon />\r\n      </NodeJsWrapper>\r\n      <MongoDBWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://www.mongodb.com/\"\r\n      >\r\n        <MongoDBIcon />\r\n      </MongoDBWrapper>\r\n      <SocketIOWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://socket.io/\"\r\n      >\r\n        <SocketIOIcon />\r\n      </SocketIOWrapper>\r\n      <TypescriptWrapper\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        href=\"https://www.typescriptlang.org/\"\r\n      >\r\n        <TypescriptIcon />\r\n      </TypescriptWrapper>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as ProfileIcon } from \"../assets/icons/profile-icon.svg\";\r\nimport { ReactComponent as MessagesIcon } from \"../assets/icons/messages-icon.svg\";\r\nimport { ReactComponent as FriendsIcon } from \"../assets/icons/friends-icon.svg\";\r\nimport { ReactComponent as LogoIcon } from \"../assets/icons/intouch-logo.svg\";\r\nimport { ReactComponent as ArrowIcon } from \"../assets/icons/arrow-more-icon.svg\";\r\n\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  NotificationsCount,\r\n  svgPrimaryStyleNoHover,\r\n  svgSecondaryStyle,\r\n} from \"../styled-components/global\";\r\nimport Search from \"./Search\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport Notifications from \"./profile-page/Notifications\";\r\nimport { useTippyVisibility } from \"../hooks/useTippyVisibility\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst Logo = styled(Link)`\r\n  font-size: 25px;\r\n  font-size: 28px;\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  color: var(--text-color-link);\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 55px;\r\n  margin-left: 5px;\r\n  svg {\r\n    fill: var(--color-primary);\r\n    min-width: 10px;\r\n    margin-right: 10px;\r\n  }\r\n  :hover {\r\n    font-size: 25px;\r\n    font-size: 28px;\r\n    font-family: var(--font-family-secondary);\r\n    font-weight: 700;\r\n    color: var(--text-color-link);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 960px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst MainWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  border-bottom: var(--border-primary);\r\n  box-shadow: var(--shadow-primary);\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst HeaderWrapper = styled.div`\r\n  display: flex;\r\n  /* padding: 20px 0; */\r\n  position: relative;\r\n`;\r\n\r\nconst Navigation = styled.nav`\r\n  min-width: 170px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst NavigationLink = styled(Link)`\r\n  font-size: var(--font-size-secondary);\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px 5px;\r\n  border-radius: var(--border-radius-primary);\r\n  position: relative;\r\n  color: var(--color-black);\r\n  /* font-weight: 600; */\r\n  svg {\r\n    margin-right: 3px;\r\n    height: var(--icon-size-primary);\r\n    width: var(--icon-size-primary);\r\n    height: 35px;\r\n    width: 35px;\r\n    fill: var(--color-primary);\r\n    /* ${svgSecondaryStyle} */\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    font-size: var(--font-size-secondary);\r\n    /* font-weight: 600; */\r\n  }\r\n`;\r\n\r\nconst NavigationLinkIcon = styled.div`\r\n  display: flex;\r\n  margin-right: 5px;\r\n  position: relative;\r\n`;\r\n\r\nconst UserNavbar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  margin-left: auto;\r\n  /* padding: 15px 0; */\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 100%;\r\n  padding: 15px 5px;\r\n  img {\r\n    align-self: center;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n    background: var(--color-secondary);\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 38px;\r\n  height: 38px;\r\n  border-radius: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  font-size: var(--text-size-secondary);\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 15px 0;\r\n`;\r\nconst UserInfoPopup = styled.div``;\r\n\r\nconst UserInfoPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\n// const Count = styled.div`\r\n//   width\r\n// `\r\n\r\nconst Layout: React.FC = ({ children }) => {\r\n  const { logout, meUserData, notifications, setNotifications, conversations } =\r\n    useContext(AuthContext);\r\n  const { visible, show, hide } = useTippyVisibility();\r\n\r\n  const { request } = useHttp();\r\n\r\n  const handleLogOut = async () => {\r\n    try {\r\n      // console.log(credentials);\r\n      await request(\"/api/auth/logout\", \"POST\");\r\n\r\n      logout();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // console.log(\"notifyy\", notifications);\r\n  let unReadMessagesCount = 0;\r\n  conversations.forEach((conversation: any) => {\r\n    conversation.messages.forEach((message: any) => {\r\n      if (!message.isRead && message.user._id !== meUserData?._id) {\r\n        unReadMessagesCount++;\r\n      }\r\n    });\r\n  });\r\n\r\n  let pendingFriendRequestsCount = 0;\r\n  notifications.forEach((notification: any) => {\r\n    if (\r\n      notification.text === \"sent you a friend request\" &&\r\n      !notification.isRead\r\n    ) {\r\n      console.log(\"notification\", notification.text);\r\n      console.log(\"passed\");\r\n      pendingFriendRequestsCount++;\r\n    }\r\n  });\r\n\r\n  console.log(\"pendingFriendRequestsCount\", pendingFriendRequestsCount);\r\n\r\n  const userInfoPopup = (\r\n    <ContentBox>\r\n      <UserInfoPopup onClick={visible ? hide : show}>\r\n        <Link to={`/profile/edit/${meUserData?._id}`}>\r\n          <UserInfoPopupSelect>Edit profile</UserInfoPopupSelect>\r\n        </Link>\r\n        <UserInfoPopupSelect onClick={handleLogOut}>\r\n          Sign out\r\n        </UserInfoPopupSelect>\r\n      </UserInfoPopup>\r\n    </ContentBox>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Container>\r\n          <HeaderWrapper>\r\n            <Logo to=\"/\">\r\n              {/* <LogoIcon /> */}\r\n              intouch\r\n            </Logo>\r\n            <SearchWrapper>\r\n              <Search meUserData={meUserData} />\r\n            </SearchWrapper>\r\n\r\n            <UserNavbar>\r\n              <Notifications\r\n                setNotifications={setNotifications}\r\n                notifications={notifications}\r\n              />\r\n\r\n              <Tippy\r\n                content={userInfoPopup}\r\n                interactive={true}\r\n                placement={\"bottom-end\"}\r\n                trigger=\"click\"\r\n                duration={0}\r\n                offset={[0, 0]}\r\n                onClickOutside={hide}\r\n                visible={visible}\r\n              >\r\n                <UserInfo onClick={visible ? hide : show}>\r\n                  <Avatar\r\n                    marginRight=\"10px\"\r\n                    size=\"medium-small\"\r\n                    src={meUserData?.avatar}\r\n                  />\r\n                  <UserName>{meUserData?.firstName}</UserName>\r\n                  <ArrowIcon />\r\n                </UserInfo>\r\n              </Tippy>\r\n            </UserNavbar>\r\n          </HeaderWrapper>\r\n        </Container>\r\n      </Header>\r\n      <Container>\r\n        <MainWrapper>\r\n          <Navigation>\r\n            <NavigationLink to={`/profile/${meUserData?._id}`}>\r\n              <NavigationLinkIcon>\r\n                <ProfileIcon />\r\n              </NavigationLinkIcon>\r\n              Профиль\r\n            </NavigationLink>\r\n            <NavigationLink to={`/messages`}>\r\n              <NavigationLinkIcon>\r\n                <MessagesIcon />\r\n                {unReadMessagesCount !== 0 && (\r\n                  <NotificationsCount top=\"-7px\" right=\"-3px\">\r\n                    {unReadMessagesCount}\r\n                  </NotificationsCount>\r\n                )}\r\n              </NavigationLinkIcon>\r\n              Сообщения\r\n            </NavigationLink>\r\n            <NavigationLink to={`/friends`}>\r\n              <NavigationLinkIcon>\r\n                <FriendsIcon />\r\n                {/* {pendingFriendRequestsCount !== 0 && (\r\n                  <NotificationsCount top=\"-7px\" right=\"-3px\">\r\n                    {pendingFriendRequestsCount}\r\n                  </NotificationsCount>\r\n                )} */}\r\n              </NavigationLinkIcon>\r\n              Друзья\r\n            </NavigationLink>\r\n          </Navigation>\r\n          <main>{children}</main>\r\n        </MainWrapper>\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCogwheelIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.7111 12.6406L19.3361 11.8242C19.3361 11.5234 19.379 11.0508 19.379 10.75C19.379 10.4922 19.3361 10.0195 19.3361 9.71875L20.7111 8.90234C21.1407 8.6875 21.3126 8.17188 21.1837 7.74219C20.7111 6.10938 19.8517 4.64844 18.7345 3.44531C18.3907 3.10156 17.8751 3.01562 17.4454 3.27344L16.0704 4.08984C15.5978 3.70312 14.7814 3.23047 14.2228 3.01562V1.42578C14.2228 0.910156 13.922 0.523438 13.4493 0.394531C11.8165 0.0078125 10.1407 0.0078125 8.50793 0.394531C8.03527 0.523438 7.73449 0.910156 7.73449 1.42578V3.01562C7.1759 3.23047 6.35949 3.70312 5.88684 4.08984L4.51184 3.27344C4.08215 3.01562 3.56653 3.10156 3.22278 3.44531C2.10559 4.64844 1.24621 6.10938 0.773556 7.74219C0.64465 8.17188 0.816525 8.6875 1.24621 8.90234L2.62121 9.71875C2.62121 10.0195 2.57824 10.4922 2.57824 10.75C2.57824 11.0508 2.62121 11.5234 2.62121 11.8242L1.24621 12.6406C0.816525 12.8555 0.64465 13.3711 0.773556 13.8008C1.24621 15.4336 2.10559 16.8945 3.22278 18.0977C3.56653 18.4414 4.08215 18.5273 4.51184 18.2695L5.88684 17.4531C6.35949 17.8398 7.1759 18.3125 7.73449 18.5273V20.1172C7.73449 20.6328 8.03527 21.0195 8.50793 21.1484C10.1407 21.5352 11.8165 21.5352 13.4493 21.1484C13.922 21.0195 14.2228 20.6328 14.2228 20.1172V18.5273C14.7814 18.3125 15.5978 17.8398 16.0704 17.4531L17.4454 18.2695C17.8751 18.5273 18.3907 18.4414 18.7345 18.0977C19.8517 16.8945 20.7111 15.4336 21.1837 13.8008C21.3126 13.3711 21.1407 12.8555 20.7111 12.6406ZM17.9181 16.9375L15.8986 15.7773C14.7384 16.8086 14.3517 17.0234 12.8478 17.582V19.8594C12.3322 19.9883 11.5157 20.0742 11.0001 20.0742C10.4415 20.0742 9.62512 19.9883 9.10949 19.8594V17.582C7.64856 17.0664 7.21887 16.8086 6.05871 15.7773L4.03918 16.9375C3.22278 15.9922 2.57824 14.875 2.14856 13.6719L4.16809 12.5547C3.86731 11.0078 3.86731 10.5352 4.16809 8.98828L2.14856 7.87109C2.57824 6.66797 3.22278 5.55078 4.03918 4.60547L6.05871 5.76562C7.21887 4.73438 7.64856 4.47656 9.10949 3.96094V1.68359C9.62512 1.55469 10.4415 1.46875 11.0001 1.46875C11.5157 1.46875 12.3322 1.55469 12.8478 1.68359V3.96094C14.3087 4.47656 14.7384 4.73438 15.8986 5.76562L17.9181 4.60547C18.7345 5.55078 19.379 6.66797 19.8087 7.87109L17.7892 8.98828C18.09 10.5352 18.09 11.0078 17.7892 12.5547L19.8087 13.6719C19.379 14.875 18.7345 15.9922 17.9181 16.9375ZM11.0001 6.625C8.72278 6.625 6.87512 8.51562 6.87512 10.75C6.87512 13.0273 8.72278 14.875 11.0001 14.875C13.2345 14.875 15.1251 13.0273 15.1251 10.75C15.1251 8.51562 13.2345 6.625 11.0001 6.625ZM11.0001 13.5C9.45324 13.5 8.25012 12.2969 8.25012 10.75C8.25012 9.24609 9.45324 8 11.0001 8C12.504 8 13.7501 9.24609 13.7501 10.75C13.7501 12.2969 12.504 13.5 11.0001 13.5Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCogwheelIcon);\nexport default __webpack_public_path__ + \"static/media/cogwheel-icon.96354e8c.svg\";\nexport { ForwardRef as ReactComponent };","import { useSnackbar } from \"notistack\";\r\nimport React, { forwardRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar } from \"../styled-components/global\";\r\nimport { ReactComponent as CrossIcon } from \"../assets/icons/cross-icon.svg\";\r\n\r\nconst Wrapper = styled.div<{ type?: \"success\" | \"error\" }>`\r\n  background: var(--color-dark-grey);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 15px;\r\n  padding-right: 30px;\r\n  display: flex;\r\n  min-width: 344px !important;\r\n  max-width: 344px !important;\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    fill: rgba(256, 256, 256, 0.5);\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NotificationInfo = styled.div``;\r\n\r\nconst NotificationText = styled.div`\r\n  color: white;\r\n`;\r\n\r\nconst CustomNotification = forwardRef<\r\n  HTMLDivElement,\r\n  {\r\n    id: string | number;\r\n    message: any | React.ReactNode;\r\n    type?: \"success\" | \"error\";\r\n  }\r\n>(({ id, message, type }, ref) => {\r\n  const { closeSnackbar } = useSnackbar();\r\n  console.log(\"type\", type);\r\n\r\n  return (\r\n    <Wrapper ref={ref}>\r\n      <Avatar\r\n        style={{ marginRight: \"10px\" }}\r\n        src={message.user.avatar}\r\n        size=\"small\"\r\n      />\r\n      <NotificationInfo>\r\n        <NotificationText>\r\n          {message.user.firstName} {message.user.lastName} {message.text}\r\n        </NotificationText>\r\n      </NotificationInfo>\r\n      <CrossIcon onClick={() => closeSnackbar(id)} />\r\n    </Wrapper>\r\n  );\r\n});\r\n\r\nexport default CustomNotification;\r\n","import { useSnackbar } from \"notistack\";\r\nimport React, { forwardRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar } from \"../styled-components/global\";\r\nimport { ReactComponent as CrossIcon } from \"../assets/icons/cross-icon.svg\";\r\n\r\nconst Wrapper = styled.div<{ type?: \"success\" | \"error\" }>`\r\n  background: var(--color-green);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 15px;\r\n  padding-right: 30px;\r\n  display: flex;\r\n  min-width: 344px !important;\r\n  max-width: 344px !important;\r\n  position: relative;\r\n  svg {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    fill: rgba(256, 256, 256, 0.5);\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  ${(props) =>\r\n    props.type === \"error\" &&\r\n    `\r\n    background: var(--color-red);\r\n  `}\r\n`;\r\n\r\nconst NotificationInfo = styled.div``;\r\n\r\nconst NotificationText = styled.div`\r\n  color: white;\r\n`;\r\n\r\ntype MessageType = {\r\n  type: \"error\" | \"success\";\r\n  text: string;\r\n};\r\n\r\nconst CustomPageNotification = forwardRef<\r\n  HTMLDivElement,\r\n  {\r\n    id: string | number;\r\n    message: any | React.ReactNode;\r\n  }\r\n>(({ id, message }, ref) => {\r\n  const { closeSnackbar } = useSnackbar();\r\n  console.log(\"mes\", message);\r\n\r\n  return (\r\n    <Wrapper ref={ref} type={message.type}>\r\n      <NotificationInfo>\r\n        <NotificationText>{message.text}</NotificationText>\r\n      </NotificationInfo>\r\n      <CrossIcon onClick={() => closeSnackbar(id)} />\r\n    </Wrapper>\r\n  );\r\n});\r\n\r\nexport default CustomPageNotification;\r\n","import { VariantType, useSnackbar } from \"notistack\";\r\nimport CustomNotification from \"../components/CustomNotification\";\r\nimport CustomPageNotification from \"../components/CustomPageNotification\";\r\n\r\nconst useNotistack = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const handleNotification = (message: any, variant: VariantType) => {\r\n    console.log(\"variant\", variant);\r\n    enqueueSnackbar(message, {\r\n      variant,\r\n      content: (key: any, message: any) => (\r\n        <CustomNotification id={key} message={message} />\r\n      ),\r\n    });\r\n  };\r\n\r\n  const handlePageNotification = (message: any, variant?: VariantType) => {\r\n    // console.log(\"variant\", variant);\r\n    enqueueSnackbar(message, {\r\n      variant,\r\n      content: (key: any, message: any) => (\r\n        <CustomPageNotification id={key} message={message} />\r\n      ),\r\n    });\r\n  };\r\n  return { handleNotification, handlePageNotification };\r\n};\r\n\r\nexport default useNotistack;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Spinner = () => (\r\n  <StyledSpinner viewBox=\"0 0 50 50\">\r\n    <circle\r\n      className=\"path\"\r\n      cx=\"25\"\r\n      cy=\"25\"\r\n      r=\"20\"\r\n      fill=\"none\"\r\n      strokeWidth=\"3\"\r\n    />\r\n  </StyledSpinner>\r\n);\r\n\r\nconst StyledSpinner = styled.svg`\r\n  animation: rotate 1s linear infinite;\r\n  /* margin: 70px; */\r\n  width: 40px;\r\n  height: 40px;\r\n\r\n  & .path {\r\n    stroke: #5652bf;\r\n    stroke-linecap: round;\r\n    animation: dash 1.5s ease-in-out infinite;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @keyframes dash {\r\n    0% {\r\n      stroke-dasharray: 1, 150;\r\n      stroke-dashoffset: 0;\r\n    }\r\n    50% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -35;\r\n    }\r\n    100% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -124;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Spinner;\r\n","import React, { useState, useContext, useRef } from \"react\";\r\n\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport useNotistack from \"../hooks/useNotistack\";\r\nimport { ReactComponent as ArrowIcon } from \"../assets/icons/arrow-more-icon.svg\";\r\n\r\nimport styled from \"styled-components\";\r\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Select from \"react-select\";\r\nimport {\r\n  Input,\r\n  TextArea,\r\n  Button,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Separator,\r\n} from \"../styled-components/global\";\r\nimport { useUploadImages } from \"../hooks/useUploadImages\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useTippyVisibility } from \"../hooks/useTippyVisibility\";\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport interface IUser {\r\n  _id?: string;\r\n  email?: string;\r\n  firstName?: string;\r\n  lastName?: string;\r\n  avatar?: string | ArrayBuffer | null;\r\n  city?: string;\r\n  aboutMe?: string;\r\n  dateOfBirth?: string;\r\n  gender?: string;\r\n}\r\n\r\nconst ImageUpload = styled.div<{\r\n  image?: string | ArrayBuffer | null | undefined;\r\n}>`\r\n  width: 100px;\r\n  height: 100px;\r\n  /* margin: 0 auto; */\r\n  border-radius: 100px;\r\n  margin-bottom: 10px;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: var(--color-secondary);\r\n\r\n  ${(props) =>\r\n    props.image &&\r\n    `\r\n    background: url(${props.image});\r\n    background-size: cover;\r\n    background-position: center center;\r\n  `}\r\n  svg {\r\n    display: none;\r\n    width: 35px;\r\n    height: 35px;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n    div {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      background: rgba(0, 0, 0, 0.3);\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n    svg {\r\n      display: block;\r\n      fill: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  /* margin: 0 auto; */\r\n  border-radius: 100px;\r\n  margin-bottom: 10px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: var(--color-secondary);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst EditField = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n`;\r\n\r\nconst EditTitle = styled.div`\r\n  min-width: 70px;\r\n  text-align: right;\r\n  margin-right: 20px;\r\n  color: var(--text-color-secondary);\r\n`;\r\nconst EditContent = styled.div`\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 600;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  letter-spacing: 0;\r\n`;\r\n\r\nconst SelectBox = styled.div`\r\n  border: var(--border-primary);\r\n  border-radius: var(--border-radius-primary);\r\n  padding: 8px 13px;\r\n  display: flex;\r\n  /* justify-content: flex-end; */\r\n  align-items: center;\r\n  svg {\r\n    margin-left: auto;\r\n  }\r\n`;\r\n\r\nconst EditProfilePage = () => {\r\n  const auth = useContext(AuthContext);\r\n  const { handlePageNotification } = useNotistack();\r\n  const { firstName, lastName, avatar, dateOfBirth, gender, aboutMe, city } =\r\n    auth.meUserData!;\r\n  const [credentials, setCredentials] = useState<any>({\r\n    avatar,\r\n    firstName,\r\n    lastName,\r\n    dateOfBirth,\r\n    gender,\r\n    aboutMe,\r\n    city,\r\n  });\r\n  // const [birthday, setBirthday] = useState({\r\n  //   day: 0,\r\n  //   month: 0,\r\n  //   year: 0,\r\n  // });\r\n  const [readyToSubmit, setReadyToSubmit] = useState(false);\r\n\r\n  const { error, request, loading } = useHttp();\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const [avatarLoading, setAvatarLoading] = useState<boolean>(false);\r\n  const ref = useRef<null | HTMLInputElement>(null);\r\n\r\n  // const [selectedDate, setSelectedDate] = React.useState<any | null>(\r\n  //   new Date(\"2014-08-18T21:11:54\")\r\n  // );\r\n\r\n  // const handleDateChange = (date: any | null) => {\r\n  //   setSelectedDate(date);\r\n  // };\r\n\r\n  const months = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n\r\n  const [selectedDayOption, setSelectedDayOption] = useState<any>({\r\n    value: new Date(credentials.dateOfBirth)?.getDate(),\r\n    label: new Date(credentials.dateOfBirth)?.getDate(),\r\n  });\r\n\r\n  const [selectedMonthOption, setSelectedMonthOption] = useState<any>({\r\n    value: new Date(credentials.dateOfBirth)?.getMonth(),\r\n    label: months[new Date(credentials.dateOfBirth)?.getMonth()],\r\n  });\r\n\r\n  const [selectedYearOption, setSelectedYearOption] = useState<any>({\r\n    value: new Date(credentials.dateOfBirth)?.getFullYear(),\r\n    label: new Date(credentials.dateOfBirth)?.getFullYear(),\r\n  });\r\n\r\n  const handleDayChange = (date: any | null) => {\r\n    setSelectedDayOption(date);\r\n    setReadyToSubmit(true);\r\n  };\r\n  const handleMonthChange = (date: any | null) => {\r\n    setSelectedMonthOption(date);\r\n    setReadyToSubmit(true);\r\n  };\r\n\r\n  const handleYearChange = (date: any | null) => {\r\n    setSelectedYearOption(date);\r\n    setReadyToSubmit(true);\r\n  };\r\n\r\n  type OptionType = {\r\n    value: string;\r\n    label: string;\r\n  };\r\n\r\n  const genderOptions: OptionType[] = [\r\n    { value: \"male\", label: \"Male\" },\r\n    { value: \"female\", label: \"Female\" },\r\n  ];\r\n\r\n  const dayOptions: OptionType[] = [\r\n    { value: \"1\", label: \"1\" },\r\n    { value: \"2\", label: \"2\" },\r\n    { value: \"3\", label: \"3\" },\r\n    { value: \"4\", label: \"4\" },\r\n    { value: \"5\", label: \"5\" },\r\n    { value: \"6\", label: \"6\" },\r\n    { value: \"7\", label: \"7\" },\r\n    { value: \"8\", label: \"8\" },\r\n    { value: \"9\", label: \"9\" },\r\n    { value: \"10\", label: \"10\" },\r\n    { value: \"11\", label: \"11\" },\r\n    { value: \"12\", label: \"12\" },\r\n    { value: \"13\", label: \"13\" },\r\n    { value: \"14\", label: \"14\" },\r\n    { value: \"15\", label: \"15\" },\r\n    { value: \"16\", label: \"16\" },\r\n    { value: \"17\", label: \"17\" },\r\n    { value: \"18\", label: \"18\" },\r\n    { value: \"19\", label: \"19\" },\r\n    { value: \"20\", label: \"20\" },\r\n    { value: \"21\", label: \"21\" },\r\n    { value: \"22\", label: \"22\" },\r\n    { value: \"23\", label: \"23\" },\r\n    { value: \"24\", label: \"24\" },\r\n    { value: \"25\", label: \"25\" },\r\n    { value: \"26\", label: \"26\" },\r\n    { value: \"27\", label: \"27\" },\r\n    { value: \"28\", label: \"28\" },\r\n    { value: \"29\", label: \"29\" },\r\n    { value: \"30\", label: \"30\" },\r\n    { value: \"31\", label: \"31\" },\r\n  ];\r\n\r\n  const monthOptions: OptionType[] = [\r\n    { value: \"0\", label: \"January\" },\r\n    { value: \"1\", label: \"February\" },\r\n    { value: \"2\", label: \"March\" },\r\n    { value: \"3\", label: \"April\" },\r\n    { value: \"4\", label: \"May\" },\r\n    { value: \"5\", label: \"June\" },\r\n    { value: \"6\", label: \"July\" },\r\n    { value: \"7\", label: \"August\" },\r\n    { value: \"8\", label: \"September\" },\r\n    { value: \"9\", label: \"October\" },\r\n    { value: \"10\", label: \"November\" },\r\n    { value: \"11\", label: \"December\" },\r\n  ];\r\n\r\n  const yearOptions: OptionType[] = [\r\n    { value: \"2021\", label: \"2021\" },\r\n    { value: \"2020\", label: \"2020\" },\r\n    { value: \"2019\", label: \"2019\" },\r\n    { value: \"2018\", label: \"2018\" },\r\n    { value: \"2017\", label: \"2017\" },\r\n    { value: \"2016\", label: \"2016\" },\r\n    { value: \"2015\", label: \"2015\" },\r\n    { value: \"2014\", label: \"2014\" },\r\n    { value: \"2013\", label: \"2013\" },\r\n    { value: \"2012\", label: \"2012\" },\r\n    { value: \"2011\", label: \"2011\" },\r\n    { value: \"2010\", label: \"2010\" },\r\n    { value: \"2009\", label: \"2009\" },\r\n    { value: \"2008\", label: \"2008\" },\r\n    { value: \"2007\", label: \"2007\" },\r\n    { value: \"2006\", label: \"2006\" },\r\n    { value: \"2005\", label: \"2005\" },\r\n    { value: \"2004\", label: \"2004\" },\r\n    { value: \"2003\", label: \"2003\" },\r\n    { value: \"2002\", label: \"2002\" },\r\n    { value: \"2001\", label: \"2001\" },\r\n    { value: \"2000\", label: \"2000\" },\r\n    { value: \"1999\", label: \"1999\" },\r\n    { value: \"1998\", label: \"1998\" },\r\n    { value: \"1997\", label: \"1997\" },\r\n    { value: \"1996\", label: \"1996\" },\r\n    { value: \"1995\", label: \"1995\" },\r\n    { value: \"1994\", label: \"1994\" },\r\n    { value: \"1993\", label: \"1993\" },\r\n    { value: \"1992\", label: \"1992\" },\r\n    { value: \"1991\", label: \"1991\" },\r\n    { value: \"1990\", label: \"1990\" },\r\n    { value: \"1989\", label: \"1989\" },\r\n    { value: \"1988\", label: \"1988\" },\r\n    { value: \"1987\", label: \"1987\" },\r\n    { value: \"1986\", label: \"1986\" },\r\n    { value: \"1985\", label: \"1985\" },\r\n    { value: \"1984\", label: \"1984\" },\r\n    { value: \"1983\", label: \"1983\" },\r\n    { value: \"1982\", label: \"1982\" },\r\n    { value: \"1981\", label: \"1981\" },\r\n    { value: \"1980\", label: \"1980\" },\r\n    { value: \"1979\", label: \"1979\" },\r\n    { value: \"1978\", label: \"1978\" },\r\n    { value: \"1977\", label: \"1977\" },\r\n    { value: \"1976\", label: \"1976\" },\r\n    { value: \"1975\", label: \"1975\" },\r\n    { value: \"1974\", label: \"1974\" },\r\n    { value: \"1973\", label: \"1973\" },\r\n    { value: \"1972\", label: \"1972\" },\r\n    { value: \"1971\", label: \"1971\" },\r\n    { value: \"1970\", label: \"1970\" },\r\n    { value: \"1969\", label: \"1969\" },\r\n    { value: \"1968\", label: \"1968\" },\r\n    { value: \"1967\", label: \"1967\" },\r\n    { value: \"1966\", label: \"1966\" },\r\n    { value: \"1965\", label: \"1965\" },\r\n    { value: \"1964\", label: \"1964\" },\r\n    { value: \"1963\", label: \"1963\" },\r\n    { value: \"1962\", label: \"1962\" },\r\n    { value: \"1961\", label: \"1961\" },\r\n    { value: \"1960\", label: \"1960\" },\r\n    { value: \"1959\", label: \"1959\" },\r\n    { value: \"1958\", label: \"1958\" },\r\n    { value: \"1957\", label: \"1957\" },\r\n    { value: \"1956\", label: \"1956\" },\r\n    { value: \"1955\", label: \"1955\" },\r\n    { value: \"1954\", label: \"1954\" },\r\n    { value: \"1953\", label: \"1953\" },\r\n    { value: \"1952\", label: \"1952\" },\r\n    { value: \"1951\", label: \"1951\" },\r\n    { value: \"1950\", label: \"1950\" },\r\n    { value: \"1949\", label: \"1949\" },\r\n    { value: \"1948\", label: \"1948\" },\r\n    { value: \"1947\", label: \"1947\" },\r\n    { value: \"1946\", label: \"1946\" },\r\n    { value: \"1945\", label: \"1945\" },\r\n    { value: \"1944\", label: \"1944\" },\r\n    { value: \"1943\", label: \"1943\" },\r\n    { value: \"1942\", label: \"1942\" },\r\n    { value: \"1941\", label: \"1941\" },\r\n    { value: \"1940\", label: \"1940\" },\r\n    { value: \"1939\", label: \"1939\" },\r\n    { value: \"1938\", label: \"1938\" },\r\n  ];\r\n\r\n  const [selectedGenderOption, setSelectedGenderOption] = useState<any>({\r\n    value: auth.meUserData?.gender,\r\n    label: `${\r\n      auth.meUserData?.gender ? auth.meUserData?.gender[0].toUpperCase() : \"\"\r\n    }${auth.meUserData?.gender ? auth.meUserData?.gender.slice(1) : \"\"}`,\r\n  });\r\n\r\n  const handleSelectedChange = (selectedOption: any) => {\r\n    setSelectedGenderOption(selectedOption);\r\n    setReadyToSubmit(true);\r\n    // console.log(`Option selected:`, selectedOption);\r\n  };\r\n\r\n  console.log(\"selectedGenderOption\", selectedGenderOption);\r\n  console.log(\"gender\", auth.meUserData?.gender);\r\n\r\n  // useEffect(() => {\r\n  //   setSelectedGenderOption(auth.meUserData?.gender);\r\n  // }, []);\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      // console.log(\"submit\");\r\n      console.log(\r\n        \"submit\",\r\n        new Date(\r\n          Number(selectedYearOption.value),\r\n          Number(selectedMonthOption.value),\r\n          Number(selectedDayOption.value)\r\n        ),\r\n        selectedYearOption,\r\n        selectedMonthOption,\r\n        selectedDayOption,\r\n        new Date(2017, 4, 32)\r\n      );\r\n      const data = await request(`/api/user/${auth.meUserData!._id}`, \"PUT\", {\r\n        ...credentials,\r\n        gender: selectedGenderOption.value,\r\n        dateOfBirth: new Date(\r\n          selectedYearOption.value,\r\n          selectedMonthOption.value,\r\n          selectedDayOption.value\r\n        ),\r\n      });\r\n\r\n      const notification = {\r\n        text: data.message,\r\n        type: \"success\",\r\n      };\r\n      auth.setMeUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          ...credentials,\r\n        };\r\n      });\r\n      handlePageNotification(notification);\r\n      setReadyToSubmit(false);\r\n\r\n      // console.log(data);\r\n\r\n      // auth.login(data.accessToken, data.userData);\r\n    } catch (e) {\r\n      const notification = {\r\n        text: e.message,\r\n        type: \"error\",\r\n      };\r\n      handlePageNotification(notification);\r\n      // console.log(\"request\", e);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<any>) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    // console.log(e.target.name);\r\n    setReadyToSubmit(true);\r\n  };\r\n\r\n  const resizeFile = (file: any) =>\r\n    new Promise((resolve) => {\r\n      Resizer.imageFileResizer(\r\n        file,\r\n        300,\r\n        600,\r\n        \"JPEG\",\r\n        80,\r\n        0,\r\n        (uri) => {\r\n          resolve(uri);\r\n        },\r\n        \"base64\"\r\n      );\r\n    });\r\n\r\n  const handleChangeAvatar = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      setAvatarLoading(true);\r\n      const file = e.target.files[0];\r\n      const resized = await resizeFile(file);\r\n      try {\r\n        const res = await request(\"/api/upload-image\", \"POST\", {\r\n          image: resized,\r\n        });\r\n        console.log(\"image upload res\", res);\r\n        setCredentials({\r\n          ...credentials,\r\n          avatar: res.url,\r\n        });\r\n        setAvatarLoading(false);\r\n      } catch (e) {\r\n        console.log(e);\r\n        setAvatarLoading(false);\r\n      }\r\n\r\n      // const reader = new FileReader();\r\n      // reader.readAsDataURL(file);\r\n      // reader.onload = async () => {\r\n\r\n      // };\r\n      setReadyToSubmit(true);\r\n    }\r\n  };\r\n\r\n  const selectPopup = (\r\n    <ContentBox\r\n      onClick={hide}\r\n      style={{\r\n        minWidth: \"100%\",\r\n        width: \"100%\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n      }}\r\n    >\r\n      dsffdfd\r\n      {/* <EditPostPopup>\r\n        <EditPostPopupSelect onClick={() => handleEditMode(true)}>\r\n          Редактировать\r\n        </EditPostPopupSelect>\r\n\r\n        <EditPostPopupSelect onClick={handleDeletePost}>\r\n          Удалить\r\n        </EditPostPopupSelect>\r\n      </EditPostPopup> */}\r\n    </ContentBox>\r\n  );\r\n\r\n  return (\r\n    <ContentBox style={{ maxWidth: \"480px\" }}>\r\n      <ContentBoxContainer>\r\n        <Title>Edit profile</Title>\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <ContentBoxContainer style={{ padding: \"30px\" }}>\r\n        <form noValidate onSubmit={handleSubmit}>\r\n          <EditField>\r\n            <EditTitle>Avatar:</EditTitle>\r\n            <EditContent style={{ display: \"flex\" }}>\r\n              {avatarLoading ? (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              ) : (\r\n                <label>\r\n                  <ImageUpload image={credentials.avatar}>\r\n                    <div>\r\n                      <PhotoCameraIcon />\r\n                    </div>\r\n                  </ImageUpload>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleChangeAvatar}\r\n                    ref={ref}\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                </label>\r\n              )}\r\n            </EditContent>\r\n          </EditField>\r\n          <EditField>\r\n            <EditTitle>Name:</EditTitle>\r\n            <EditContent style={{ display: \"flex\" }}>\r\n              <Input\r\n                name=\"firstName\"\r\n                id=\"firstName\"\r\n                value={credentials.firstName}\r\n                onChange={handleChange}\r\n                disabled={loading}\r\n                style={{ marginRight: \"10px\" }}\r\n              />\r\n\r\n              <Input\r\n                name=\"lastName\"\r\n                id=\"lastName\"\r\n                value={credentials.lastName}\r\n                onChange={handleChange}\r\n                disabled={loading}\r\n              />\r\n            </EditContent>\r\n          </EditField>\r\n\r\n          <EditField>\r\n            <EditTitle>Gender:</EditTitle>\r\n            <EditContent>\r\n              <Select\r\n                value={selectedGenderOption}\r\n                onChange={handleSelectedChange}\r\n                options={genderOptions}\r\n                placeholder=\"Select gender\"\r\n                defaultValue={auth.meUserData?.gender}\r\n                className={\"customSelect\"}\r\n                classNamePrefix={\"customSelectInner\"}\r\n              />\r\n            </EditContent>\r\n          </EditField>\r\n          <EditField>\r\n            <EditTitle>Birthday:</EditTitle>\r\n            <EditContent\r\n              style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n            >\r\n              <Select\r\n                value={selectedDayOption}\r\n                onChange={handleDayChange}\r\n                options={dayOptions}\r\n                placeholder=\"Select gender\"\r\n                // defaultValue={credentials.dateOfBirth.getDate()}\r\n                className={\"daySelect\"}\r\n                classNamePrefix={\"customSelectInner\"}\r\n                // style={{ flexGrow: 1 }}\r\n              />\r\n              <Select\r\n                value={selectedMonthOption}\r\n                onChange={handleMonthChange}\r\n                options={monthOptions}\r\n                placeholder=\"Select gender\"\r\n                // defaultValue={{\r\n                //   value: credentials.dateOfBirth.getMonth(),\r\n                //   label: \"sd\",\r\n                // }}\r\n                className={\"monthSelect\"}\r\n                classNamePrefix={\"customSelectInner\"}\r\n                // style={{ flexGrow: 1 }}\r\n              />\r\n              <Select\r\n                value={selectedYearOption}\r\n                onChange={handleYearChange}\r\n                options={yearOptions}\r\n                placeholder=\"Select gender\"\r\n                // defaultValue={credentials.dateOfBirth.getFullYear()}\r\n                className={\"yearSelect\"}\r\n                classNamePrefix={\"customSelectInner\"}\r\n                // style={{ flexGrow: 1 }}\r\n              />\r\n            </EditContent>\r\n          </EditField>\r\n          <EditField>\r\n            <EditTitle>City:</EditTitle>\r\n            <EditContent>\r\n              <Input\r\n                name=\"city\"\r\n                id=\"city\"\r\n                value={credentials.city}\r\n                onChange={handleChange}\r\n                disabled={loading}\r\n                // style={{ maxWidth: \"100%\", display: \"block\" }}\r\n              />\r\n            </EditContent>\r\n          </EditField>\r\n          <EditField>\r\n            <EditTitle>About me:</EditTitle>\r\n            <EditContent>\r\n              <TextArea\r\n                $focuse={true}\r\n                name=\"aboutMe\"\r\n                id=\"aboutMe\"\r\n                value={credentials.aboutMe}\r\n                onChange={handleChange}\r\n                disabled={loading}\r\n                style={{ width: \"100%\", resize: \"none\" }}\r\n              />\r\n            </EditContent>\r\n          </EditField>\r\n\r\n          {/* <Input\r\n              name=\"city\"\r\n              id=\"city\"\r\n              value={credentials.city}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n            />\r\n            <TextField\r\n              id=\"gender\"\r\n              name=\"gender\"\r\n              select\r\n              label=\"Select gender\"\r\n              value={credentials.gender}\r\n              onChange={handleChange}\r\n              style={{ width: \"100%\" }}\r\n              // helperText=\"Please select gender\"\r\n              variant=\"outlined\"\r\n            >\r\n              {[\"Male\", \"Femaile\"].map((option, idx) => (\r\n                <MenuItem key={idx} value={option}>\r\n                  {option}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField> */}\r\n\r\n          {/* <Grid item xs={12}>\r\n            <KeyboardDatePicker\r\n              disableToolbar\r\n              variant=\"inline\"\r\n              format=\"MM/dd/yyyy\"\r\n              margin=\"normal\"\r\n              id=\"date-picker-inline\"\r\n              label=\"Date picker inline\"\r\n              value={selectedDate}\r\n              onChange={handleDateChange}\r\n              KeyboardButtonProps={{\r\n                \"aria-label\": \"change date\",\r\n              }}\r\n            />\r\n          </Grid> */}\r\n          <EditField>\r\n            <EditTitle></EditTitle>\r\n            <EditContent>\r\n              <Button\r\n                size=\"small\"\r\n                type=\"submit\"\r\n                disabled={loading || !readyToSubmit}\r\n              >\r\n                Сохранить\r\n              </Button>\r\n            </EditContent>\r\n          </EditField>\r\n        </form>\r\n      </ContentBoxContainer>\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default EditProfilePage;\r\n","import { createContext, Dispatch } from \"react\";\r\n// import { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport type OnlineContextType = {\r\n  online: any[];\r\n  setOnline: Dispatch<any>;\r\n};\r\n\r\nconst noop = (): void => {};\r\n\r\nexport const OnlineContext = createContext<OnlineContextType>({\r\n  online: [],\r\n  setOnline: noop,\r\n});\r\n","import { useLocation } from \"react-router-dom\";\r\n\r\nexport function useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgImageUploadIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 20,\n    viewBox: \"0 0 22 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 16.2812C13.8359 16.2812 16.1562 14.0039 16.1562 11.125C16.1562 8.28906 13.8359 5.96875 11 5.96875C8.12109 5.96875 5.84375 8.28906 5.84375 11.125C5.84375 14.0039 8.12109 16.2812 11 16.2812ZM11 7.34375C13.0625 7.34375 14.7812 9.0625 14.7812 11.125C14.7812 13.2305 13.0625 14.9062 11 14.9062C8.89453 14.9062 7.21875 13.2305 7.21875 11.125C7.21875 9.0625 8.89453 7.34375 11 7.34375ZM9.625 11.125C9.625 10.3945 10.2266 9.75 11 9.75C11.3438 9.75 11.6875 9.44922 11.6875 9.0625C11.6875 8.71875 11.3438 8.375 11 8.375C9.45312 8.375 8.25 9.62109 8.25 11.125C8.25 11.5117 8.55078 11.8125 8.9375 11.8125C9.28125 11.8125 9.625 11.5117 9.625 11.125ZM13.9219 1.5C14.0508 1.5 14.1797 1.62891 14.2227 1.75781L15.168 4.25H19.9375C20.2812 4.25 20.625 4.59375 20.625 4.9375V17.3125C20.625 17.6992 20.2812 18 19.9375 18H2.0625C1.67578 18 1.375 17.6992 1.375 17.3125V4.9375C1.375 4.59375 1.67578 4.25 2.0625 4.25H6.78906L7.64844 1.97266C7.73438 1.71484 7.99219 1.5 8.29297 1.5H13.9219ZM13.9219 0.125H8.29297C7.43359 0.125 6.66016 0.683594 6.35938 1.5L5.84375 2.875H2.0625C0.902344 2.875 0 3.82031 0 4.9375V17.3125C0 18.4727 0.902344 19.375 2.0625 19.375H19.9375C21.0547 19.375 22 18.4727 22 17.3125V4.9375C22 3.82031 21.0547 2.875 19.9375 2.875H16.1562L15.5117 1.24219C15.2539 0.597656 14.6523 0.125 13.9219 0.125Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgImageUploadIcon);\nexport default __webpack_public_path__ + \"static/media/image-upload-icon.04a5a04f.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\r\nimport { svgPrimaryStyle } from \"../../styled-components/global\";\r\n\r\nexport const Options = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nexport const FriendCardWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n`;\r\n\r\nexport const FriendCardInfo = styled.div``;\r\n","import React, { useState } from \"react\";\r\nimport { useHttp } from \"./useHttp\";\r\nimport useNotistack from \"./useNotistack\";\r\nimport Resizer from \"react-image-file-resizer\";\r\n\r\nexport const useUploadImages = () => {\r\n  const [images, setImages] = useState<any[]>([]);\r\n  const [imageLoading, setImageLoading] = useState<boolean>(false);\r\n  const { handlePageNotification } = useNotistack();\r\n  const { request } = useHttp();\r\n\r\n  const resizeFile = (file: any) =>\r\n    new Promise((resolve) => {\r\n      Resizer.imageFileResizer(\r\n        file,\r\n        700,\r\n        700,\r\n        \"JPEG\",\r\n        80,\r\n        0,\r\n        (uri) => {\r\n          resolve(uri);\r\n        },\r\n        \"base64\"\r\n      );\r\n    });\r\n\r\n  const handleUploadImages = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    // console.log(\"handle upload\");\r\n    setImageLoading(true);\r\n    e.preventDefault();\r\n    if (e.target.files) {\r\n      for (let i = 0; i < e.target.files!.length; i++) {\r\n        // console.log(\"iterated\", e.target.files[i]);\r\n        // const reader = new FileReader();\r\n        const file = e.target.files![i];\r\n        const resized = await resizeFile(file);\r\n        try {\r\n          // console.log(\"uploaded\");\r\n          const res = await request(\"/api/upload-image\", \"POST\", {\r\n            image: resized,\r\n          });\r\n\r\n          // .secure_url\r\n          // console.log(\"UPLOADED\", res);\r\n          setImages((prevState) => {\r\n            return [res, ...prevState];\r\n          });\r\n          e.target.files = null;\r\n          e.target.value = \"\";\r\n          setImageLoading(false);\r\n        } catch (e) {\r\n          console.log(e);\r\n          handlePageNotification({ type: \"error\", text: e.message });\r\n          setImageLoading(false);\r\n        }\r\n        // reader.readAsDataURL(file);\r\n        // reader.onload = async () => {\r\n        //   try {\r\n        //     // console.log(\"uploaded\");\r\n        //     const res = await request(\r\n        //       \"/api/upload-image\",\r\n        //       \"POST\",\r\n        //       {\r\n        //         image: resized,\r\n        //       }\r\n        //     );\r\n\r\n        //     // .secure_url\r\n        //     // console.log(\"UPLOADED\", res);\r\n        //     setImages((prevState) => {\r\n        //       return [res, ...prevState];\r\n        //     });\r\n        //     e.target.files = null;\r\n        //     e.target.value = \"\";\r\n        //     setImageLoading(false);\r\n        //   } catch (e) {\r\n        //     console.log(e);\r\n        //     handlePageNotification({ type: \"error\", text: e.message });\r\n        //     setImageLoading(false);\r\n        //   }\r\n        // };\r\n      }\r\n      // console.log(\"process\", images);\r\n    }\r\n\r\n    // setReadyToSubmit(true);\r\n    // }\r\n  };\r\n\r\n  const handleRemoveImage = async (image: any) => {\r\n    // console.log(image);\r\n    // setImages((prevState) => {\r\n    //   const newArr = prevState.filter(\r\n    //     (img) => img.public_url !== image.public_url\r\n    //   );\r\n    //   return [...newArr];\r\n    // });\r\n\r\n    setImages((prevState: any) => {\r\n      const newArr = prevState.filter(\r\n        (el: any) => el.public_id !== image.public_id\r\n      );\r\n      return newArr;\r\n    });\r\n\r\n    try {\r\n      await request(`/api/remove-image/${image.public_id}`, \"DELETE\");\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    images,\r\n    setImages,\r\n    imageLoading,\r\n  };\r\n};\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEmojiIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.6562 0.09375C4.76953 0.09375 0 4.86328 0 10.75C0 16.6367 4.76953 21.4062 10.6562 21.4062C16.543 21.4062 21.3125 16.6367 21.3125 10.75C21.3125 4.86328 16.543 0.09375 10.6562 0.09375ZM10.6562 20.0312C5.5 20.0312 1.375 15.9062 1.375 10.75C1.375 5.63672 5.5 1.46875 10.6562 1.46875C15.7695 1.46875 19.9375 5.63672 19.9375 10.75C19.9375 15.9062 15.7695 20.0312 10.6562 20.0312ZM14.5234 13.7578C13.5352 14.918 12.1172 15.5625 10.6562 15.5625C9.15234 15.5625 7.73438 14.918 6.74609 13.7578C6.53125 13.457 6.10156 13.457 5.80078 13.6719C5.5 13.9297 5.45703 14.3594 5.71484 14.6602C6.91797 16.1211 8.72266 16.9375 10.6562 16.9375C12.5469 16.9375 14.3516 16.1211 15.5547 14.6602C15.8125 14.3594 15.7695 13.9297 15.4688 13.6719C15.2109 13.457 14.7383 13.457 14.5234 13.7578ZM7.21875 10.0625C7.94922 10.0625 8.59375 9.46094 8.59375 8.6875C8.59375 7.95703 7.94922 7.3125 7.21875 7.3125C6.44531 7.3125 5.84375 7.95703 5.84375 8.6875C5.84375 9.46094 6.44531 10.0625 7.21875 10.0625ZM14.0938 10.0625C14.8242 10.0625 15.4688 9.46094 15.4688 8.6875C15.4688 7.95703 14.8242 7.3125 14.0938 7.3125C13.3203 7.3125 12.7188 7.95703 12.7188 8.6875C12.7188 9.46094 13.3203 10.0625 14.0938 10.0625Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEmojiIcon);\nexport default __webpack_public_path__ + \"static/media/emoji-icon.fc65a243.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrashIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 15,\n    viewBox: \"0 0 13 15\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.09375 12.5625H8.53125C8.64062 12.5625 8.75 12.4805 8.75 12.3438V4.90625C8.75 4.79688 8.64062 4.6875 8.53125 4.6875H8.09375C7.95703 4.6875 7.875 4.79688 7.875 4.90625V12.3438C7.875 12.4805 7.95703 12.5625 8.09375 12.5625ZM3.71875 12.5625H4.15625C4.26562 12.5625 4.375 12.4805 4.375 12.3438V4.90625C4.375 4.79688 4.26562 4.6875 4.15625 4.6875H3.71875C3.58203 4.6875 3.5 4.79688 3.5 4.90625V12.3438C3.5 12.4805 3.58203 12.5625 3.71875 12.5625ZM12.0312 2.5H9.1875L8.25781 1.29688C8.03906 0.996094 7.57422 0.75 7.21875 0.75H5.03125C4.64844 0.75 4.18359 0.996094 3.96484 1.29688L3.0625 2.5H0.21875C0.0820312 2.5 0 2.60938 0 2.71875V3.15625C0 3.29297 0.0820312 3.375 0.21875 3.375H0.875V13.4375C0.875 14.1758 1.44922 14.75 2.1875 14.75H10.0625C10.7734 14.75 11.375 14.1758 11.375 13.4375V3.375H12.0312C12.1406 3.375 12.25 3.29297 12.25 3.15625V2.71875C12.25 2.60938 12.1406 2.5 12.0312 2.5ZM4.67578 1.81641C4.73047 1.70703 4.89453 1.65234 5.03125 1.625H7.21875C7.32812 1.65234 7.49219 1.70703 7.54688 1.81641L8.09375 2.5H4.15625L4.67578 1.81641ZM10.5 13.4375C10.5 13.6836 10.2812 13.875 10.0625 13.875H2.1875C1.94141 13.875 1.75 13.6836 1.75 13.4375V3.375H10.5V13.4375ZM5.90625 12.5625H6.34375C6.45312 12.5625 6.5625 12.4805 6.5625 12.3438V4.90625C6.5625 4.79688 6.45312 4.6875 6.34375 4.6875H5.90625C5.76953 4.6875 5.6875 4.79688 5.6875 4.90625V12.3438C5.6875 12.4805 5.76953 12.5625 5.90625 12.5625Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrashIcon);\nexport default __webpack_public_path__ + \"static/media/trash-icon.ba57b0d1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport styled from \"styled-components\";\r\nimport { ReactComponent as EmojiIcon } from \"../assets/icons/emoji-icon.svg\";\r\nimport {\r\n  ContentBox,\r\n  PopupPrimary,\r\n  svgPrimaryStyle,\r\n} from \"../styled-components/global\";\r\n\r\nconst EmojiWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst EmojiPopup = styled.div`\r\n  padding: 10px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\r\n  grid-gap: 5px;\r\n\r\n  span {\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst EmojiIconWrapper = styled.div`\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n  z-index: 100;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst emojiList = [\r\n  \"😀\",\r\n  \"😃\",\r\n  \"😁\",\r\n  \"😆\",\r\n  \"😅\",\r\n  \"😂\",\r\n  \"🤣\",\r\n  \"😊\",\r\n  \"😇\",\r\n  \"🙂\",\r\n  \"🙃\",\r\n  \"😉\",\r\n  \"😌\",\r\n  \"😍\",\r\n  \"🥰\",\r\n  \"😘\",\r\n  \"😗\",\r\n  \"😙\",\r\n  \"😚\",\r\n];\r\n\r\ntype Props = {\r\n  handleChooseEmoji: (emoji: string) => void;\r\n};\r\n\r\nconst Emojis: React.FC<Props> = ({ handleChooseEmoji }) => {\r\n  const [open, setOpen] = useState<boolean>(false);\r\n\r\n  const emojiPopup = (\r\n    <ContentBox>\r\n      <EmojiPopup>\r\n        {emojiList.map((emoji, idx) => {\r\n          return (\r\n            <span key={idx} onClick={handleChooseEmoji.bind(null, emoji)}>\r\n              {emoji}\r\n            </span>\r\n          );\r\n        })}\r\n      </EmojiPopup>\r\n    </ContentBox>\r\n  );\r\n  return (\r\n    <EmojiWrapper\r\n      onMouseEnter={() => setOpen(true)}\r\n      onMouseLeave={() => setOpen(false)}\r\n    >\r\n      <Tippy\r\n        content={emojiPopup}\r\n        interactive={true}\r\n        placement={\"bottom-end\"}\r\n        duration={0}\r\n        offset={[0, 5]}\r\n        trigger=\"click\"\r\n      >\r\n        <EmojiIconWrapper>\r\n          <EmojiIcon />\r\n        </EmojiIconWrapper>\r\n      </Tippy>\r\n    </EmojiWrapper>\r\n  );\r\n};\r\n\r\nexport default Emojis;\r\n","import React, { useState, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport useNotistack from \"../hooks/useNotistack\";\r\nimport { useUploadImages } from \"../hooks/useUploadImages\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Button,\r\n  ContentBoxContainer,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../styled-components/global\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport { ReactComponent as Cross } from \"../assets/icons/cross-icon.svg\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../assets/icons/image-upload-icon.svg\";\r\nimport Emojis from \"./Emojis\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst SendMessagePopup = styled.div`\r\n  min-width: 450px;\r\n  position: relative;\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  margin-left: auto;\r\n`;\r\n\r\nconst CrossIcon = styled(Cross)`\r\n  fill: var(--icon-color-secondary);\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ImageUpload = styled.div`\r\n  /* position: absolute;\r\n  top: 18px;\r\n  right: 55px; */\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    width: 20px;\r\n    fill: white;\r\n    top: auto;\r\n    right: auto;\r\n  }\r\n`;\r\n\r\nconst TextAreaWrapper = styled.div`\r\n  position: relative;\r\n  svg {\r\n    top: 0;\r\n  }\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n      padding: 15px;\r\n      padding-top: 0;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\ntype Props = {\r\n  modalIsOpen: boolean;\r\n  openModal: any;\r\n  closeModal: any;\r\n  userData: any;\r\n};\r\n\r\nconst SendMessageModal: React.FC<Props> = ({\r\n  modalIsOpen,\r\n  openModal,\r\n  closeModal,\r\n  userData,\r\n}) => {\r\n  console.log(\"USER DATA\", userData);\r\n  const [content, setContent] = useState<string>(\"\");\r\n  const { conversations, setConversations, meUserData, socket } =\r\n    useContext(AuthContext);\r\n  const {\r\n    images,\r\n    setImages,\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  const { request } = useHttp();\r\n  const ref = useRef<HTMLFormElement>(null);\r\n  const imageUploadRef = useRef<null | HTMLInputElement>(null);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setContent(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setContent(content + emoji);\r\n  };\r\n\r\n  const existingConversation = conversations.find((el: any) => {\r\n    const func = (user: any) => user._id === userData?._id;\r\n    return el.users.some(func);\r\n  });\r\n  console.log(\"existingConversation\", existingConversation);\r\n\r\n  const handleCreateConversation = async () => {\r\n    try {\r\n      const res = await request(\"/api/conversation\", \"POST\", {\r\n        content,\r\n        images,\r\n        userIds: [userData?._id],\r\n      });\r\n\r\n      setContent(\"\");\r\n      setImages([]);\r\n\r\n      setConversations((prevState: any) => {\r\n        return [res.conversation, ...prevState];\r\n      });\r\n\r\n      console.log(\"res create conversation\", res);\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `sent you a message: ${res.newMessage.content.slice(0, 70)}${\r\n          res.newMessage.content.length > 70 ? \"...\" : \"\"\r\n        }`,\r\n        url: `/conversation/${res.conversation._id}`,\r\n      };\r\n\r\n      socket.emit(\"createConversation\", res.conversation);\r\n      socket.emit(\"createMessageNotification\", notification);\r\n      closeModal();\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n    }\r\n  };\r\n\r\n  const handleCreateMessage = async (existingConversation: any) => {\r\n    try {\r\n      const res = await request(\"/api/message\", \"POST\", {\r\n        content,\r\n        images,\r\n        conversationId: existingConversation._id,\r\n      });\r\n\r\n      setContent(\"\");\r\n      setImages([]);\r\n\r\n      setConversations((prevState: any) => {\r\n        const newArr = prevState.filter(\r\n          (el: any) => el._id !== res.newMessage.conversation._id\r\n        );\r\n\r\n        const currentConv = prevState.find(\r\n          (el: any) => el._id === res.newMessage.conversation._id\r\n        );\r\n        const updatedConv = {\r\n          ...currentConv,\r\n          messages: [...currentConv.messages, res.newMessage],\r\n        };\r\n\r\n        return [updatedConv, ...newArr];\r\n      });\r\n\r\n      console.log(\"res create message\", res);\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `sent you a message: ${res.newMessage.content.slice(0, 70)}${\r\n          res.newMessage.content.length > 70 ? \"...\" : \"\"\r\n        }`,\r\n        url: `/conversation/${res.conversation._id}`,\r\n      };\r\n\r\n      socket.emit(\"createMessage\", res.newMessage);\r\n      console.log(\"notific\", notification);\r\n      socket.emit(\"createMessageNotification\", notification);\r\n      closeModal();\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if ((!content && images.length === 0) || imageLoading) {\r\n      return;\r\n    }\r\n\r\n    const existingConversation = conversations.find((el: any) => {\r\n      const func = (user: any) => user._id === userData?._id;\r\n      return el.users.some(func);\r\n    });\r\n\r\n    if (existingConversation) {\r\n      handleCreateMessage(existingConversation);\r\n    } else {\r\n      handleCreateConversation();\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      ref?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      center\r\n      closeIcon={<div></div>}\r\n      open={modalIsOpen}\r\n      onClose={closeModal}\r\n      focusTrapped={false}\r\n      // animationDuration={0}\r\n      classNames={{\r\n        overlay: \"customOverlay\",\r\n        modal: \"customModal\",\r\n      }}\r\n    >\r\n      <SendMessagePopup>\r\n        <CrossIcon onClick={closeModal} />\r\n        <ContentBoxContainer>\r\n          Write a message to {userData.firstName}\r\n        </ContentBoxContainer>\r\n        <Separator />\r\n        <form ref={ref} onSubmit={handleSubmit}>\r\n          <ContentBoxContainer>\r\n            <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n            <TextArea\r\n              $focuse\r\n              placeholder={\"Write something...\"}\r\n              style={{ resize: \"none\" }}\r\n              onChange={handleChange}\r\n              value={content}\r\n              onKeyDown={handleKeyPress}\r\n            />\r\n          </ContentBoxContainer>\r\n          <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n            <>\r\n              {imageLoading && (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              )}\r\n              {images.length > 0 && (\r\n                <PreviewImagesWrapper>\r\n                  {images.map((image, idx) => {\r\n                    return (\r\n                      <PreviewImageWrapper key={image.public_id}>\r\n                        <DeleteImageIcon\r\n                          onClick={handleRemoveImage.bind(null, image)}\r\n                        >\r\n                          <CrossIcon />\r\n                        </DeleteImageIcon>\r\n                        <PreviewImage src={image.url} />\r\n                      </PreviewImageWrapper>\r\n                    );\r\n                  })}\r\n                </PreviewImagesWrapper>\r\n              )}\r\n            </>\r\n          </ImagesPreviewWrapper>\r\n\r\n          <Separator />\r\n          <ContentBoxContainer style={{ display: \"flex\" }}>\r\n            <ImageUpload>\r\n              <label>\r\n                <ImageUploadIcon />\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\"image/*\"\r\n                  // multiple\r\n                  onChange={handleUploadImages}\r\n                  onKeyPress={handleKeyPress}\r\n                  ref={imageUploadRef}\r\n                  style={{ display: \"none\" }}\r\n                />\r\n              </label>\r\n            </ImageUpload>\r\n            <ButtonsWrapper>\r\n              <Button\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                marginRight=\"10px\"\r\n                onClick={closeModal}\r\n                type=\"button\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button size=\"small\" type=\"submit\">\r\n                Send\r\n              </Button>\r\n            </ButtonsWrapper>\r\n          </ContentBoxContainer>\r\n        </form>\r\n      </SendMessagePopup>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SendMessageModal;\r\n","import React, { useState } from \"react\";\r\n\r\nconst useModal = () => {\r\n  const [modalIsOpen, setIsOpen] = useState(false);\r\n\r\n  const openModal = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsOpen(false);\r\n  };\r\n  return { openModal, closeModal, modalIsOpen };\r\n};\r\n\r\nexport default useModal;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useTippyVisibility } from \"../../hooks/useTippyVisibility\";\r\nimport {\r\n  Avatar,\r\n  AvatarOnlineWrapper,\r\n  ContentBox,\r\n  CustomLink,\r\n} from \"../../styled-components/global\";\r\nimport { ReactComponent as CogwheelIcon } from \"../../assets/icons/cogwheel-icon.svg\";\r\nimport {\r\n  OptionsPopup,\r\n  OptionsPopupSelect,\r\n} from \"../../styled-components/global\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { FriendCardInfo, FriendCardWrapper, Options } from \"./styles\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\nimport styled from \"styled-components\";\r\nimport SendMessageModal from \"../SendMessageModal\";\r\nimport useModal from \"../../hooks/useModal\";\r\n\r\nconst CustomLinkButton = styled.button`\r\n  color: var(--color-primary);\r\n  background: none;\r\n  font-weight: 600;\r\n  :hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  friend: IUserData;\r\n  isPersonal?: boolean;\r\n};\r\n\r\nconst FriendCard: React.FC<Props> = ({ friend, isPersonal }) => {\r\n  //   const { relationToMe, setRelationToMe } = useCheckRelationToMe(friend);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  const { online } = useContext(OnlineContext);\r\n  const { request } = useHttp();\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const { openModal, modalIsOpen, closeModal } = useModal();\r\n  // console.log(\"IS PERSONAL\", isPersonal);\r\n  const handleDeleteFriend = async () => {\r\n    const friendRequest = meUserData?.friendRequests?.find(\r\n      (req) => req.recipient === friend._id || req.requester === friend._id\r\n    );\r\n    try {\r\n      await request(\r\n        `/api/friend-request/unfriend/${friendRequest?._id}`,\r\n        \"PUT\",\r\n        { userId: friend._id }\r\n      );\r\n      setMeUserData((prevState: IUserData) => {\r\n        const newFriendsArr = prevState.friends.filter(\r\n          (el: IUserData) => el._id !== friend._id\r\n        );\r\n        return {\r\n          ...prevState,\r\n          friends: newFriendsArr,\r\n        };\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const optionsPopup = (\r\n    <ContentBox onClick={hide}>\r\n      <OptionsPopup>\r\n        <OptionsPopupSelect onClick={handleDeleteFriend}>\r\n          Unfriend\r\n        </OptionsPopupSelect>\r\n      </OptionsPopup>\r\n    </ContentBox>\r\n  );\r\n\r\n  return (\r\n    <FriendCardWrapper>\r\n      <AvatarOnlineWrapper\r\n        onlineType={online[friend._id ? friend._id : \"ds\"] ? true : false}\r\n      >\r\n        <Avatar\r\n          size=\"medium\"\r\n          src={friend.avatar}\r\n          style={{ marginRight: \"15px\" }}\r\n        />\r\n      </AvatarOnlineWrapper>\r\n\r\n      <FriendCardInfo>\r\n        <CustomLink\r\n          style={{ marginBottom: \"7px\", display: \"block\" }}\r\n          color=\"black\"\r\n          to={`/profile/${friend._id}`}\r\n        >\r\n          {friend.firstName} {friend.lastName}\r\n        </CustomLink>\r\n        <CustomLinkButton onClick={openModal}>Send message</CustomLinkButton>\r\n        <SendMessageModal\r\n          openModal={openModal}\r\n          closeModal={closeModal}\r\n          modalIsOpen={modalIsOpen}\r\n          userData={friend}\r\n        />\r\n      </FriendCardInfo>\r\n\r\n      {isPersonal && (\r\n        <Tippy\r\n          content={optionsPopup}\r\n          interactive={true}\r\n          placement={\"bottom-end\"}\r\n          trigger=\"click\"\r\n          duration={0}\r\n          offset={[0, 5]}\r\n          visible={visible}\r\n          onClickOutside={hide}\r\n        >\r\n          <Options onClick={visible ? hide : show}>\r\n            <CogwheelIcon />\r\n          </Options>\r\n        </Tippy>\r\n      )}\r\n    </FriendCardWrapper>\r\n  );\r\n};\r\n\r\nexport default FriendCard;\r\n","import React, { useState } from \"react\";\r\nimport { ContentBox, Separator } from \"../../styled-components/global\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useQuery } from \"../../hooks/useQuery\";\r\n\r\nconst FriendsNavigationWrapper = styled.div`\r\n  width: 550px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst TabsWrapper = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Tab = styled.div<{ selected: boolean }>`\r\n  padding: 15px 15px;\r\n  display: block;\r\n  position: relative;\r\n  :hover {\r\n    cursor: pointer;\r\n    background: var(--color-secondary);\r\n  }\r\n  ${(props) =>\r\n    props.selected &&\r\n    `\r\n:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    height: 2px;\r\n    width: 100%;\r\n    background: var(--color-primary);\r\n  }\r\n  `}\r\n`;\r\n\r\ntype Props = {\r\n  tabs: ITab[];\r\n  activeTab: ITab;\r\n  // count: number;\r\n};\r\n\r\ninterface ITab {\r\n  title: string;\r\n  url: string;\r\n  count: number;\r\n}\r\n\r\nconst FriendsNavigation: React.FC<Props> = ({\r\n  tabs,\r\n  children,\r\n  activeTab,\r\n  // count,\r\n}) => {\r\n  const history = useHistory();\r\n  const query = useQuery();\r\n\r\n  return (\r\n    <FriendsNavigationWrapper>\r\n      <ContentBox style={{ minHeight: 500 }}>\r\n        <TabsWrapper>\r\n          {tabs.map((tab) => {\r\n            return (\r\n              <Tab\r\n                key={tab.url}\r\n                selected={tab.title === activeTab.title}\r\n                onClick={() =>\r\n                  history.push(\r\n                    `/friends?section=${tab.url}${\r\n                      query.get(\"id\") ? `&id=${query.get(\"id\")}` : \"\"\r\n                    }`\r\n                  )\r\n                }\r\n              >\r\n                {tab.title}{\" \"}\r\n                <span style={{ color: \"var(--text-color-secondary)\" }}>\r\n                  {tab.count}\r\n                </span>\r\n              </Tab>\r\n            );\r\n          })}\r\n        </TabsWrapper>\r\n        <Separator />\r\n        {children}\r\n      </ContentBox>\r\n    </FriendsNavigationWrapper>\r\n  );\r\n};\r\n\r\nexport default FriendsNavigation;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { OnlineContext } from \"../../../context/OnlineContext\";\r\n\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { useQuery } from \"../../../hooks/useQuery\";\r\nimport { Separator } from \"../../../styled-components/global\";\r\nimport FriendCard from \"../FriendCard\";\r\n\r\nimport FriendsNavigation from \"../FriendsNavigation\";\r\n\r\nconst UserFriendsPage = () => {\r\n  const [friends, setFriends] = useState<any[]>([]);\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  const query = useQuery();\r\n  const id = query.get(\"id\");\r\n\r\n  const { request, loading } = useHttp();\r\n\r\n  useEffect(() => {\r\n    request(`/api/friends/${id}`, \"GET\").then((res: any) => {\r\n      // console.log(\"friends\", res);\r\n      setFriends(res.friends);\r\n    });\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <></>;\r\n  }\r\n\r\n  const onlineFriends = friends.filter((el: any) => online[el._id]);\r\n\r\n  const tabs = [\r\n    { title: \"All friends\", url: \"all\", count: friends.length },\r\n    { title: \"Online\", url: \"online\", count: onlineFriends.length },\r\n  ];\r\n  return (\r\n    <>\r\n      {(query.get(\"section\") === \"all\" || query.get(\"section\") === null) && (\r\n        <FriendsNavigation\r\n          // count={friends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[0]}\r\n        >\r\n          {friends.length === 0 ? (\r\n            <div>No friends yet...</div>\r\n          ) : (\r\n            <>\r\n              {friends.map((friend) => {\r\n                return (\r\n                  <>\r\n                    <FriendCard friend={friend} key={friend._id} />\r\n                    <Separator />\r\n                  </>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n      {query.get(\"section\") === \"online\" && (\r\n        <FriendsNavigation\r\n          // count={friends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[1]}\r\n        >\r\n          {onlineFriends.length === 0 ? (\r\n            <div>No friends online</div>\r\n          ) : (\r\n            <>\r\n              {onlineFriends.map((friend) => {\r\n                return (\r\n                  <>\r\n                    <FriendCard friend={friend} key={friend._id} />\r\n                    <Separator />\r\n                  </>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserFriendsPage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport {\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Separator,\r\n} from \"../../styled-components/global\";\r\nimport FriendCard from \"./FriendCard\";\r\n// import styled from \"styled-components\";\r\nimport FriendsNavigation from \"./FriendsNavigation\";\r\nimport { useQuery } from \"../../hooks/useQuery\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\nimport styled from \"styled-components\";\r\n\r\nconst NoFriends = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 50px;\r\n  div {\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  friends: IUserData[];\r\n  isPersonal?: boolean;\r\n};\r\n\r\nconst FriendList: React.FC<Props> = ({ friends, isPersonal }) => {\r\n  const query = useQuery();\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  const onlineFriends = friends.filter((el: any) => online[el._id]);\r\n\r\n  const tabs = [\r\n    { title: \"All friends\", url: \"all\", count: friends.length },\r\n    { title: \"Online\", url: \"online\", count: onlineFriends.length },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {(query.get(\"section\") === \"all\" || query.get(\"section\") === null) && (\r\n        <FriendsNavigation\r\n          // count={friends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[0]}\r\n        >\r\n          {friends.length === 0 ? (\r\n            <NoFriends>\r\n              <div>No friends yet...</div>\r\n            </NoFriends>\r\n          ) : (\r\n            <>\r\n              {friends.map((friend, idx) => {\r\n                return (\r\n                  <React.Fragment key={idx}>\r\n                    {/* {idx !== 0 && <Separator />} */}\r\n                    <FriendCard friend={friend} isPersonal={isPersonal} />\r\n                    <Separator />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n      {query.get(\"section\") === \"online\" && (\r\n        <FriendsNavigation\r\n          // count={onlineFriends.length}\r\n          tabs={tabs}\r\n          activeTab={tabs[1]}\r\n        >\r\n          {onlineFriends.length === 0 ? (\r\n            <NoFriends>\r\n              <div>No friends online...</div>\r\n            </NoFriends>\r\n          ) : (\r\n            <>\r\n              {onlineFriends.map((friend, idx) => {\r\n                return (\r\n                  <React.Fragment key={idx}>\r\n                    <FriendCard friend={friend} isPersonal={isPersonal} />\r\n                    <Separator />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n            </>\r\n          )}\r\n        </FriendsNavigation>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FriendList;\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { OnlineContext } from \"../../../context/OnlineContext\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { IUserData } from \"../../../interfaces/IUserData\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CustomLink,\r\n  AvatarOnlineWrapper,\r\n} from \"../../../styled-components/global\";\r\n\r\nimport { FriendCardInfo, FriendCardWrapper } from \"../styles\";\r\n\r\ntype Props = {\r\n  friend: IUserData;\r\n  friendRequestType?: \"pending\" | \"out_sent\";\r\n  friendRequestId?: any;\r\n  setFriendRequests: React.Dispatch<any>;\r\n};\r\n\r\nconst FriendRequestCard: React.FC<Props> = ({\r\n  friend,\r\n  friendRequestType,\r\n  friendRequestId,\r\n  setFriendRequests,\r\n}) => {\r\n  const { meUserData, setMeUserData, socket } = useContext(AuthContext);\r\n  const { online } = useContext(OnlineContext);\r\n  const { request } = useHttp();\r\n\r\n  const handleAcceptFriendRequest = async (\r\n    user: IUserData,\r\n    friendRequestId: string\r\n  ) => {\r\n    try {\r\n      await request(`/api/friend-request/accept/${friendRequestId}`, \"PUT\", {\r\n        userId: user._id,\r\n      });\r\n      setMeUserData({\r\n        ...meUserData,\r\n        friends: [...meUserData?.friends, user],\r\n      });\r\n      setFriendRequests((prevState: any) => {\r\n        const newArr = prevState.filter(\r\n          (el: any) => el.requester._id !== user._id\r\n        );\r\n        return newArr;\r\n      });\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [user],\r\n        text: `accepted your friend request`,\r\n        url: \"/friends\",\r\n      };\r\n\r\n      const resNotif = await request(\"/api/notify\", \"POST\", {\r\n        ...notification,\r\n      });\r\n      socket.emit(\"createNotification\", resNotif.notification);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleCancelFriendRequest = async (\r\n    user: IUserData,\r\n    friendRequestId: string\r\n  ) => {\r\n    // console.log(\"data\", user, friendRequestId);\r\n    try {\r\n      await request(`/api/friend-request/cancel/${friendRequestId}`, \"DELETE\", {\r\n        userId: user._id,\r\n      });\r\n      setFriendRequests((prevState: any) => {\r\n        const newArr = prevState.filter(\r\n          (el: any) => el.recipient._id !== user._id\r\n        );\r\n        return newArr;\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // console.log(\"AAAA\", friend);\r\n\r\n  return (\r\n    <FriendCardWrapper>\r\n      <AvatarOnlineWrapper\r\n        onlineType={online[friend._id ? friend._id : \"ds\"] ? true : false}\r\n      >\r\n        <Avatar\r\n          size=\"medium\"\r\n          src={friend.avatar}\r\n          style={{ marginRight: \"15px\" }}\r\n        />\r\n      </AvatarOnlineWrapper>\r\n\r\n      <FriendCardInfo>\r\n        <CustomLink\r\n          style={{ marginBottom: \"10px\", display: \"block\" }}\r\n          color=\"black\"\r\n          to={`/profile/${friend._id}`}\r\n        >\r\n          {friend.firstName} {friend.lastName}\r\n        </CustomLink>\r\n        {friendRequestType === \"pending\" ? (\r\n          <Button\r\n            size=\"small\"\r\n            onClick={() => handleAcceptFriendRequest!(friend, friendRequestId)}\r\n          >\r\n            Accept\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            size=\"small\"\r\n            onClick={() => handleCancelFriendRequest!(friend, friendRequestId)}\r\n          >\r\n            Unsubscribe\r\n          </Button>\r\n        )}\r\n      </FriendCardInfo>\r\n    </FriendCardWrapper>\r\n  );\r\n};\r\n\r\nexport default FriendRequestCard;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\n// import { IUserData } from \"../../../interfaces/IUserData\";\r\nimport { Separator } from \"../../../styled-components/global\";\r\n\r\nimport FriendsNavigation from \"../FriendsNavigation\";\r\nimport { useQuery } from \"../../../hooks/useQuery\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport FriendRequestCard from \"./FriendRequestCard\";\r\n\r\nconst FriendRequestList = () => {\r\n  const { request, loading } = useHttp();\r\n  const [friendRequests, setFriendRequests] = useState<any>([]);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  const query = useQuery();\r\n\r\n  const loadFriendRequests = async () => {\r\n    try {\r\n      const res = await request(`/api/pending_friend_requests`, \"GET\");\r\n      // console.log(\"REEEEEEEEEEEs\", res);\r\n      setFriendRequests(res.friendRequests);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadFriendRequests();\r\n  }, []);\r\n\r\n  // if (loading) {\r\n  //   return <div>loading...</div>;\r\n  // }\r\n\r\n  const tabs = [\r\n    {\r\n      title: \"Pending\",\r\n      url: \"all_requests\",\r\n      count: friendRequests.filter(\r\n        (el: any) => el.recipient._id === meUserData?._id\r\n      ).length,\r\n    },\r\n    {\r\n      title: \"Out requests\",\r\n      url: \"out_requests\",\r\n      count: friendRequests.filter(\r\n        (el: any) => el.requester._id === meUserData?._id\r\n      ).length,\r\n    },\r\n  ];\r\n\r\n  // const pendingFriendRec\r\n\r\n  return (\r\n    <>\r\n      {/* pending requests where i'm a recipient and he is a requester */}\r\n      {query.get(\"section\") === \"all_requests\" && (\r\n        <FriendsNavigation tabs={tabs} activeTab={tabs[0]}>\r\n          {!loading &&\r\n            friendRequests\r\n              .filter((el: any) => el.recipient._id === meUserData?._id)\r\n              .map((friendRequest: any, idx: number) => {\r\n                // console.log(\"FRIEND\", friend);\r\n                return (\r\n                  <React.Fragment key={friendRequest._id}>\r\n                    <FriendRequestCard\r\n                      friend={friendRequest.requester}\r\n                      friendRequestType={\"pending\"}\r\n                      friendRequestId={friendRequest._id}\r\n                      setFriendRequests={setFriendRequests}\r\n                    />\r\n                    <Separator />\r\n                  </React.Fragment>\r\n                );\r\n              })}\r\n        </FriendsNavigation>\r\n      )}\r\n      {/* pending requests where i'm a requester and he is a recipient */}\r\n      {query.get(\"section\") === \"out_requests\" && (\r\n        <FriendsNavigation tabs={tabs} activeTab={tabs[1]}>\r\n          {friendRequests\r\n            .filter((el: any) => el.requester._id === meUserData?._id)\r\n            .map((friendRequest: any, idx: number) => {\r\n              return (\r\n                <React.Fragment key={friendRequest._id}>\r\n                  <FriendRequestCard\r\n                    friend={friendRequest.recipient}\r\n                    friendRequestType={\"out_sent\"}\r\n                    friendRequestId={friendRequest._id}\r\n                    setFriendRequests={setFriendRequests}\r\n                  />\r\n                  <Separator />\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n        </FriendsNavigation>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FriendRequestList;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n} from \"../../styled-components/global\";\r\n\r\nconst Wrapper = styled.div`\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst Select = styled.div<{ selected: boolean }>`\r\n  padding: 15px;\r\n  position: relative;\r\n  :last-child {\r\n    border-top: var(--border-primary);\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  ${(props) =>\r\n    props.selected &&\r\n    `\r\n        background: var(--color-secondary);\r\n        \r\n        :before {\r\n          content: '';\r\n          position: absolute;\r\n          height: 100%;\r\n          top: 0;\r\n          left: 0;\r\n          border-left: 3px solid var(--color-primary);\r\n        }\r\n  `}\r\n`;\r\n\r\ntype Props = {\r\n  menuItems: any;\r\n};\r\n\r\nconst FriendsMenu: React.FC<Props> = ({ menuItems }) => {\r\n  const [selectedItem, setSelectedItem] = useState<any>(menuItems[0]);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox>\r\n        {menuItems.map((item: any, idx: number) => {\r\n          return (\r\n            <Select\r\n              selected={selectedItem.title === item.title}\r\n              key={idx}\r\n              onClick={() => {\r\n                history.push(`/friends?section=${item.url}`);\r\n                setSelectedItem(item);\r\n              }}\r\n            >\r\n              {item.title}\r\n            </Select>\r\n          );\r\n        })}\r\n      </ContentBox>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FriendsMenu;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { IUserData } from \"../../../interfaces/IUserData\";\r\nimport FriendList from \"../FriendList\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { useQuery } from \"../../../hooks/useQuery\";\r\nimport FriendRequestList from \"./FriendRequestList\";\r\nimport FriendsNavigation from \"../FriendsNavigation\";\r\nimport FriendCard from \"../FriendCard\";\r\nimport { Separator } from \"../../../styled-components/global\";\r\nimport FriendsMenu from \"../FriendsMenu\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst PersonalFriendsPage = () => {\r\n  // const { meUserData } = useContext(AuthContext);\r\n  const [friends, setFriends] = useState<any[]>([]);\r\n  const { meUserData } = useContext(AuthContext);\r\n  let query = useQuery();\r\n  const { request, loading } = useHttp();\r\n  // console.log(\"friends\", friends);\r\n  // console.log(\"query param\", query.get(\"section\"));\r\n\r\n  // console.log(\"my friend requests\", meUserData);\r\n  useEffect(() => {\r\n    request(`/api/friends/${meUserData?._id}`, \"GET\").then((res: any) => {\r\n      // console.log(\"friends\", res);\r\n      setFriends(res.friends);\r\n    });\r\n  }, []);\r\n  if (loading) {\r\n    return <></>;\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      {(query.get(\"section\") === \"all\" ||\r\n        query.get(\"section\") === \"online\" ||\r\n        query.get(\"section\") === null) && (\r\n        <FriendList friends={friends} isPersonal />\r\n      )}\r\n\r\n      {/* requests */}\r\n      {(query.get(\"section\") === \"all_requests\" ||\r\n        query.get(\"section\") === \"out_requests\") && <FriendRequestList />}\r\n      <FriendsMenu\r\n        menuItems={[\r\n          { title: \"All friends\", url: \"all\" },\r\n          { title: \"Friend requests\", url: \"all_requests\" },\r\n        ]}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PersonalFriendsPage;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport UserFriendsPage from \"../components/friends-page/user/UserFriendsPage\";\r\nimport PersonalFriendsPage from \"../components/friends-page/personal/PersonalFriendsPage\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  min-height: 550px;\r\n`;\r\n\r\nconst FriendsPage = () => {\r\n  const query = useQuery();\r\n\r\n  return (\r\n    <Wrapper>\r\n      {!query.get(\"id\") ? <PersonalFriendsPage /> : <UserFriendsPage />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FriendsPage;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  AvatarOnlineWrapper,\r\n  svgSecondaryStyle,\r\n} from \"../../styled-components/global\";\r\nimport { ReactComponent as TrashIcon } from \"../../assets/icons/trash-icon.svg\";\r\nimport { DateTime } from \"luxon\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useRoutes } from \"../../routes\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\n// import e from \"cors\";\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    background: var(--color-secondary);\r\n    svg {\r\n      display: block;\r\n    }\r\n  }\r\n  svg {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 10px;\r\n    display: none;\r\n    ${svgSecondaryStyle}\r\n  }\r\n`;\r\n\r\nconst WrapperLink = styled(Link)`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 15px;\r\n`;\r\n\r\nconst ConversationInfo = styled.div`\r\n  width: 100%;\r\n  /* padding-top: 5px; */\r\n`;\r\n\r\nconst ConversationLastUser = styled.div`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst ConversationLastText = styled.div<{ isRead: boolean }>`\r\n  background: none;\r\n  padding: none;\r\n  color: var(--text-color-secondary);\r\n  flex-grow: 1;\r\n  ${(props) =>\r\n    !props.isRead &&\r\n    `\r\n    background: rgba(18, 62, 165, 0.07);\r\n  padding: 5px 7px;\r\n  border-radius: 3px;\r\n  color: var(--text-color-primary);\r\n    \r\n  `}\r\n`;\r\n\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 30px;\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst ConversationLastTextWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  img {\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nconst Count = styled.div`\r\n  width: 15px;\r\n  height: 15px;\r\n  background: var(--color-primary);\r\n  border-radius: 100px;\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n`;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n  // setConversations: React.Dispatch<any>;\r\n  // setConversation: React.Dispatch<any>;\r\n};\r\n\r\nconst Conversation: React.FC<Props> = ({\r\n  conversation,\r\n  // setConversations,\r\n  // setConversation,\r\n}) => {\r\n  // const { meUserData } = useContext(AuthContext);\r\n  const date = DateTime.fromISO(conversation.createdAt).toLocaleString(\r\n    // DateTime.DATETIME_MED\r\n    {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n    }\r\n  );\r\n\r\n  // console.log(\"TESTSTSTS\", conversation.messages);\r\n\r\n  const { request } = useHttp();\r\n  const { meUserData, setConversations } = useContext(AuthContext);\r\n  const { online } = useContext(OnlineContext);\r\n  const history = useHistory();\r\n\r\n  const unReadMessagesCount = conversation.messages.filter(\r\n    (el: any) => el.isRead === false && el.user._id !== meUserData?._id\r\n  ).length;\r\n  conversation.messages.forEach((el: any) => {\r\n    // console.log(el.isRead, el);\r\n  });\r\n\r\n  // console.log(\"online conversations\", online);\r\n  const handleDeleteConversation = async () => {\r\n    const res = window.confirm(\r\n      \"Are you sure you want to delete this conversation?\"\r\n    );\r\n\r\n    // console.log(res);\r\n    if (res) {\r\n      try {\r\n        const response = await request(\r\n          `/api/conversation/${conversation._id}`,\r\n          \"DELETE\"\r\n        );\r\n        setConversations((prevState: any) => {\r\n          const newState = prevState.filter(\r\n            (el: any) => el._id !== conversation._id\r\n          );\r\n          return newState;\r\n        });\r\n        history.push(\"/messages\");\r\n        // console.log(\"response\", response);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\r\n  console.log(\"lastMessage\", lastMessage);\r\n  return (\r\n    <Wrapper>\r\n      <WrapperLink to={`/conversation/${conversation._id}`}>\r\n        {conversation.users.length === 1 && (\r\n          <AvatarOnlineWrapper\r\n            onlineType={\r\n              online[\r\n                conversation.users[0]._id ? conversation.users[0]._id : \"ds\"\r\n              ]\r\n                ? true\r\n                : false\r\n            }\r\n          >\r\n            <Avatar\r\n              style={{ marginRight: \"15px\" }}\r\n              size=\"medium\"\r\n              src={conversation.users[0].avatar}\r\n            />\r\n          </AvatarOnlineWrapper>\r\n        )}\r\n\r\n        <ConversationInfo>\r\n          {conversation.users.map((user: any) => {\r\n            console.log(\"user\", user);\r\n            return (\r\n              <ConversationLastUser key={user._id}>\r\n                {user.firstName} {user.lastName}\r\n              </ConversationLastUser>\r\n            );\r\n          })}\r\n          {lastMessage?.user === meUserData?._id ? (\r\n            <ConversationLastTextWrapper>\r\n              <Avatar src={meUserData?.avatar} size=\"extra-small\" />\r\n              {lastMessage.content && (\r\n                <ConversationLastText isRead={lastMessage.isRead}>\r\n                  {lastMessage.content}\r\n                </ConversationLastText>\r\n              )}\r\n              {!lastMessage.content && lastMessage.images.length > 0 && (\r\n                <ConversationLastText isRead={lastMessage.isRead}>\r\n                  Photo\r\n                </ConversationLastText>\r\n              )}\r\n            </ConversationLastTextWrapper>\r\n          ) : (\r\n            <ConversationLastTextWrapper>\r\n              {lastMessage?.content && (\r\n                <ConversationLastText isRead={lastMessage?.isRead}>\r\n                  {lastMessage?.content}\r\n                </ConversationLastText>\r\n              )}\r\n              {!lastMessage?.content && lastMessage?.images.length > 0 && (\r\n                <ConversationLastText isRead={lastMessage?.isRead}>\r\n                  Photo\r\n                </ConversationLastText>\r\n              )}\r\n              {unReadMessagesCount > 0 && <Count>{unReadMessagesCount}</Count>}\r\n            </ConversationLastTextWrapper>\r\n          )}\r\n        </ConversationInfo>\r\n        <Date>{date}</Date>\r\n      </WrapperLink>\r\n\r\n      <TrashIcon onClick={handleDeleteConversation} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { useHttp } from \"../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport { ContentBox, Separator } from \"../styled-components/global\";\r\nimport Conversation from \"../components/messages-page/Conversation\";\r\nimport { MessagesContext } from \"../context/MessagesContext\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport MessagesNavigation from \"../components/conversation-page/MessagesNavigation\";\r\nimport MessagesList from \"../components/conversation-page/MessagesList\";\r\n// import { ConversationContext } from \"../context/ConversationContext\";\r\nimport ConversationPage from \"./ConversationPage\";\r\nconst Wrapper = styled.div`\r\n  width: 550px;\r\n`;\r\n\r\n// const Empty = styled.div``;\r\n\r\nconst NoConversations = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 50px;\r\n  div {\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\nconst MessagesPage = () => {\r\n  const { conversations, setConversations } = useContext(AuthContext);\r\n  // const { conversation, setConversation } = useContext(ConversationContext);\r\n  // const [conversation, setConversation] = useState(null);\r\n  // const { meUserData } = useContext(AuthContext);\r\n  // const { request, loading } = useHttp();\r\n  // useEffect(() => {\r\n  //   request(`/api/conversations`, \"GET\").then((res) => {\r\n  //     console.log(\"conversations\", res);\r\n  //     setConversations(res.conversations);\r\n  //   });\r\n  // }, []);\r\n\r\n  // const query = useQuery();\r\n\r\n  // console.log(\"conversations BEFORE EFFECT\", conversations);\r\n  // console.log(\"set Conversation\", conversations);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox style={{ minHeight: \"500px\" }}>\r\n        {conversations.length > 0 ? (\r\n          <>\r\n            {conversations.map((conv: any) => {\r\n              return (\r\n                <React.Fragment key={conv._id}>\r\n                  <Conversation\r\n                    conversation={conv}\r\n                    // setConversations={setConversations}\r\n                  />\r\n                  <Separator />\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n          </>\r\n        ) : (\r\n          <NoConversations>\r\n            <div>No conversations yet...</div>\r\n          </NoConversations>\r\n        )}\r\n        {/* {conversations.length === 0 && <div>Пока нет бесед...</div>} */}\r\n      </ContentBox>\r\n    </Wrapper>\r\n\r\n    // </Message/sContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MessagesPage;\r\n\r\n// <ListItem alignItems=\"flex-start\" key={idx}>\r\n//               {conversation.users.length < 2 && (\r\n//                 <ListItemAvatar>\r\n//                   <Avatar alt=\"Remy Sharp\" src={conversation.users[0].avatar} />\r\n//                 </ListItemAvatar>\r\n//               )}\r\n\r\n//               <Link to={`/conversation/${conversation._id}`}>\r\n//                 {conversation.users[0].firstName +\r\n//                   \" \" +\r\n//                   conversation.users[0].lastName}\r\n//               </Link>\r\n//               <div>{conversation.messages[0].content}</div>\r\n//               <div>{date}</div>\r\n//             </ListItem>\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Button,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Input,\r\n} from \"../../styled-components/global\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst BoxTitle = styled.div`\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst SignIn = () => {\r\n  const [credentials, setCredentials] = useState<{\r\n    email: string;\r\n    password: string;\r\n  }>({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  // const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const { request, error, loading } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      // console.log(credentials);\r\n      const data = await request(\"/api/auth/login\", \"POST\", credentials, {\r\n        Authorization: auth.accessToken,\r\n      });\r\n\r\n      auth.login(data.accessToken, data.userData);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // const classes = useStyles();\r\n\r\n  return (\r\n    <ContentBox>\r\n      <ContentBoxContainer>\r\n        <BoxTitle>Sign in</BoxTitle>\r\n        {error && (\r\n          <Alert severity=\"error\" style={{ marginBottom: \"10px\" }}>\r\n            {error.message}\r\n          </Alert>\r\n        )}\r\n        <form onSubmit={handleSubmit}>\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.email}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"Email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required\r\n          />\r\n          <Input\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            placeholder=\"Password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            required\r\n            type=\"password\"\r\n            style={{ marginBottom: \"10px\" }}\r\n          />\r\n          <Button size=\"small\" type=\"submit\" disabled={loading}>\r\n            Sign in\r\n          </Button>\r\n        </form>\r\n      </ContentBoxContainer>\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Button,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  Input,\r\n} from \"../../styled-components/global\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst BoxTitle = styled.div`\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  text-align: center;\r\n  margin-bottom: 2px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst BoxSubTitle = styled.div`\r\n  /* font-family: var(--font-family-secondary); */\r\n  color: var(--text-color-secondary);\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst SignUp = () => {\r\n  const [credentials, setCredentials] = useState<{\r\n    email: string;\r\n    password: string;\r\n    firstName: string;\r\n    lastName: string;\r\n  }>({\r\n    email: \"\",\r\n    password: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n  });\r\n\r\n  const { request, error, loading } = useHttp();\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const data = await request(\"/api/auth/register\", \"POST\", credentials, {\r\n        Authorization: auth.accessToken,\r\n      });\r\n      // console.log(\"NEW\", data);\r\n      auth.login(data.accessToken, data.userData);\r\n      history.push(`/profile/edit/${data.userData._id}`);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // const classes = useStyles();\r\n\r\n  return (\r\n    <ContentBox>\r\n      <ContentBoxContainer>\r\n        <BoxTitle>First time here?</BoxTitle>\r\n        <BoxSubTitle>Let's sign up!</BoxSubTitle>\r\n        {error && <Alert severity=\"error\">{error.message}</Alert>}\r\n        <form onSubmit={handleSubmit}>\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.firstName}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"First Name\"\r\n            id=\"firstName\"\r\n            name=\"firstName\"\r\n            required\r\n            type=\"text\"\r\n          />\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.lastName}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"Last Name\"\r\n            id=\"lastName\"\r\n            name=\"lastName\"\r\n            required\r\n            type=\"text\"\r\n          />\r\n          <Input\r\n            // paddingLeft:\r\n            value={credentials.email}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            style={{ marginBottom: \"10px\" }}\r\n            placeholder=\"Email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required\r\n          />\r\n          <Input\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n            placeholder=\"Password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            required\r\n            style={{ marginBottom: \"10px\" }}\r\n          />\r\n          <Button size=\"small\" type=\"submit\" disabled={loading}>\r\n            Sign up\r\n          </Button>\r\n        </form>\r\n      </ContentBoxContainer>\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import styled from \"styled-components\";\r\nimport SignIn from \"../components/friends-page/SignIn\";\r\nimport SignUp from \"../components/friends-page/SignUp\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  width: 300px;\r\n  padding: 50px 0;\r\n`;\r\n\r\nconst LogoWrapper = styled.div`\r\n  font-size: 38px;\r\n  font-family: var(--font-family-secondary);\r\n  font-weight: 700;\r\n  color: var(--text-color-link);\r\n  text-align: center;\r\n  margin-bottom: 25px;\r\n  letter-spacing: 0;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default function SignInSignUpPage() {\r\n  return (\r\n    <Wrapper>\r\n      <LogoWrapper>intouch</LogoWrapper>\r\n      <SignIn />\r\n      <div style={{ height: \"20px\" }}></div>\r\n      <SignUp />\r\n    </Wrapper>\r\n  );\r\n}\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLikeIconDisabled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 20,\n    viewBox: \"0 0 23 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711ZM20.2931 9.4493L12.0001 18.043L3.66417 9.4493C2.03136 7.73055 1.68761 4.50789 4.00792 2.53133C6.3712 0.511796 9.1212 1.97273 10.1525 3.00398L12.0001 4.89461L13.8048 3.00398C14.7931 1.97273 17.586 0.511796 19.9493 2.53133C22.2696 4.50789 21.9259 7.73055 20.2931 9.4493Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikeIconDisabled);\nexport default __webpack_public_path__ + \"static/media/like-icon_disabled.4bdccf7d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  ContentBoxContainer,\r\n  Separator,\r\n} from \"../../styled-components/global\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\n\r\nconst FriendsWrapper = styled.div`\r\n  /* justify-content: center; */\r\n`;\r\n\r\nconst Friend = styled.div`\r\n  /* margin: 0 10px; */\r\n  display: flex;\r\n  justify-content: center;\r\n  a {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst FriendAvatar = styled.img`\r\n  border-radius: 100px;\r\n  width: 60px;\r\n  height: 60px;\r\n  object-fit: cover;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst FriendsList = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  /* grid-template-rows: 1fr 1fr; */\r\n  grid-gap: 10px;\r\n`;\r\n\r\nconst FriendsTitle = styled(Link)`\r\n  display: block;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst FriendsTitleCount = styled.span`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst NoFriends = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  /* padding-top: 10px; */\r\n  width: 100%;\r\n  div {\r\n    display: block;\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  span {\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\ntype FriendsProps = {\r\n  friends: any;\r\n  _id: string;\r\n  isPersonal: boolean;\r\n};\r\n\r\nconst Friends: React.FC<FriendsProps> = ({ friends, _id, isPersonal }) => {\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  const onlineFriends = friends.filter((el: any) => online[el._id]);\r\n\r\n  return (\r\n    <FriendsWrapper>\r\n      <ContentBoxContainer>\r\n        <FriendsTitle to={isPersonal ? `/friends` : `/friends?id=${_id}`}>\r\n          Друзья <FriendsTitleCount>{friends.length}</FriendsTitleCount>\r\n        </FriendsTitle>\r\n        {friends.length > 0 ? (\r\n          <FriendsList>\r\n            {friends.slice(0, 6).map((friend: any) => {\r\n              const slicedName =\r\n                friend.firstName.length < 9\r\n                  ? friend.firstName\r\n                  : friend.firstName.slice(0, 9) + \"...\";\r\n              return (\r\n                <Friend key={friend._id}>\r\n                  <Link to={`/profile/${friend._id}`}>\r\n                    <FriendAvatar src={friend.avatar} />\r\n                    {slicedName}\r\n                  </Link>\r\n                </Friend>\r\n              );\r\n            })}\r\n          </FriendsList>\r\n        ) : (\r\n          <FriendsList style={{ minHeight: \"100px\", display: \"flex\" }}>\r\n            <NoFriends>\r\n              <div>No friends yet...</div>\r\n              <Button marginTop=\"10px\" size=\"small\">\r\n                Find friends\r\n              </Button>\r\n            </NoFriends>\r\n          </FriendsList>\r\n        )}\r\n      </ContentBoxContainer>\r\n      {onlineFriends.length > 0 && (\r\n        <>\r\n          <Separator />\r\n          <ContentBoxContainer>\r\n            {\" \"}\r\n            <FriendsTitle to={isPersonal ? `/friends` : `/friends?id=${_id}`}>\r\n              Online{\" \"}\r\n              <FriendsTitleCount>{onlineFriends.length}</FriendsTitleCount>\r\n            </FriendsTitle>\r\n            <FriendsList>\r\n              {onlineFriends.slice(0, 6).map((friend: any) => {\r\n                const slicedName =\r\n                  friend.firstName.length < 9\r\n                    ? friend.firstName\r\n                    : friend.firstName.slice(0, 9) + \"...\";\r\n                return (\r\n                  <Friend key={friend._id}>\r\n                    <Link to={`/profile/${friend._id}`}>\r\n                      <FriendAvatar src={friend.avatar} />\r\n                      {slicedName}\r\n                    </Link>\r\n                  </Friend>\r\n                );\r\n              })}\r\n            </FriendsList>\r\n          </ContentBoxContainer>\r\n        </>\r\n      )}\r\n    </FriendsWrapper>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import { createContext, Dispatch } from \"react\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport type UserContextType = {\r\n  userData: IUserData | null;\r\n  setUserData: Dispatch<any>;\r\n  isPersonal: boolean;\r\n};\r\n\r\nconst noop = (): void => {};\r\n\r\nexport const UserContext = createContext<UserContextType>({\r\n  userData: null,\r\n  setUserData: noop,\r\n  isPersonal: true,\r\n});\r\n","import { Button } from \"../../../../styled-components/global\";\r\nimport React, { useContext, memo } from \"react\";\r\nimport { UserContext } from \"../../../../context/UserContext\";\r\nimport { useFriendRequest } from \"./useFriendRequest\";\r\n\r\ntype Props = {\r\n  relationToMe: string;\r\n  setRelationToMe: any;\r\n};\r\n\r\nconst FriendRequestButton: React.FC<Props> = ({\r\n  relationToMe,\r\n  setRelationToMe,\r\n}) => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const {\r\n    handleSendFriendRequest,\r\n    handleCancelFriendRequest,\r\n    handleSendUnFriendRequest,\r\n    handleAcceptFriendRequest,\r\n  } = useFriendRequest(userData, setUserData, relationToMe, setRelationToMe);\r\n  // console.log(\"relationtome\", relationToMe);\r\n  return (\r\n    <div>\r\n      {console.log(\"relation to me\", relationToMe)}\r\n      {relationToMe === \"not_friend\" && (\r\n        <Button onClick={handleSendFriendRequest.bind(null)} width=\"fullwidth\">\r\n          Добавить в друзья\r\n        </Button>\r\n      )}\r\n      {relationToMe === \"friend\" && (\r\n        <Button\r\n          color=\"secondary\"\r\n          width=\"fullwidth\"\r\n          onClick={handleSendUnFriendRequest}\r\n        >\r\n          Убрать из друзей\r\n        </Button>\r\n      )}\r\n      {relationToMe === \"user_sent_request\" && (\r\n        <Button width=\"fullwidth\" onClick={handleAcceptFriendRequest}>\r\n          Принять заявку\r\n        </Button>\r\n      )}\r\n      {relationToMe === \"me_sent_request\" && (\r\n        <Button width=\"fullwidth\" onClick={handleCancelFriendRequest}>\r\n          Отменить заявку\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(FriendRequestButton);\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\n\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\n\r\nexport const useFriendRequest = (\r\n  userData: any,\r\n  setUserData: any,\r\n  relationToMe: string,\r\n  setRelationToMe: any\r\n) => {\r\n  const { request } = useHttp();\r\n\r\n  const { meUserData, setMeUserData, socket } = useContext(AuthContext);\r\n\r\n  const handleSendFriendRequest = async () => {\r\n    try {\r\n      const res = await request(\"/api/friend-request/create\", \"POST\", {\r\n        userId: userData._id,\r\n      });\r\n\r\n      setUserData({ ...userData, friendRequest: res.friendRequest });\r\n      setRelationToMe(\"me_sent_request\");\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `sent you a friend request`,\r\n        url: \"/friends?section=all_requests\",\r\n      };\r\n\r\n      const resNotif = await request(\"/api/notify\", \"POST\", {\r\n        ...notification,\r\n      });\r\n      socket.emit(\"createNotification\", resNotif.notification);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleSendUnFriendRequest = async () => {\r\n    try {\r\n      const res = await request(\r\n        `/api/friend-request/unfriend/${userData.friendRequest._id}`,\r\n        \"PUT\",\r\n        { userId: userData._id }\r\n      );\r\n\r\n      setRelationToMe(\"user_sent_request\");\r\n\r\n      setUserData((prevState: any) => {\r\n        const friends = prevState.friends.filter((friend: any) => {\r\n          return friend._id !== meUserData?._id;\r\n        });\r\n        return {\r\n          ...prevState,\r\n          friendRequest: res.friendRequest,\r\n          friends,\r\n        };\r\n      });\r\n      setMeUserData((prevState: any) => {\r\n        const meFriends = prevState?.friends?.filter((friend: any) => {\r\n          return friend._id !== userData?._id;\r\n        });\r\n        return {\r\n          ...prevState,\r\n          friendRequest: res.friendRequest,\r\n          friends: meFriends,\r\n        };\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleAcceptFriendRequest = async () => {\r\n    try {\r\n      const res = await request(\r\n        `/api/friend-request/accept/${userData.friendRequest._id}`,\r\n        \"PUT\",\r\n        { userId: userData._id }\r\n      );\r\n\r\n      setRelationToMe(\"friend\");\r\n\r\n      setUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friendRequest: res.friendRequest,\r\n          friends: [...prevState?.friends, meUserData],\r\n        };\r\n      });\r\n\r\n      setMeUserData((prevState: any) => {\r\n        return {\r\n          ...prevState,\r\n          friends: [...prevState?.friends, userData],\r\n        };\r\n      });\r\n\r\n      const notification = {\r\n        user: meUserData,\r\n        recipients: [userData],\r\n        text: `accepted your friend request`,\r\n        url: \"/friends\",\r\n      };\r\n\r\n      const resNotif = await request(\"/api/notify\", \"POST\", {\r\n        ...notification,\r\n      });\r\n      socket.emit(\"createNotification\", resNotif.notification);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleCancelFriendRequest = async () => {\r\n    try {\r\n      const res = await request(\r\n        `/api/friend-request/cancel/${userData.friendRequest._id}`,\r\n        \"DELETE\",\r\n        { userId: userData._id }\r\n      );\r\n\r\n      setRelationToMe(\"not_friends\");\r\n\r\n      setUserData({ ...userData, friendRequest: null });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleSendFriendRequest,\r\n    handleCancelFriendRequest,\r\n    handleSendUnFriendRequest,\r\n    handleAcceptFriendRequest,\r\n    relationToMe,\r\n  };\r\n};\r\n","import React, { useState, useRef, useContext } from \"react\";\r\nimport {\r\n  Button,\r\n  ContentBoxContainer,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../../../styled-components/global\";\r\nimport { ReactComponent as Cross } from \"../../../../assets/icons/cross-icon.svg\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../../../assets/icons/image-upload-icon.svg\";\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\nimport { IUserData } from \"../../../../interfaces/IUserData\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport styled from \"styled-components\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\nimport { useUploadImages } from \"../../../../hooks/useUploadImages\";\r\nimport Emojis from \"../../../Emojis\";\r\nimport useNotistack from \"../../../../hooks/useNotistack\";\r\n\r\nimport SendMessageModal from \"../../../SendMessageModal\";\r\nimport useModal from \"../../../../hooks/useModal\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst SendMessagePopup = styled.div`\r\n  min-width: 450px;\r\n  position: relative;\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  margin-left: auto;\r\n`;\r\n\r\nconst CrossIcon = styled(Cross)`\r\n  fill: var(--icon-color-secondary);\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ImageUpload = styled.div`\r\n  position: absolute;\r\n  top: 18px;\r\n  right: 55px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  margin-left: 15px;\r\n  margin-bottom: 13px;\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    width: 20px;\r\n    fill: white;\r\n  }\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\ntype Props = {\r\n  userData: IUserData | null;\r\n};\r\n\r\nconst SendMessageButton: React.FC<Props> = ({ userData }) => {\r\n  const { openModal, closeModal, modalIsOpen } = useModal();\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Button marginBottom=\"10px\" width=\"fullwidth\" onClick={openModal}>\r\n        Send a message\r\n      </Button>\r\n      <SendMessageModal\r\n        modalIsOpen={modalIsOpen}\r\n        openModal={openModal}\r\n        closeModal={closeModal}\r\n        userData={userData}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SendMessageButton;\r\n","import React, { useContext } from \"react\";\r\nimport { UserContext } from \"../../../../context/UserContext\";\r\nimport { useCheckRelationToMe } from \"../../../../hooks/useCheckRelationToMe\";\r\nimport FriendRequestButton from \"./FriendRequestButton\";\r\nimport SendMessageButton from \"./SendMessageButton\";\r\n\r\nconst OtherUserActions = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const { relationToMe, setRelationToMe } = useCheckRelationToMe(userData);\r\n\r\n  return (\r\n    <div>\r\n      <SendMessageButton userData={userData} />\r\n      <FriendRequestButton\r\n        relationToMe={relationToMe}\r\n        setRelationToMe={setRelationToMe}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OtherUserActions;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\n\r\nexport const useCheckRelationToMe = (otherUserData: IUserData | null) => {\r\n  const [relationToMe, setRelationToMe] = useState<null | any>(null);\r\n\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (!otherUserData) {\r\n      return;\r\n    }\r\n    const checkRelationToUser = (request: any): string => {\r\n      console.log(\"check relation\", relationToMe);\r\n      if (!request) {\r\n        return \"not_friend\";\r\n      }\r\n      const { recipient, requester, status } = request;\r\n      if (\r\n        (recipient === meUserData?._id || requester === meUserData?._id) &&\r\n        status === \"accepted\"\r\n      ) {\r\n        return \"friend\";\r\n      }\r\n      if (recipient === meUserData?._id && status === \"pending\") {\r\n        return \"user_sent_request\";\r\n      }\r\n      if (requester === meUserData?._id && status === \"pending\") {\r\n        return \"me_sent_request\";\r\n      }\r\n      return \"not_friend\";\r\n    };\r\n\r\n    let status = checkRelationToUser(otherUserData.friendRequest);\r\n\r\n    setRelationToMe(status);\r\n  }, [otherUserData]);\r\n\r\n  return { relationToMe, setRelationToMe };\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { CustomButton } from \"../useStyles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\nimport { Button } from \"../../../../styled-components/global\";\r\n\r\nconst EditProfileButton = () => {\r\n  const { meUserData } = useContext(AuthContext);\r\n  return (\r\n    <Link to={`/profile/edit/${meUserData?._id}`}>\r\n      <Button color=\"secondary\" width=\"fullwidth\">\r\n        Редактировать\r\n      </Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default EditProfileButton;\r\n","import React from \"react\";\r\nimport EditProfileButton from \"./EditProfileButton\";\r\n\r\nconst PersonalActions = () => {\r\n  return (\r\n    <div>\r\n      <EditProfileButton />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalActions;\r\n","import React, { useContext, useRef, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useOnClickOutside from \"../../hooks/useOnClickOutside\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport {\r\n  Avatar,\r\n  ContentBoxContainer,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../styled-components/global\";\r\nimport { Button } from \"../../styled-components/global\";\r\nimport { ReactComponent as EmojiIcon } from \"../../assets/icons/emoji-icon.svg\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../assets/icons/image-upload-icon.svg\";\r\nimport { ReactComponent as CrossIcon } from \"../../assets/icons/cross-icon.svg\";\r\nimport Emojis from \"../Emojis\";\r\nimport { useUploadImages } from \"../../hooks/useUploadImages\";\r\nimport useNotistack from \"../../hooks/useNotistack\";\r\nimport Spinner from \"../Spinner\";\r\n\r\nconst PostBoxWrapper = styled.div`\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    /* justify-content: flex-end; */\r\n    /* align-items: flex-end; */\r\n  }\r\n`;\r\n\r\n// const InputInitial = styled.input`\r\n//   border: none;\r\n// `;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n\r\n      padding-top: 10px;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  /* margin-left: 15px;\r\n  margin-bottom: 13px; */\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    fill: white;\r\n    width: 20px;\r\n  }\r\n`;\r\n\r\nconst FormMainWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  svg {\r\n    ${svgPrimaryStyle}/* position: absolute; */\r\n    /* top: 0;\r\n    right: 8px; */\r\n  }\r\n`;\r\n\r\nconst FormFooter = styled.div`\r\n  /* padding: 15px 0; */\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  userData: IUserData | null;\r\n  setUserData: any;\r\n  isPersonal: boolean;\r\n  meUserData: IUserData | null;\r\n  setMeUserData: any;\r\n  handleClickOutside?: () => void;\r\n};\r\n\r\nconst SubmitPostBox: React.FC<Props> = ({\r\n  userData,\r\n  setUserData,\r\n  isPersonal,\r\n  meUserData,\r\n  setMeUserData,\r\n}) => {\r\n  const [content, setContent] = React.useState<string>(\"\");\r\n  // const [images, setImages] = React.useState<any[]>([]);\r\n  const [isFocus, setIsFocus] = React.useState<boolean>(false);\r\n\r\n  const {\r\n    images,\r\n    setImages,\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n  const { socket } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n  const formWrapperRef = useRef(null);\r\n  const formRef = useRef<HTMLFormElement>(null);\r\n  useOnClickOutside(formRef, () => {\r\n    setIsFocus(false);\r\n    // console.log(\"outside\");\r\n  });\r\n\r\n  const ref = useRef<null | HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    setContent(\"\");\r\n  }, [userData?._id]);\r\n\r\n  // const handleChange = (\r\n  //   e: React.ChangeEventHandler<HTMLTextAreaElement>\r\n  // ): void => {\r\n  //   // setContent(e.target.value);\r\n  //   console.log(e);\r\n  // };\r\n\r\n  const handleChange = (e: any): void => {\r\n    setContent(e.target.value);\r\n    console.log(e);\r\n  };\r\n\r\n  const handleSubmit = async (\r\n    e: React.FormEvent<HTMLFormElement>\r\n  ): Promise<void> => {\r\n    e.preventDefault();\r\n    if ((!content && images.length === 0) || imageLoading) {\r\n      return;\r\n    }\r\n    try {\r\n      const res = await request(\"/api/post\", \"POST\", {\r\n        content,\r\n        images,\r\n        userId: userData?._id,\r\n      });\r\n\r\n      setUserData({\r\n        ...userData,\r\n        wall: [res.post, ...userData!.wall],\r\n      });\r\n\r\n      if (!isPersonal) {\r\n        const notification = await request(`/api/notify`, \"POST\", {\r\n          text: \"posted something on your page\",\r\n          url: `/profile/${userData?._id}`,\r\n          recipients: [userData?._id],\r\n        });\r\n        socket.emit(\"createNotification\", notification.notification);\r\n      }\r\n\r\n      setContent(\"\");\r\n      setImages([]);\r\n      setIsFocus(false);\r\n      console.log(\"RES\", res.message);\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", message: e.message });\r\n    }\r\n\r\n    // console.log(\"submit\");\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setContent(content + emoji);\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      formRef?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PostBoxWrapper ref={formWrapperRef}>\r\n      <form ref={formRef} style={{ width: \"100%\" }} onSubmit={handleSubmit}>\r\n        <ContentBoxContainer>\r\n          <FormMainWrapper>\r\n            <Avatar\r\n              marginRight=\"10px\"\r\n              size=\"medium-small\"\r\n              src={meUserData?.avatar}\r\n            />\r\n            <TextArea\r\n              placeholder=\"What's on your mind?\"\r\n              style={{ paddingRight: \"40px\", resize: \"none\" }}\r\n              $focuse={isFocus || !!content || images.length > 0}\r\n              onChange={handleChange}\r\n              value={content}\r\n              minRows={isFocus || !!content || images.length > 0 ? 4 : 1}\r\n              onClick={() => {\r\n                if (!isFocus) {\r\n                  setIsFocus(true);\r\n                }\r\n              }}\r\n              onKeyPress={handleKeyPress}\r\n            />\r\n            {/* {(isFocus || content || images.length > 0) && <EmojiIcon />} */}\r\n            {(isFocus || content || images.length > 0) && (\r\n              <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n            )}\r\n            {!isFocus && !(content || images.length > 0) && (\r\n              <label>\r\n                <ImageUploadIcon />\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  onChange={handleUploadImages}\r\n                  ref={ref}\r\n                  style={{ display: \"none\" }}\r\n                />\r\n              </label>\r\n            )}\r\n          </FormMainWrapper>\r\n          <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n            <>\r\n              {imageLoading && (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              )}\r\n              {images.length > 0 && (\r\n                <PreviewImagesWrapper>\r\n                  {images.map((image, idx) => {\r\n                    return (\r\n                      <PreviewImageWrapper key={image.public_id}>\r\n                        <DeleteImageIcon\r\n                          onClick={handleRemoveImage.bind(null, image)}\r\n                        >\r\n                          <CrossIcon />\r\n                        </DeleteImageIcon>\r\n                        <PreviewImage src={image.url} />\r\n                      </PreviewImageWrapper>\r\n                    );\r\n                  })}\r\n                </PreviewImagesWrapper>\r\n              )}\r\n            </>\r\n          </ImagesPreviewWrapper>\r\n        </ContentBoxContainer>\r\n\r\n        {(isFocus || content || images.length > 0) && (\r\n          <>\r\n            <Separator />\r\n            <ContentBoxContainer>\r\n              <FormFooter>\r\n                {/* <ImageUpload>\r\n                  \r\n                </ImageUpload> */}\r\n                <label>\r\n                  <ImageUploadIcon />\r\n\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    onChange={handleUploadImages}\r\n                    ref={ref}\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                </label>\r\n\r\n                <Button\r\n                  disabled={!content && images.length === 0}\r\n                  type=\"submit\"\r\n                  size=\"small\"\r\n                >\r\n                  Publish\r\n                </Button>\r\n              </FormFooter>\r\n            </ContentBoxContainer>\r\n          </>\r\n        )}\r\n      </form>\r\n    </PostBoxWrapper>\r\n  );\r\n};\r\n\r\nexport default SubmitPostBox;\r\n\r\n// <label>\r\n//   Choose file\r\n//   <input\r\n//     type=\"file\"\r\n//     name=\"file\"\r\n//     accept=\"image/*\"\r\n//     multiple\r\n//     onChange={handleUploadImages}\r\n//     ref={ref}\r\n//   />\r\n// </label>\r\n// <CustomButton\r\n//   variant=\"contained\"\r\n//   color=\"primary\"\r\n//   style={{ width: \"30%\" }}\r\n//   type=\"submit\"\r\n//   disabled={!content && images.length === 0}\r\n// >\r\n//   Опубликовать\r\n// </CustomButton>\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLikeIconLiked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 20,\n    viewBox: \"0 0 23 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.8517 1.45711C18.4884 -0.519454 15.0079 -0.218673 12.8165 2.05867L12.0001 2.91805L11.1407 2.05867C9.37901 0.253984 5.85558 -0.863204 3.10558 1.45711C0.398544 3.77742 0.269638 7.90242 2.67589 10.3946L11.0118 18.9884C11.2696 19.2462 11.6134 19.3751 11.9571 19.3751C12.3439 19.3751 12.6876 19.2462 12.9454 18.9884L21.2814 10.3946C23.6876 7.90242 23.5587 3.77742 20.8517 1.45711Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikeIconLiked);\nexport default __webpack_public_path__ + \"static/media/like-icon_liked.9fd4eaf3.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCommentIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 20,\n    viewBox: \"0 0 23 20\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.9999 1.5C17.2851 1.5 21.6249 4.89453 21.6249 9.0625C21.6249 13.2305 17.2851 16.625 11.9999 16.625C10.7538 16.625 9.55069 16.4531 8.39054 16.1094L7.74601 15.8945L7.18741 16.2812C6.19913 16.9688 4.69523 17.7852 2.8046 18C3.32023 17.3555 4.05069 16.2383 4.52335 14.9922L4.82413 14.1758L4.26554 13.5742C3.01944 12.2422 2.37491 10.6953 2.37491 9.0625C2.37491 4.89453 6.67179 1.5 11.9999 1.5ZM11.9999 0.125C5.89835 0.125 0.999913 4.16406 0.999913 9.0625C0.999913 11.125 1.81632 13.0156 3.23429 14.5195C2.63273 16.1953 1.30069 17.6562 1.25773 17.6562C0.956945 17.957 0.913976 18.3867 1.04288 18.7734C1.21476 19.1602 1.60148 19.375 1.98819 19.375C4.65226 19.375 6.71476 18.3008 8.00382 17.3984C9.24991 17.7852 10.5819 18 11.9999 18C18.0585 18 22.9999 14.0039 22.9999 9.0625C22.9999 4.16406 18.0585 0.125 11.9999 0.125Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCommentIcon);\nexport default __webpack_public_path__ + \"static/media/comment-icon.4e710290.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgImageRemoveIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.27734 4.75L9.09375 1.96094L9.66797 1.38672C9.75 1.30469 9.75 1.16797 9.66797 1.05859L9.06641 0.457031C8.95703 0.375 8.82031 0.375 8.73828 0.457031L5.375 3.84766L1.98438 0.457031C1.90234 0.375 1.76562 0.375 1.65625 0.457031L1.05469 1.05859C0.972656 1.16797 0.972656 1.30469 1.05469 1.38672L4.44531 4.75L1.05469 8.14062C0.972656 8.22266 0.972656 8.35938 1.05469 8.46875L1.65625 9.07031C1.76562 9.15234 1.90234 9.15234 1.98438 9.07031L5.375 5.67969L8.16406 8.49609L8.73828 9.07031C8.82031 9.15234 8.95703 9.15234 9.06641 9.07031L9.66797 8.46875C9.75 8.35938 9.75 8.22266 9.66797 8.14062L6.27734 4.75Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgImageRemoveIcon);\nexport default __webpack_public_path__ + \"static/media/image-remove-icon.840ad556.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLikeIconFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 12,\n    viewBox: \"0 0 14 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.6408 0.819587C11.1384 -0.438293 8.92579 -0.197422 7.53267 1.19427L7.01366 1.72954L6.46733 1.19427C5.10152 -0.197422 2.8616 -0.438293 1.3592 0.819587C-0.361717 2.26481 -0.443665 4.8341 1.08604 6.38637L6.38539 11.7391C6.71318 12.087 7.28682 12.087 7.61461 11.7391L12.914 6.38637C14.4437 4.8341 14.3617 2.26481 12.6408 0.819587Z\",\n    fill: \"#DBE1EF\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikeIconFilled);\nexport default __webpack_public_path__ + \"static/media/like-icon_filled.22a7de80.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useContext, useRef, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport useNotistack from \"../../../hooks/useNotistack\";\r\nimport { useUploadImages } from \"../../../hooks/useUploadImages\";\r\nimport {\r\n  Button,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../../styled-components/global\";\r\nimport Emojis from \"../../Emojis\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../../assets/icons/image-upload-icon.svg\";\r\nimport { ReactComponent as ImageRemoveIcon } from \"../../../assets/icons/image-remove-icon.svg\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { UserContext } from \"../../../context/UserContext\";\r\nimport Spinner from \"../../Spinner\";\r\n\r\nconst PostEditContent = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n\r\n      padding-top: 10px;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  /* margin-left: 15px;\r\n  margin-bottom: 13px; */\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst ImageRemoveIconWrapper = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    fill: white;\r\n    width: 10px;\r\n  }\r\n`;\r\n\r\nconst PostEditFooter = styled.div`\r\n  display: flex;\r\n  margin-top: 10px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst PostImage = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  display: flex;\r\n  margin-left: auto;\r\n`;\r\n\r\ntype Props = {\r\n  post: any;\r\n  isPersonal: boolean;\r\n  handleEditMode: (boolean: boolean) => any;\r\n};\r\n\r\nconst PostEdit: React.FC<Props> = ({ post, isPersonal, handleEditMode }) => {\r\n  const [editText, setEditText] = useState<string>(\"\");\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  const ref = useRef<null | HTMLInputElement>(null);\r\n  const {\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    images,\r\n    setImages,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n\r\n  useEffect(() => {\r\n    setEditText(post.content);\r\n    setImages(post.images);\r\n  }, [post]);\r\n\r\n  const handleEditChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setEditText(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    // console.log(\"emoji\", emoji);\r\n    setEditText(editText + emoji);\r\n  };\r\n\r\n  const handleSubmitUpdatedPost = async (\r\n    e: React.FormEvent<HTMLFormElement>\r\n  ) => {\r\n    e.preventDefault();\r\n    if (imageLoading) {\r\n      return;\r\n    }\r\n    try {\r\n      const updatedPost = {\r\n        content: editText,\r\n        images,\r\n      };\r\n      const res = await request(`/api/post/${post._id}`, \"PUT\", updatedPost);\r\n\r\n      const postIdx = userData!.wall.findIndex((el) => el._id === post._id);\r\n      const pst = userData!.wall[postIdx];\r\n      pst[\"content\"] = editText;\r\n      pst[\"images\"] = images;\r\n      const newWallArr = [\r\n        ...userData!.wall.slice(0, postIdx),\r\n        pst,\r\n        ...userData!.wall.slice(postIdx + 1),\r\n      ];\r\n      setUserData({ ...userData, wall: newWallArr });\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n      handleEditMode(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      handleEditMode(false);\r\n    }\r\n  };\r\n\r\n  // console.log(\"new post\", post);\r\n\r\n  return (\r\n    <PostEditContent style={{ marginTop: \"15px\" }}>\r\n      <form onSubmit={handleSubmitUpdatedPost}>\r\n        <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n        <TextArea\r\n          $focuse={true}\r\n          value={editText}\r\n          onChange={handleEditChange}\r\n          style={{ resize: \"none\" }}\r\n          minRows={4}\r\n        />\r\n        {images.length > 0 && (\r\n          <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n            <>\r\n              {imageLoading && (\r\n                <ImageLoading>\r\n                  <Spinner />\r\n                </ImageLoading>\r\n              )}\r\n              {images.map((image: any) => {\r\n                return (\r\n                  <PreviewImageWrapper key={image.public_id}>\r\n                    <ImageRemoveIconWrapper\r\n                      onClick={handleRemoveImage.bind(null, image)}\r\n                    >\r\n                      <ImageRemoveIcon />\r\n                    </ImageRemoveIconWrapper>\r\n\r\n                    <PostImage src={image.url} alt={\"post image\"} />\r\n                  </PreviewImageWrapper>\r\n                );\r\n              })}\r\n            </>\r\n          </ImagesPreviewWrapper>\r\n        )}\r\n\r\n        <PostEditFooter>\r\n          <label>\r\n            <ImageUploadIcon />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              accept=\"image/*\"\r\n              multiple\r\n              onChange={handleUploadImages}\r\n              ref={ref}\r\n              style={{ display: \"none\" }}\r\n            />\r\n          </label>\r\n          <ButtonsWrapper>\r\n            <Button\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              marginRight=\"10px\"\r\n              onClick={() => handleEditMode(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button size=\"small\">Publish</Button>\r\n          </ButtonsWrapper>\r\n        </PostEditFooter>\r\n      </form>\r\n    </PostEditContent>\r\n  );\r\n};\r\n\r\nexport default PostEdit;\r\n","import React, { useState, useContext, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../../styled-components/global\";\r\nimport { ReactComponent as PublishCommentIcon } from \"../../../assets/icons/publish-comment-icon.svg\";\r\nimport Emojis from \"../../Emojis\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\n\r\nconst PostCommentWrapper = styled.div`\r\n  form {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    padding: 10px 15px;\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 37px;\r\n  height: 37px;\r\n  margin-right: 15px;\r\n  border-radius: 100px;\r\n`;\r\n\r\nconst ButtonWrapper = styled.button`\r\n  margin-left: 10px;\r\n  padding-top: 5px;\r\n  background: none;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n    fill: var(--color-dark-secondary);\r\n    :hover {\r\n      fill: var(--text-color-secondary);\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  post: any;\r\n  setComments: React.Dispatch<React.SetStateAction<any[]>>;\r\n};\r\n\r\nconst PostSubmitComment: React.FC<Props> = ({ post, setComments }) => {\r\n  const [text, setText] = useState<string>(\"\");\r\n  const ref = useRef<HTMLFormElement>(null);\r\n\r\n  const { meUserData, socket } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const handleChange = (e: any): void => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setText(text + emoji);\r\n  };\r\n\r\n  const handleCreateComment = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const res = await request(\"/api/comment\", \"POST\", {\r\n      content: text,\r\n      postId: post._id,\r\n    });\r\n\r\n    // console.log(\"comment res\", res);\r\n    setText(\"\");\r\n    setComments((prevState) => {\r\n      return [...prevState, res.comment];\r\n    });\r\n\r\n    if (post.user._id !== meUserData?._id) {\r\n      console.log(\"not my post\");\r\n      const notification = await request(`/api/notify`, \"POST\", {\r\n        text: \"left a comment under your post\",\r\n        url: `/profile/${post.user._id}`,\r\n        recipients: [post.user._id],\r\n      });\r\n      socket.emit(\"createNotification\", notification.notification);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      ref?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n  return (\r\n    <PostCommentWrapper>\r\n      <form ref={ref} onSubmit={handleCreateComment}>\r\n        <Avatar\r\n          marginRight=\"10px\"\r\n          size=\"medium-small\"\r\n          src={meUserData?.avatar}\r\n        />\r\n        <TextArea\r\n          $focuse\r\n          placeholder={\"Write something...\"}\r\n          style={{ resize: \"none\" }}\r\n          onChange={handleChange}\r\n          value={text}\r\n          onKeyDown={handleKeyPress}\r\n        />\r\n        <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n        {/* <ButtonWrapper type=\"submit\" disabled={!text}>\r\n          <PublishCommentIcon />\r\n        </ButtonWrapper> */}\r\n      </form>\r\n    </PostCommentWrapper>\r\n  );\r\n};\r\n\r\nexport default PostSubmitComment;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\nimport useNotistack from \"./useNotistack\";\r\n\r\nconst useLikeComment = (comment: any, meUserData: IUserData | null) => {\r\n  const [likes, setLikes] = useState<any>(comment.likes);\r\n  const [isLike, setIsLike] = useState<boolean>(false);\r\n  const [loadLike, setLoadLike] = useState<boolean>(false);\r\n  const { request } = useHttp();\r\n  const { socket } = useContext(AuthContext);\r\n  const { handlePageNotification } = useNotistack();\r\n  // console.log(\"commentttttt\", likes);\r\n\r\n  useEffect(() => {\r\n    if (likes.find((like: IUserData) => like._id === meUserData!._id)) {\r\n      setIsLike(true);\r\n    }\r\n    // console.log(\"likes\", likes);\r\n  }, [likes, meUserData!._id]);\r\n\r\n  const handleLikeComment = async () => {\r\n    if (loadLike) return;\r\n    // if (likes.find((like: IUserData) => like._id !== meUserData!._id)) {\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    setLikes([...likes, meUserData]);\r\n    // console.log(\"postid\", post._id);\r\n    try {\r\n      await request(`/api/comment/like/${comment._id}`, \"PUT\");\r\n\r\n      if (comment.user._id !== meUserData?._id) {\r\n        console.log(\"i can like this comment\", comment);\r\n        const notification = await request(`/api/notify`, \"POST\", {\r\n          text: \"liked your comment\",\r\n          url: `/profile/${comment.user._id}`,\r\n          recipients: [comment.user._id],\r\n        });\r\n        socket.emit(\"createNotification\", notification.notification);\r\n      } else {\r\n        console.log(\"my comment\");\r\n      }\r\n\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n    // }\r\n  };\r\n  const handleUnLikeComment = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    const newArr = likes.filter((el: any) => el._id !== meUserData?._id);\r\n    // console.log(\"newArr\", newArr);\r\n    setLikes(newArr);\r\n    try {\r\n      await request(`/api/comment/unlike/${comment._id}`, \"PUT\");\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    likes,\r\n    isLike,\r\n    setIsLike,\r\n    loadLike,\r\n    setLoadLike,\r\n    handleLikeComment,\r\n    handleUnLikeComment,\r\n  };\r\n};\r\n\r\nexport default useLikeComment;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowIconLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 6,\n    height: 11,\n    viewBox: \"0 0 6 11\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.17627 9.9668L5.32666 9.81641C5.43408 9.70898 5.43408 9.55859 5.32666 9.45117L1.13721 5.26172L5.32666 1.05078C5.43408 0.943359 5.43408 0.792969 5.32666 0.685547L5.17627 0.535156C5.06885 0.427734 4.91846 0.427734 4.81104 0.535156L0.277832 5.06836C0.17041 5.17578 0.17041 5.32617 0.277832 5.43359L4.81103 9.9668C4.91846 10.0742 5.06885 10.0742 5.17627 9.9668Z\",\n    fill: \"#414141\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowIconLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-icon_left.9c93e24c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  CustomDate,\r\n  CustomLink,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n  svgSecondaryStyle,\r\n} from \"../../../../styled-components/global\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DateTime } from \"luxon\";\r\nimport { ReactComponent as CogwheelIcon } from \"../../../../assets/icons/cogwheel-icon.svg\";\r\nimport { useTippyVisibility } from \"../../../../hooks/useTippyVisibility\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport { useHttp } from \"../../../../hooks/useHttp\";\r\nimport useNotistack from \"../../../../hooks/useNotistack\";\r\nimport { UserContext } from \"../../../../context/UserContext\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\nimport useLikeComment from \"../../../../hooks/useLikeComment\";\r\nimport { ReactComponent as LikeIconDisabledFilled } from \"../../../../assets/icons/like-icon_filled.svg\";\r\nimport { ReactComponent as LikeIconLiked } from \"../../../../assets/icons/like-icon_liked.svg\";\r\n\r\nconst CommentWrapper = styled.div`\r\n  padding: 15px 0;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  position: relative;\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 100px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst CommentText = styled.div``;\r\n\r\nconst CommentInfo = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst CommentDate = styled.div``;\r\n\r\nconst CommentOptions = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 0;\r\n  svg {\r\n    ${svgSecondaryStyle}\r\n  }\r\n`;\r\n\r\nconst EditPopup = styled.div``;\r\nconst EditPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst LikeIconWrapper = styled.div<{ liked: boolean }>`\r\n  position: absolute;\r\n  bottom: 15px;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  svg {\r\n    ${svgSecondaryStyle}\r\n    margin-right: 3px;\r\n    position: relative;\r\n    /* top: px; */\r\n\r\n    ${(props) =>\r\n      props.liked &&\r\n      `\r\n      fill: var(--color-red);\r\n      margin-right: 0;\r\n      :hover {\r\n        fill: var(--color-red);\r\n      }\r\n    `}\r\n  }\r\n`;\r\n\r\nconst LikeCount = styled.div`\r\n  margin-left: 3px;\r\n  /* color: var(--text-color-secondary); */\r\n`;\r\n\r\ntype Props = {\r\n  comment: any;\r\n  setComments: React.Dispatch<React.SetStateAction<any>>;\r\n  post: any;\r\n};\r\n\r\nconst Comment: React.FC<Props> = ({ comment, setComments, post }) => {\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const [canDelete, setCanDelete] = useState<boolean>(true);\r\n  // const [likes, setLikes] = useState<any>(comment.likes);\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n  const { isPersonal } = useContext(UserContext);\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    //can delete\r\n    if (isPersonal) {\r\n      setCanDelete(true);\r\n    } else {\r\n      if (\r\n        comment.user._id === meUserData?._id ||\r\n        post.user._id === meUserData?._id\r\n      ) {\r\n        setCanDelete(true);\r\n      } else {\r\n        setCanDelete(false);\r\n      }\r\n    }\r\n  }, [comment.user._id, meUserData!._id]);\r\n\r\n  const { handleLikeComment, handleUnLikeComment, isLike, likes } =\r\n    useLikeComment(comment, meUserData);\r\n\r\n  const handleDeleteComment = async (postId: string) => {\r\n    try {\r\n      const res = await request(`/api/comment/${comment._id}`, \"DELETE\", {\r\n        postId,\r\n      });\r\n      setComments((prevState: any) => {\r\n        const newArr = prevState.filter((el: any) => el._id !== comment._id);\r\n        return newArr;\r\n      });\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"success\", text: e.message });\r\n    }\r\n  };\r\n\r\n  const editPopup = (\r\n    <ContentBox onClick={hide}>\r\n      <EditPopup>\r\n        {canDelete && (\r\n          <EditPopupSelect onClick={handleDeleteComment.bind(null, post._id)}>\r\n            Удалить\r\n          </EditPopupSelect>\r\n        )}\r\n      </EditPopup>\r\n    </ContentBox>\r\n  );\r\n  const date = DateTime.fromISO(comment.createdAt).toLocaleString({\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  });\r\n  return (\r\n    <>\r\n      <CommentWrapper>\r\n        <Avatar\r\n          marginRight=\"10px\"\r\n          size=\"medium-small\"\r\n          src={comment.user.avatar}\r\n        />\r\n        <CommentContent>\r\n          <CustomLink\r\n            style={{ marginBottom: \"5px\", display: \"block\" }}\r\n            to={`/profile/${comment.user._id}`}\r\n          >\r\n            {comment.user.firstName} {comment.user.lastName}\r\n          </CustomLink>\r\n          <CommentText>{comment.content}</CommentText>\r\n          <CommentInfo>\r\n            <CustomDate style={{ marginTop: \"5px\" }}>{date}</CustomDate>\r\n\r\n            {/* <CommentLike></CommentLike> */}\r\n          </CommentInfo>\r\n        </CommentContent>\r\n        {canDelete && (\r\n          <Tippy\r\n            content={editPopup}\r\n            interactive={true}\r\n            placement={\"bottom-end\"}\r\n            trigger=\"click\"\r\n            duration={0}\r\n            offset={[0, 5]}\r\n            visible={visible}\r\n            onClickOutside={hide}\r\n            // hideOnClick={\"toggle\"}\r\n          >\r\n            <CommentOptions onClick={visible ? hide : show}>\r\n              <CogwheelIcon />\r\n            </CommentOptions>\r\n          </Tippy>\r\n        )}\r\n        {isLike ? (\r\n          <LikeIconWrapper onClick={handleUnLikeComment} liked={true}>\r\n            <LikeIconLiked />\r\n            {likes.length > 0 && <LikeCount>{likes.length}</LikeCount>}\r\n          </LikeIconWrapper>\r\n        ) : (\r\n          <LikeIconWrapper onClick={handleLikeComment} liked={false}>\r\n            <LikeIconDisabledFilled />\r\n            {likes.length > 0 && likes.length}\r\n          </LikeIconWrapper>\r\n        )}\r\n      </CommentWrapper>\r\n      <Separator className=\"separator\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Comment from \"./Comment\";\r\n\r\nconst PostCommentsWrapper = styled.div`\r\n  padding: 0 15px;\r\n  .separator {\r\n    :last-child {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\n// const CommentText = styled.div``;\r\n\r\ntype Props = {\r\n  comments: any;\r\n  setComments: React.Dispatch<React.SetStateAction<boolean>>;\r\n  post: any;\r\n};\r\n\r\nconst PostComments: React.FC<Props> = ({ comments, setComments, post }) => {\r\n  // console.log(\"comments\", comments);\r\n\r\n  return (\r\n    <PostCommentsWrapper>\r\n      {comments.map((comment: any) => {\r\n        return (\r\n          <Comment\r\n            comment={comment}\r\n            key={comment._id}\r\n            setComments={setComments}\r\n            post={post}\r\n          />\r\n        );\r\n      })}\r\n    </PostCommentsWrapper>\r\n  );\r\n};\r\n\r\nexport default PostComments;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\nimport useNotistack from \"./useNotistack\";\r\n\r\nconst useLikePost = (meUserData: IUserData | null, post: any) => {\r\n  const [likes, setLikes] = useState<any>(post.likes);\r\n  const [isLike, setIsLike] = useState<boolean>(false);\r\n  const [loadLike, setLoadLike] = useState<boolean>(false);\r\n  const { socket } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  // console.log(\"commentttttt\", likes);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"likesssss\", likes);\r\n    if (likes.find((like: IUserData) => like._id === meUserData!._id)) {\r\n      setIsLike(true);\r\n    }\r\n    // console.log(\"likes\", likes);\r\n  }, [likes, meUserData!._id]);\r\n\r\n  const handleLikePost = async () => {\r\n    if (loadLike) return;\r\n    // if (likes.find((like: IUserData) => like._id !== meUserData!._id)) {\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    setLikes([...likes, meUserData]);\r\n    // console.log(\"postid\", post._id);\r\n    try {\r\n      await request(`/api/post/like/${post._id}`, \"PUT\");\r\n\r\n      //notification recipients\r\n\r\n      // let recipientsArr;\r\n      // if (post.user._id === )\r\n      // console.log(\"post.user._id\", post.user._id);\r\n      if (post.user._id !== meUserData?._id) {\r\n        console.log(\"not my post\");\r\n        const notification = await request(`/api/notify`, \"POST\", {\r\n          text: \"liked your post\",\r\n          url: `/profile/${post.user._id}`,\r\n          recipients: [post.user._id],\r\n        });\r\n        socket.emit(\"createNotification\", notification.notification);\r\n      }\r\n\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n    // }\r\n  };\r\n  const handleUnLikePost = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    const newArr = likes.filter((el: any) => el._id !== meUserData?._id);\r\n    // console.log(\"newArr\", newArr);\r\n    setLikes(newArr);\r\n    try {\r\n      await request(`/api/post/unlike/${post._id}`, \"PUT\");\r\n\r\n      setLoadLike(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      setLoadLike(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    likes,\r\n    isLike,\r\n    setIsLike,\r\n    loadLike,\r\n    setLoadLike,\r\n    handleLikePost,\r\n    handleUnLikePost,\r\n  };\r\n};\r\n\r\nexport default useLikePost;\r\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IPost, IUserData } from \"../../../interfaces/IUserData\";\r\nimport { DateTime } from \"luxon\";\r\nimport { useHttp } from \"../../../hooks/useHttp\";\r\nimport { UserContext } from \"../../../context/UserContext\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport useNotistack from \"../../../hooks/useNotistack\";\r\nimport Tippy from \"@tippyjs/react\";\r\n\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  CustomLink,\r\n  Separator,\r\n  svgPrimaryStyle,\r\n} from \"../../../styled-components/global\";\r\nimport { ReactComponent as CogwheelIcon } from \"../../../assets/icons/cogwheel-icon.svg\";\r\nimport { ReactComponent as LikeIconDisabled } from \"../../../assets/icons/like-icon_disabled.svg\";\r\nimport { ReactComponent as LikeIconLiked } from \"../../../assets/icons/like-icon_liked.svg\";\r\nimport { ReactComponent as CommentIcon } from \"../../../assets/icons/comment-icon.svg\";\r\n\r\nimport PostEdit from \"./PostEdit\";\r\nimport { useTippyVisibility } from \"../../../hooks/useTippyVisibility\";\r\nimport PostSubmitComment from \"./PostSubmitComment\";\r\nimport PostComments from \"./comments/Comments\";\r\nimport useLikePost from \"../../../hooks/useLikePost\";\r\n\r\nconst IconsWrapper = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n`;\r\n\r\nconst PostImage = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 45px;\r\n  height: 45px;\r\n  border-radius: 100px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst UserInfo = styled.div``;\r\n\r\nconst UserName = styled.div`\r\n  margin-bottom: 3px;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst PostOptions = styled.div`\r\n  margin-left: auto;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst EditPostPopup = styled.div``;\r\n\r\nconst EditPostPopupSelect = styled.div`\r\n  display: flex;\r\n  padding: 15px 15px;\r\n  align-items: center;\r\n  border-top: var(--border-primary);\r\n\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n  :first-child {\r\n    border-top: none;\r\n  }\r\n`;\r\n\r\nconst PostFooter = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst PostContent = styled.div``;\r\n\r\nconst PostText = styled.div`\r\n  padding-top: 20px;\r\n`;\r\n\r\nconst PostImagesWrapper = styled.div`\r\n  padding-top: 15px;\r\n`;\r\n\r\nconst LikeIconWrapper = styled.div<{ liked: boolean }>`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 10px;\r\n\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n\r\n    ${(props) =>\r\n      props.liked &&\r\n      `\r\n      fill: var(--color-red);\r\n      :hover {\r\n        fill: var(--color-red);\r\n      }\r\n    `}\r\n  }\r\n`;\r\n\r\nconst CommentIconWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst LikeCount = styled.div`\r\n  margin-left: 5px;\r\n  /* color: var(--text-color-secondary); */\r\n  font-size: 16px;\r\n  top: 2px;\r\n`;\r\n\r\ntype Props = {\r\n  post: any;\r\n  setEditMode: React.Dispatch<React.SetStateAction<boolean>>;\r\n  editMode: boolean;\r\n};\r\n\r\nconst Post: React.FC<Props> = ({ post, setEditMode, editMode }) => {\r\n  const [comments, setComments] = useState<any>([...post.comments]);\r\n\r\n  //updating\r\n\r\n  const [isEdit, setIsEdit] = useState<boolean>(false);\r\n  const [canEdit, setCanEdit] = useState<boolean>(false);\r\n  const [canDelete, setCanDelete] = useState<boolean>(false);\r\n\r\n  const { visible, show, hide } = useTippyVisibility();\r\n  const { handlePageNotification } = useNotistack();\r\n\r\n  // const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const date = DateTime.fromISO(post.createdAt).toLocaleString({\r\n    day: \"numeric\",\r\n    month: \"long\",\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n  });\r\n\r\n  // console.log(\"POST\", post);\r\n\r\n  const { request } = useHttp();\r\n  const { userData, setUserData, isPersonal } = useContext(UserContext);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  // const { handleNotification } = useNotistack();\r\n\r\n  const { isLike, handleUnLikePost, handleLikePost, likes } = useLikePost(\r\n    meUserData,\r\n    post\r\n  );\r\n\r\n  useEffect(() => {\r\n    //can delete\r\n    if (isPersonal) {\r\n      setCanDelete(true);\r\n      // setCanEdit(true);\r\n      // console.log(\"meUserData wall\", meUserData);\r\n      const thisPost = userData!.wall!.find((el: IPost) => el._id === post._id);\r\n      if (thisPost.user._id === meUserData?._id) {\r\n        setCanEdit(true);\r\n      } else {\r\n        console.log(\"you cannot edit this post\");\r\n        setCanEdit(false);\r\n      }\r\n    } else {\r\n      if (\r\n        userData!.wall!.find(\r\n          (el: IPost) => el.user._id === meUserData!._id && el._id === post._id\r\n        )\r\n      ) {\r\n        setCanDelete(true);\r\n        setCanEdit(true);\r\n      } else {\r\n        setCanEdit(false);\r\n        setCanDelete(false);\r\n      }\r\n    }\r\n  }, [post._id, meUserData!._id]);\r\n\r\n  const handleDeletePost = async () => {\r\n    try {\r\n      const res = await request(`/api/post/${post._id}`, \"DELETE\");\r\n\r\n      const updatedPosts = userData!.wall.filter((el) => el._id !== post._id);\r\n      // console.log(\"updatedPosts\", updatedPosts);\r\n      setUserData({ ...userData, wall: updatedPosts });\r\n      handlePageNotification({ type: \"success\", text: res.message });\r\n    } catch (e) {\r\n      console.log(e);\r\n      handlePageNotification({ type: \"error\", text: e.message });\r\n      // handleNotification(e.message, \"error\");\r\n    }\r\n  };\r\n\r\n  const handleEditMode = (boolean: boolean) => {\r\n    if (boolean) {\r\n      if (!editMode) {\r\n        setIsEdit(true);\r\n        setEditMode(true);\r\n      }\r\n    } else {\r\n      setIsEdit(false);\r\n      setEditMode(false);\r\n    }\r\n  };\r\n\r\n  const editPostPopup = (\r\n    <ContentBox onClick={hide}>\r\n      <EditPostPopup>\r\n        {canEdit && (\r\n          <EditPostPopupSelect onClick={() => handleEditMode(true)}>\r\n            Редактировать\r\n          </EditPostPopupSelect>\r\n        )}\r\n        {canDelete && (\r\n          <EditPostPopupSelect onClick={handleDeletePost}>\r\n            Удалить\r\n          </EditPostPopupSelect>\r\n        )}\r\n      </EditPostPopup>\r\n    </ContentBox>\r\n  );\r\n  return (\r\n    <ContentBox key={post._id} style={{ marginBottom: \"15px\" }}>\r\n      <ContentBoxContainer>\r\n        <PostHeader>\r\n          <Avatar size=\"medium\" marginRight=\"15px\" src={post.user?.avatar} />\r\n          <UserInfo>\r\n            <CustomLink\r\n              to={`/profile/${post.user?._id}`}\r\n              style={{ marginBottom: \"5px\", display: \"block\" }}\r\n            >\r\n              {post.user?.firstName} {post.user?.lastName}\r\n            </CustomLink>\r\n            <PostDate>{date}</PostDate>\r\n          </UserInfo>\r\n          {(canEdit || canDelete) && (\r\n            <Tippy\r\n              content={editPostPopup}\r\n              interactive={true}\r\n              placement={\"bottom-end\"}\r\n              trigger=\"click\"\r\n              duration={0}\r\n              offset={[0, 5]}\r\n              visible={visible}\r\n              onClickOutside={hide}\r\n              // hideOnClick={\"toggle\"}\r\n            >\r\n              <PostOptions onClick={visible ? hide : show}>\r\n                <CogwheelIcon />\r\n              </PostOptions>\r\n            </Tippy>\r\n          )}\r\n        </PostHeader>\r\n        {isEdit ? (\r\n          <PostEdit\r\n            handleEditMode={handleEditMode}\r\n            post={post}\r\n            isPersonal={isPersonal}\r\n          />\r\n        ) : (\r\n          <>\r\n            {post.content && (\r\n              <PostContent>\r\n                <PostText>{post.content}</PostText>\r\n              </PostContent>\r\n            )}\r\n            {post.images.length > 0 && (\r\n              <PostImagesWrapper>\r\n                {post.images.map((image: any) => {\r\n                  return <PostImage src={image.url} alt={\"post image\"} />;\r\n                })}\r\n              </PostImagesWrapper>\r\n            )}\r\n          </>\r\n        )}\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <ContentBoxContainer>\r\n        <PostFooter>\r\n          {isLike ? (\r\n            <LikeIconWrapper onClick={handleUnLikePost} liked={true}>\r\n              <LikeIconLiked />\r\n              {likes.length > 0 && <LikeCount>{likes.length}</LikeCount>}\r\n            </LikeIconWrapper>\r\n          ) : (\r\n            <LikeIconWrapper onClick={handleLikePost} liked={false}>\r\n              <LikeIconDisabled />\r\n              {likes.length > 0 && <LikeCount>{likes.length}</LikeCount>}\r\n            </LikeIconWrapper>\r\n          )}\r\n          <CommentIconWrapper>\r\n            <CommentIcon />\r\n            {comments.length > 0 && <LikeCount>{comments.length}</LikeCount>}\r\n          </CommentIconWrapper>\r\n        </PostFooter>\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <PostComments comments={comments} setComments={setComments} post={post} />\r\n      <PostSubmitComment post={post} setComments={setComments} />\r\n    </ContentBox>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Post from \"./post/Post\";\r\n\r\ntype WallProps = {\r\n  data: any[];\r\n};\r\n\r\nconst Wall: React.FC<WallProps> = ({ data }) => {\r\n  const [editMode, setEditMode] = useState<boolean>(false);\r\n  // console.log(\"data wall\", data);\r\n\r\n  return (\r\n    <>\r\n      {data.map((post) => {\r\n        // console.log(date);\r\n\r\n        return (\r\n          <Post\r\n            key={post._id}\r\n            post={post}\r\n            setEditMode={setEditMode}\r\n            editMode={editMode}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Wall;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\nimport { IUserData } from \"../../interfaces/IUserData\";\r\nimport { ContentBoxContainer, Separator } from \"../../styled-components/global\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst InfoHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst UserName = styled.div`\r\n  font-size: 18px;\r\n  color: var(--color-black);\r\n  /* font-weight: 600; */\r\n`;\r\nconst UserStatus = styled.div`\r\n  /* font-size: 13px; */\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst AdditionalInfo = styled.div``;\r\n\r\nconst InfoItem = styled.div`\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst InfoItemTitle = styled.div`\r\n  min-width: 130px;\r\n  color: var(--text-color-secondary);\r\n  font-size: var(--text-size-primary);\r\n`;\r\n\r\nconst InfoItemContent = styled.div``;\r\n\r\ntype Props = {\r\n  userData: IUserData;\r\n};\r\n\r\nconst ProfileInfo: React.FC<Props> = ({ userData }) => {\r\n  const { online } = useContext(OnlineContext);\r\n\r\n  // console.log(\"info updated\");\r\n  return (\r\n    <Wrapper>\r\n      <ContentBoxContainer>\r\n        <InfoHeader>\r\n          <UserName>{userData.firstName + \" \" + userData.lastName}</UserName>\r\n          {online[userData?._id ? userData?._id : \"d\"] && (\r\n            <UserStatus>online</UserStatus>\r\n          )}\r\n        </InfoHeader>\r\n      </ContentBoxContainer>\r\n      <Separator />\r\n      <ContentBoxContainer>\r\n        <AdditionalInfo>\r\n          {userData.city && (\r\n            <InfoItem>\r\n              <InfoItemTitle>City:</InfoItemTitle>\r\n              <InfoItemContent>{userData.city}</InfoItemContent>\r\n            </InfoItem>\r\n          )}\r\n\r\n          {userData.aboutMe && (\r\n            <InfoItem>\r\n              <InfoItemTitle>About me:</InfoItemTitle>\r\n              <InfoItemContent>{userData.aboutMe}</InfoItemContent>\r\n            </InfoItem>\r\n          )}\r\n        </AdditionalInfo>\r\n      </ContentBoxContainer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React, { memo, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Friends from \"../components/profile-page/Friends\";\r\nimport OtherUserActions from \"../components/profile-page/profile-actions/other-user/OtherUserActions\";\r\nimport PersonalActions from \"../components/profile-page/profile-actions/personal/PersonalActions\";\r\nimport SubmitPostBox from \"../components/profile-page/SubmitPostBox\";\r\nimport Wall from \"../components/profile-page/Wall\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { UserContext } from \"../context/UserContext\";\r\nimport { useLoadUser } from \"../hooks/useLoadUser\";\r\nimport { ContentBox, ContentBoxContainer } from \"../styled-components/global\";\r\n\r\nimport Info from \"./../components/profile-page/Info\";\r\nconst Avatar = styled.img`\r\n  width: 100%;\r\n  /* margin-right: 15px; */\r\n  margin-bottom: 10px;\r\n  /* object-fit: contain; */\r\n`;\r\n\r\nconst LeftSide = styled.div`\r\n  width: 35%;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst RightSide = styled.div`\r\n  width: 65%;\r\n`;\r\n\r\nconst SpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 100px;\r\n`;\r\n\r\nconst NoPosts = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding-top: 25px;\r\n  div {\r\n    display: block;\r\n    font-size: 18px;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  span {\r\n    color: var(--text-color-secondary);\r\n  }\r\n`;\r\n\r\n// export const ContentBox = styled.div`\r\n//   background: white;\r\n//   padding: 20px;\r\n//   box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\r\n//   border-radius: 5px;\r\n// `;\r\n\r\nconst AvatarWrapper = styled.div``;\r\n\r\nconst PersonalProfilePage = () => {\r\n  const { id: slugId } = useParams<any>();\r\n  const {\r\n    userData,\r\n    setUserData,\r\n    isPersonal,\r\n    loading,\r\n    meUserData,\r\n    setMeUserData,\r\n  } = useLoadUser(slugId);\r\n\r\n  if (!userData || loading) {\r\n    return (\r\n      <div style={{ minHeight: \"550px\" }}></div>\r\n      // <SpinnerWrapper>\r\n      //   <Spinner />\r\n      // </SpinnerWrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={{ userData, setUserData, isPersonal }}>\r\n      <Page />\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default PersonalProfilePage;\r\n\r\nconst Page = () => {\r\n  const { userData, setUserData, isPersonal } = useContext(UserContext);\r\n  const { meUserData, setMeUserData } = useContext(AuthContext);\r\n  const { firstName, lastName, avatar, wall } = userData!;\r\n  console.log(\"user data\", userData);\r\n  return (\r\n    <div className=\"profile\" style={{ minHeight: \"700px\" }}>\r\n      <LeftSide>\r\n        <ContentBox marginBottom=\"15px\">\r\n          <ContentBoxContainer>\r\n            <AvatarWrapper>\r\n              <Avatar src={avatar} />\r\n              {isPersonal ? <PersonalActions /> : <OtherUserActions />}\r\n            </AvatarWrapper>\r\n          </ContentBoxContainer>\r\n        </ContentBox>\r\n        <ContentBox>\r\n          {/* <ContentBoxContainer> */}\r\n          <Friends\r\n            isPersonal={isPersonal}\r\n            friends={userData?.friends}\r\n            _id={userData?._id!}\r\n          />\r\n          {/* </ContentBoxContainer> */}\r\n        </ContentBox>\r\n      </LeftSide>\r\n      <RightSide>\r\n        <ContentBox marginBottom=\"15px\">\r\n          <Info userData={userData!} />\r\n        </ContentBox>\r\n        <ContentBox marginBottom=\"15px\">\r\n          <SubmitPostBox\r\n            userData={userData}\r\n            setUserData={setUserData}\r\n            isPersonal={isPersonal}\r\n            meUserData={meUserData}\r\n            setMeUserData={setMeUserData}\r\n          />\r\n        </ContentBox>\r\n        {wall.length > 0 ? (\r\n          <Wall data={wall} />\r\n        ) : (\r\n          <NoPosts>\r\n            {isPersonal ? (\r\n              <>\r\n                <div>Empty wall...</div>\r\n                <span>\r\n                  Post something on your wall by writing in a text field above!\r\n                </span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div>Empty wall...</div>\r\n                <span>\r\n                  You can make this wall alive by posting somethin on it!\r\n                </span>\r\n              </>\r\n            )}\r\n          </NoPosts>\r\n        )}\r\n        {/* {!isPersonal && renderFriendRequestButton(relationToMe)} */}\r\n      </RightSide>\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\n\r\n// const storageName = \"firstLogin\";\r\n\r\nexport const useLoadUser = (slugId: string) => {\r\n  const [userData, setUserData] = useState<any>(null);\r\n  const [isPersonal, setIsPersonal] = useState<boolean>(false);\r\n  const { meUserData, setMeUserData, accessToken } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { request } = useHttp();\r\n  const history = useHistory();\r\n\r\n  // console.log(\"slugId\", slugId);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"accessToken\", accessToken);\r\n    setLoading(true);\r\n    if (slugId === meUserData?._id) {\r\n      setIsPersonal(true);\r\n    } else {\r\n      setIsPersonal(false);\r\n    }\r\n\r\n    request(`/api/user/${slugId}`, \"GET\")\r\n      .then((res) => {\r\n        setUserData(res.userData);\r\n        setLoading(false);\r\n        // console.log(\"USER\", res);\r\n      })\r\n      .catch((err) => {\r\n        history.push(\"/not-found\");\r\n        setUserData(null);\r\n        setLoading(false);\r\n      });\r\n\r\n    // if (slugId === meUserData?._id) {\r\n    //   setUserData(meUserData);\r\n    //   setIsPersonal(true);\r\n    //   // console.log(\"me USER\", meUserData);\r\n    // } else {\r\n    //   setLoading(true);\r\n    //   setIsPersonal(false);\r\n    //   request(`/api/user/${slugId}`, \"GET\")\r\n    //     .then((res) => {\r\n    //       setUserData(res.userData);\r\n    //       setLoading(false);\r\n    //       // console.log(\"USER\", res);\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       history.push(\"/not-found\");\r\n    //       setUserData(null);\r\n    //       setLoading(false);\r\n    //     });\r\n    //   // setUserData(null);\r\n    // }\r\n  }, [slugId, meUserData?._id]);\r\n\r\n  return {\r\n    userData,\r\n    setUserData,\r\n    isPersonal,\r\n    loading,\r\n    meUserData,\r\n    setMeUserData,\r\n  };\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  ContentBox,\r\n  ContentBoxContainer,\r\n  CustomLink,\r\n  Separator,\r\n  svgSecondaryStyle,\r\n} from \"../../styled-components/global\";\r\nimport { ReactComponent as ArrowIcon } from \"../../assets/icons/arrow-icon_left.svg\";\r\nimport { IUser } from \"../../pages/EditProfilePage\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport SendMessageBox from \"./SendMessageBox\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { OnlineContext } from \"../../context/OnlineContext\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 550px;\r\n  max-height: 50vh;\r\n\r\n  .contentBox {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nconst NavigationHeader = styled.div``;\r\n\r\nconst NavigationBody = styled.div``;\r\n\r\nconst NavigationHeaderWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  img {\r\n    align-self: center;\r\n    margin-right: 15px;\r\n  }\r\n  /* a {\r\n    display: block;\r\n  } */\r\n`;\r\n\r\nconst BackButton = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  /* height: 100%; */\r\n  background: none;\r\n  padding: 20px 18px;\r\n  svg {\r\n    ${svgSecondaryStyle}\r\n    width: 5px;\r\n    margin-right: 8px;\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst UserStatus = styled.div`\r\n  /* font-size: 13px; */\r\n  text-align: center;\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\n// const AvatarWrapper = styled.div`\r\n//   padding: 20px 15px;\r\n// `;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n};\r\n\r\nconst MessagesNavigation: React.FC<Props> = ({ children, conversation }) => {\r\n  const { online } = useContext(OnlineContext);\r\n  // const { conversation } = useContext(ConversationContext);\r\n\r\n  const history = useHistory();\r\n\r\n  if (!conversation) {\r\n    history.push(\"/messages\");\r\n    // return <></>;\r\n  }\r\n\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  // return <>{console.log(\"NAVIGATION\", conversation)}</>;\r\n  // const otherUsers = conversation.users.filter(\r\n  //   (el: IUser) => el._id !== meUserData?._id\r\n  // );\r\n  return (\r\n    <Wrapper>\r\n      <ContentBox className=\"contentBox\">\r\n        {/* <ContentBoxContainer> */}\r\n        <NavigationHeader>\r\n          <NavigationHeaderWrapper>\r\n            <BackButton to={`/messages`}>\r\n              <ArrowIcon />\r\n              Back\r\n            </BackButton>\r\n            {conversation.users.length > 1 ? (\r\n              <>\r\n                {conversation.users.map((user: IUser) => {\r\n                  return <div>{user.firstName}</div>;\r\n                })}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div>\r\n                  <CustomLink\r\n                    color=\"black\"\r\n                    to={`/profile/${conversation.users[0]._id}`}\r\n                  >\r\n                    {conversation.users[0].firstName}{\" \"}\r\n                    {conversation.users[0].lastName}\r\n                  </CustomLink>\r\n                  {online[\r\n                    conversation.users[0]?._id\r\n                      ? conversation.users[0]?._id\r\n                      : \"d\"\r\n                  ] && <UserStatus>online</UserStatus>}\r\n                </div>\r\n\r\n                <Link to={`/profile/${conversation.users[0]._id}`}>\r\n                  <Avatar src={conversation.users[0].avatar} size=\"small\" />\r\n                </Link>\r\n              </>\r\n            )}\r\n          </NavigationHeaderWrapper>\r\n          <Separator />\r\n        </NavigationHeader>\r\n        <NavigationBody>{children}</NavigationBody>\r\n      </ContentBox>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MessagesNavigation;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  Avatar,\r\n  CustomLink,\r\n  svgSecondaryStyle,\r\n} from \"../../styled-components/global\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DateTime } from \"luxon\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { ReactComponent as TrashIcon } from \"../../assets/icons/trash-icon.svg\";\r\nimport { Socket } from \"dgram\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\nconst Wrapper = styled.div<{ isRead: boolean }>`\r\n  padding: 15px;\r\n  display: flex;\r\n  position: relative;\r\n  margin-top: auto;\r\n  img {\r\n    margin-right: 15px;\r\n  }\r\n  svg {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    display: none;\r\n    ${svgSecondaryStyle}\r\n  }\r\n  :hover {\r\n    background: var(--color-secondary);\r\n    svg {\r\n      display: block;\r\n    }\r\n  }\r\n  ${(props) =>\r\n    !props.isRead &&\r\n    `\r\n    background: var(--color-secondary);\r\n  `}\r\n`;\r\n\r\nconst MessageInfo = styled.div``;\r\n\r\nconst MessageHeader = styled.div`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst Date = styled.span`\r\n  color: var(--text-color-secondary);\r\n`;\r\n\r\nconst MessageContent = styled.div``;\r\n\r\nconst Image = styled.img`\r\n  width: 300px;\r\n  height: auto;\r\n  margin-top: 5px;\r\n`;\r\n\r\ntype Props = {\r\n  isMe: boolean;\r\n  message: any;\r\n  messages: any;\r\n};\r\n\r\nconst Message: React.FC<Props> = ({ message, isMe, messages }) => {\r\n  // const [message, setMessage] = useState(msg);\r\n  const date = DateTime.fromISO(message.createdAt).toLocaleString(\r\n    // DateTime.DATETIME_MED\r\n    {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n    }\r\n  );\r\n\r\n  const { request } = useHttp();\r\n  const history = useHistory();\r\n  const { socket, setConversations } = useContext(AuthContext);\r\n  // const { setConversation } = useContext(ConversationContext);\r\n\r\n  const handleReadMessage = async () => {\r\n    console.log(\"handle read message\", message);\r\n    try {\r\n      const res = await request(`/api/read_message/${message._id}`, \"PUT\");\r\n\r\n      console.log(\"res\", res);\r\n\r\n      // setConversation((prevState: any) => {\r\n      //   const msgIdx = prevState?.messages.findIndex(\r\n      //     (el: any) => el._id === res.readMsg._id\r\n      //   );\r\n\r\n      //   const messages = [\r\n      //     ...prevState?.messages.slice(0, msgIdx),\r\n      //     res.readMsg,\r\n      //     ...prevState?.messages.slice(msgIdx, prevState?.messages.length - 1),\r\n      //   ];\r\n\r\n      //   // const convNoMessage = prevState?.messages.filter(\r\n      //   //   (el: any) => el._id !== message._id\r\n      //   // );\r\n\r\n      //   const newConversation = {\r\n      //     ...prevState,\r\n      //     messages,\r\n      //   };\r\n      //   console.log(\"new conversation\", newConversation);\r\n      //   return newConversation;\r\n      // });\r\n\r\n      setConversations((prevState: any) => {\r\n        // console.log(\"message\", message);\r\n        console.log(\"i'm setting conversations with this message\", res.readMsg);\r\n        const conversation = prevState.find(\r\n          (el: any) => el._id === res.readMsg.conversation._id\r\n        );\r\n\r\n        const conversationIdx = prevState.findIndex(\r\n          (el: any) => el._id === res.readMsg.conversation._id\r\n        );\r\n\r\n        const conversationMsgIdx = conversation.messages.findIndex(\r\n          (el: any) => el._id === res.readMsg._id\r\n        );\r\n        const messages = [\r\n          ...conversation.messages.slice(0, conversationMsgIdx),\r\n          res.readMsg,\r\n          ...conversation.messages.slice(conversationMsgIdx + 1),\r\n        ];\r\n\r\n        console.log(\"messages\", messages);\r\n\r\n        const updatedConversation = {\r\n          ...conversation,\r\n          messages,\r\n        };\r\n\r\n        console.log(\"updated conversation\", updatedConversation);\r\n\r\n        // console.log(\"conversationIdx\", conversationIdx);\r\n\r\n        const newConversations = [\r\n          ...prevState.slice(0, conversationIdx),\r\n          updatedConversation,\r\n          ...prevState.slice(conversationIdx + 1),\r\n        ];\r\n\r\n        console.log(\"newConversations\", newConversations);\r\n\r\n        return newConversations;\r\n      });\r\n      // setMessage((prevState: any) => {\r\n      //   // console.log(\"READ CONV\", newCon);\r\n      //   return {\r\n      //     ...prevState,\r\n      //     isRead: true,\r\n      //   };\r\n      // });\r\n      socket.emit(\"readMessage\", res.readMsg);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleDeleteMessage = async () => {\r\n    const response = window.confirm(\r\n      \"Are you sure you want to delete this message?\"\r\n    );\r\n    if (!response) {\r\n      return;\r\n    }\r\n\r\n    if (messages.length === 1) {\r\n      try {\r\n        await request(\r\n          `/api/conversation/${message.conversation._id}`,\r\n          \"DELETE\"\r\n        );\r\n        history.push(\"/messages\");\r\n        setConversations((prevState: any) => {\r\n          // console.log(\"message\", message);\r\n          const newArr = prevState.filter((el: any) => {\r\n            return el._id !== message.conversation._id;\r\n          });\r\n          return newArr;\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await request(`/api/message/${message._id}`, \"DELETE\");\r\n        setConversations((prevState: any) => {\r\n          // console.log(\"message\", message);\r\n          console.log(\"i'm deleting a message\", res.readMsg);\r\n          const conversation = prevState.find(\r\n            (el: any) => el._id === message.conversation._id\r\n          );\r\n\r\n          const conversationIdx = prevState.findIndex(\r\n            (el: any) => el._id === message.conversation._id\r\n          );\r\n\r\n          const newMessagesArr = conversation.messages.filter((el: any) => {\r\n            return el._id !== message._id;\r\n          });\r\n\r\n          const updatedConversation = {\r\n            ...conversation,\r\n            messages: newMessagesArr,\r\n          };\r\n\r\n          const newConversations = [\r\n            ...prevState.slice(0, conversationIdx),\r\n            updatedConversation,\r\n            ...prevState.slice(conversationIdx + 1),\r\n          ];\r\n\r\n          return newConversations;\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(\"is me\", isMe);\r\n    if (!isMe && !message.isRead) {\r\n      console.log(\"read\");\r\n      handleReadMessage();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper isRead={message.isRead}>\r\n      <Avatar size=\"medium-small\" src={message.user.avatar} />\r\n      <MessageInfo>\r\n        <MessageHeader>\r\n          <CustomLink to={`/profile/${message.user._id}`}>\r\n            {message.user.firstName} {message.user.lastName}\r\n          </CustomLink>\r\n          {\"  \"}\r\n          <Date>{date}</Date>\r\n        </MessageHeader>\r\n        {message.content && <MessageContent>{message.content}</MessageContent>}\r\n\r\n        {message.images &&\r\n          message.images.map((image: any, idx: number) => {\r\n            return <Image key={idx} src={image.url} />;\r\n          })}\r\n      </MessageInfo>\r\n      <TrashIcon onClick={handleDeleteMessage} />\r\n      <div style={{ position: \"absolute\", bottom: 0 }} id={message._id}></div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useContext, useRef, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n// import { scroll } from \"react-scroll\";\r\nimport { ReactComponent as ImageUploadIcon } from \"../../assets/icons/image-upload-icon.svg\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHttp } from \"../../hooks/useHttp\";\r\nimport { useUploadImages } from \"../../hooks/useUploadImages\";\r\nimport {\r\n  Avatar,\r\n  svgPrimaryStyle,\r\n  TextArea,\r\n} from \"../../styled-components/global\";\r\nimport Emojis from \"../Emojis\";\r\nimport { ReactComponent as CrossIcon } from \"../../assets/icons/cross-icon.svg\";\r\nimport Spinner from \"../Spinner\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\n\r\nconst PostCommentWrapper = styled.div`\r\n  position: relative;\r\n  form {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    padding: 10px 15px;\r\n  }\r\n  textarea {\r\n    display: block;\r\n    border: 1px solid var(--text-color-secondary);\r\n    border-radius: var(--border-radius-primary);\r\n    padding: 11px;\r\n    padding-right: 65px;\r\n    width: 100%;\r\n    position: relative;\r\n    overflow-y: hidden;\r\n    ::placeholder {\r\n      color: var(--text-color-secondary);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ImageUpload = styled.div`\r\n  position: absolute;\r\n  top: 18px;\r\n  right: 55px;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  width: 37px;\r\n  height: 37px;\r\n  margin-right: 15px;\r\n  border-radius: 100px;\r\n`;\r\n\r\nconst ButtonWrapper = styled.button`\r\n  margin-left: 10px;\r\n  padding-top: 5px;\r\n  background: none;\r\n  svg {\r\n    ${svgPrimaryStyle}\r\n    fill: var(--color-dark-secondary);\r\n    :hover {\r\n      fill: var(--text-color-secondary);\r\n    }\r\n  }\r\n`;\r\n\r\nconst PreviewImagesWrapper = styled.div`\r\n  display: flex;\r\n  /* margin-left: 15px;\r\n  margin-bottom: 13px; */\r\n\r\n  /* margin-top: 1px; */\r\n`;\r\n\r\nconst PreviewImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst DeleteImageIcon = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  svg {\r\n    width: 20px;\r\n    fill: white;\r\n  }\r\n`;\r\n\r\nconst PreviewImage = styled.img<{ count?: number }>`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  margin-right: 5px;\r\n  ${(props) =>\r\n    props.count === 2 &&\r\n    `\r\n    width: 50%;\r\n    height: auto;\r\n  `}\r\n`;\r\n\r\nconst ImagesPreviewWrapper = styled.div<{ exists: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.exists &&\r\n    `\r\n      padding: 15px;\r\n      padding-top: 0;\r\n    `}\r\n`;\r\n\r\nconst ImageLoading = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  background: var(--color-secondary);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n  // setConversation: React.Dispatch<React.SetStateAction<any[]>>;\r\n};\r\n\r\nconst SendMessageBox: React.FC<Props> = ({\r\n  // setConversation,\r\n  conversation,\r\n}) => {\r\n  const [text, setText] = useState<string>(\"\");\r\n  const {\r\n    images,\r\n    setImages,\r\n    handleUploadImages,\r\n    handleRemoveImage,\r\n    imageLoading,\r\n  } = useUploadImages();\r\n  // const textAreaRef = useRef<HTMLTextAreaElement>(null);\r\n  const ref = useRef<HTMLFormElement>(null);\r\n  const imageUploadRef = useRef<null | HTMLInputElement>(null);\r\n  const [textAreaHeight, setTextAreaHeight] = useState(\"auto\");\r\n  // const { conversation } = useContext(ConversationContext);\r\n  const { meUserData, socket, setConversations } = useContext(AuthContext);\r\n  const { request } = useHttp();\r\n  const handleChange = (e: any): void => {\r\n    // console.log(\"change\", e.target);\r\n    setTextAreaHeight(\"auto\");\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const handleChooseEmoji = (emoji: string): void => {\r\n    setText(text + emoji);\r\n  };\r\n\r\n  const handleCreateMessage = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if ((!text && images.length === 0) || imageLoading) {\r\n      return;\r\n    }\r\n    const res = await request(\"/api/message\", \"POST\", {\r\n      content: text,\r\n      images,\r\n      conversationId: conversation._id,\r\n    });\r\n\r\n    // console.log(\"comment res\", res);\r\n    setText(\"\");\r\n    setImages([]);\r\n\r\n    // setConversation((prevState: any) => {\r\n    //   const messages = [...prevState?.messages, res.newMessage];\r\n    //   const newConversation = {\r\n    //     ...prevState,\r\n    //     messages,\r\n    //   };\r\n    //   // console.log(\"state new\", newConversation);\r\n\r\n    //   return newConversation;\r\n    // });\r\n\r\n    setConversations((prevState: any) => {\r\n      const newArr = prevState.filter(\r\n        (el: any) => el._id !== res.newMessage.conversation._id\r\n      );\r\n\r\n      const currentConv = prevState.find(\r\n        (el: any) => el._id === res.newMessage.conversation._id\r\n      );\r\n      const updatedConv = {\r\n        ...currentConv,\r\n        messages: [...currentConv.messages, res.newMessage],\r\n      };\r\n\r\n      return [updatedConv, ...newArr];\r\n    });\r\n\r\n    const notification = {\r\n      user: meUserData,\r\n      recipients: [...conversation.users],\r\n      text: `sent you a message: ${res.newMessage.content.slice(0, 70)}${\r\n        res.newMessage.content.length > 70 ? \"...\" : \"\"\r\n      }`,\r\n      url: `/${conversation}/${conversation._id}`,\r\n    };\r\n\r\n    socket.emit(\"createMessage\", res.newMessage);\r\n    socket.emit(\"createMessageNotification\", notification);\r\n\r\n    // document.getElementById(res.newMessage._id)?.scrollIntoView();\r\n  };\r\n  const handleKeyPress = (\r\n    e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      ref?.current?.dispatchEvent(\r\n        new Event(\"submit\", { cancelable: true, bubbles: true })\r\n      );\r\n      e.preventDefault();\r\n      // e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   // setParentHeight(`${textAreaRef.current!.scrollHeight}px`);\r\n  //   setTextAreaHeight(`${textAreaRef.current!.scrollHeight}px`);\r\n  //   console.log(textAreaRef.current!.scrollHeight);\r\n  // }, [text]);\r\n  return (\r\n    <PostCommentWrapper>\r\n      <form ref={ref} onSubmit={handleCreateMessage}>\r\n        <Avatar\r\n          size=\"medium-small\"\r\n          style={{ marginRight: \"15px\" }}\r\n          src={meUserData?.avatar}\r\n        />\r\n        <TextArea\r\n          $focuse\r\n          placeholder={\"Write something...\"}\r\n          style={{ resize: \"none\" }}\r\n          onChange={handleChange}\r\n          value={text}\r\n          onKeyDown={handleKeyPress}\r\n        />\r\n\r\n        {/* <textarea\r\n          ref={textAreaRef}\r\n          rows={1}\r\n          style={{\r\n            minHeight: textAreaHeight,\r\n            resize: \"none\",\r\n          }}\r\n          placeholder={\"Write something...\"}\r\n          onKeyDown={handleKeyPress}\r\n          onChange={handleChange}\r\n          value={text}\r\n        /> */}\r\n        <ImageUpload>\r\n          <label>\r\n            <ImageUploadIcon />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              accept=\"image/*\"\r\n              // multiple\r\n              onChange={handleUploadImages}\r\n              onKeyPress={handleKeyPress}\r\n              ref={imageUploadRef}\r\n              style={{ display: \"none\" }}\r\n            />\r\n          </label>\r\n        </ImageUpload>\r\n\r\n        <Emojis handleChooseEmoji={handleChooseEmoji} />\r\n        {/* <ButtonWrapper type=\"submit\" disabled={!text}>\r\n          <PublishCommentIcon />\r\n        </ButtonWrapper> */}\r\n      </form>\r\n      <ImagesPreviewWrapper exists={imageLoading || images.length > 0}>\r\n        <>\r\n          {imageLoading && (\r\n            <ImageLoading>\r\n              <Spinner />\r\n            </ImageLoading>\r\n          )}\r\n          {images.length > 0 && (\r\n            <PreviewImagesWrapper>\r\n              {images.map((image, idx) => {\r\n                return (\r\n                  <PreviewImageWrapper key={image.public_id}>\r\n                    <DeleteImageIcon\r\n                      onClick={handleRemoveImage.bind(null, image)}\r\n                    >\r\n                      <CrossIcon />\r\n                    </DeleteImageIcon>\r\n                    <PreviewImage src={image.url} />\r\n                  </PreviewImageWrapper>\r\n                );\r\n              })}\r\n            </PreviewImagesWrapper>\r\n          )}\r\n        </>\r\n      </ImagesPreviewWrapper>\r\n    </PostCommentWrapper>\r\n  );\r\n};\r\n\r\nexport default SendMessageBox;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n// import { ConversationContext } from \"../../context/ConversationContext\";\r\nimport { Separator } from \"../../styled-components/global\";\r\nimport Message from \"./Message\";\r\nimport SendMessageBox from \"./SendMessageBox\";\r\n\r\nconst MessagesWrapper = styled.div``;\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 15px 0;\r\n  height: 100%;\r\n  min-height: 100%;\r\n  display: flex;\r\n\r\n  flex-direction: column;\r\n  /* justify-content: flex-end;  */\r\n`;\r\n\r\nconst Wrap = styled.div<{ height: number }>`\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  /* &::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    width: 15px;\r\n    height: 15px;\r\n    border: 1px solid black;\r\n  } */\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: none;\r\n    /* box-shadow: inset 0 0 10px black; */\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    background: var(--color-dark-secondary);\r\n    box-shadow: inset 0 0 5px $pale-orange;\r\n  }\r\n\r\n  ${(props) =>\r\n    props.height &&\r\n    `min-height: calc(${props.height}px - 250px);\r\n      max-height: calc(${props.height}px - 250px);\r\n  `}\r\n  > :first-child {\r\n    margin-top: auto !important;\r\n  }\r\n  /* flex-direction: row; */\r\n`;\r\n\r\ntype Props = {\r\n  conversation: any;\r\n};\r\n\r\nconst MessagesList: React.FC<Props> = ({ conversation }) => {\r\n  // const { conversation, setConversation } = useContext(ConversationContext);\r\n  // const [messages, setMessages] = useState(conversation.messages);\r\n  const { meUserData } = useContext(AuthContext);\r\n\r\n  const [dimensions, setDimensions] = React.useState({\r\n    height: window.innerHeight,\r\n    width: window.innerWidth,\r\n  });\r\n\r\n  function handleResize() {\r\n    setDimensions({\r\n      height: window.innerHeight,\r\n      width: window.innerWidth,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    document\r\n      .getElementById(\r\n        conversation.messages[conversation.messages.length - 1]._id\r\n      )\r\n      ?.scrollIntoView();\r\n  }, [conversation]);\r\n\r\n  //   console.log(\"MESSAGES\", conversationMessages);\r\n  return (\r\n    <MessagesWrapper>\r\n      {/* {console.log(\"STATE MESSAGES CHANGE\", conversation)} */}\r\n      {/* {console.log(\"STATE MESSAGES CHANGE\", conversation.messages)} */}\r\n      <Wrap height={dimensions.height}>\r\n        {console.log(\"messages list updated\")}\r\n        <Wrapper>\r\n          {conversation.messages.map((message: any) => {\r\n            if (message.user._id === meUserData?._id) {\r\n              return (\r\n                <Message\r\n                  key={message._id}\r\n                  message={message}\r\n                  isMe={true}\r\n                  messages={conversation.messages}\r\n                />\r\n              );\r\n            }\r\n            return (\r\n              <Message\r\n                key={message._id}\r\n                message={message}\r\n                isMe={false}\r\n                messages={conversation.messages}\r\n              />\r\n            );\r\n          })}\r\n        </Wrapper>\r\n      </Wrap>\r\n      {/* {console.log(\"dimentions\", dimensions.height)} */}\r\n\r\n      <Separator />\r\n      <SendMessageBox conversation={conversation} />\r\n    </MessagesWrapper>\r\n  );\r\n};\r\n\r\nexport default MessagesList;\r\n\r\n// if (message.user._id === meUserData?._id) {\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport MessagesNavigation from \"../components/conversation-page/MessagesNavigation\";\r\nimport MessagesList from \"../components/conversation-page/MessagesList\";\r\n// import { ConversationContext } from \"../context/ConversationContext\";\r\nimport { useLoadConversation } from \"../hooks/useLoadConversation\";\r\n// import { SocketMessagesClient } from \"../SocketMessagesClient\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nconst ConversationPage = () => {\r\n  const { id } = useParams<any>();\r\n  const { conversations } = useContext(AuthContext);\r\n  const history = useHistory();\r\n  // const { conversation, setConversation, loading } = useLoadConversation(id);\r\n\r\n  console.log(\"conversationsSSS\", conversations);\r\n\r\n  const conversation = conversations.find((el: any) => el._id === id);\r\n  if (!conversation) {\r\n    return <></>;\r\n  }\r\n  console.log(\"CONVERSATION\", conversation);\r\n  // if (conversations.length === 0) {\r\n  // }\r\n\r\n  // return <></>;\r\n\r\n  return (\r\n    <>\r\n      {/* <SocketMessagesClient /> */}\r\n      <MessagesNavigation conversation={conversation}>\r\n        <MessagesList conversation={conversation} />\r\n      </MessagesNavigation>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConversationPage;\r\n\r\n// //{\" \"}\r\n// <ConversationContext.Provider value={{ conversation, setConversation }}></ConversationContext.Provider>\r\n//   //{\" \"}\r\n//   </ConversationContext.Provider>\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\n// import { ConversationContext } from \"./context/ConversationContext\";\r\nimport { MessagesContext } from \"./context/MessagesContext\";\r\nimport { OnlineContext } from \"./context/OnlineContext\";\r\nimport useNotistack from \"./hooks/useNotistack\";\r\n\r\nexport const SocketClient = () => {\r\n  const {\r\n    meUserData,\r\n    socket,\r\n    // notifications,\r\n    setNotifications,\r\n    // conversations,\r\n    setConversations,\r\n  } = useContext(AuthContext);\r\n  const { setOnline } = useContext(OnlineContext);\r\n  // const { conversation, setConversation } = useContext(ConversationContext);\r\n  // console.log(\"SFJBFHF\", conversation);\r\n  const { handleNotification } = useNotistack();\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createNotificationToClient\", (notification: any) => {\r\n      // console.log(\"createNotificationToClient\", notification);\r\n      setNotifications((prevState: any) => {\r\n        console.log(\"setting notifications...\");\r\n        return [notification, ...prevState];\r\n      });\r\n      handleNotification(\r\n        notification,\r\n        // `${notification.user.firstName} ${notification.user.lastName} ${notification.text}`,\r\n        \"default\"\r\n      );\r\n    });\r\n\r\n    return () => socket.off(\"createNotificationToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"joinUserToClient\", (users: any) => {\r\n      // console.log(\"ONLINE USERS CLIENT\", users);\r\n      setOnline(users);\r\n    });\r\n\r\n    return () => socket.off(\"joinUserToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"disconnectUserToClient\", (users: any) => {\r\n      // console.log(\"disconnect users\", users);\r\n      setOnline(users);\r\n    });\r\n\r\n    return () => socket.off(\"disconnectUserToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createMessageNotificationToClient\", (notification: any) => {\r\n      // console.log(\"createNotificationToClient\", notification);\r\n      // setNotifications((prevState: any) => {\r\n      //   console.log(\"setting notifications...\");\r\n      //   return [notification, ...prevState];\r\n      // });\r\n      if (window.location.href.includes(\"conversation\")) {\r\n        return;\r\n      }\r\n      handleNotification(\r\n        notification,\r\n        // `${notification.user.firstName} ${notification.user.lastName} ${notification.text}`,\r\n        \"default\"\r\n      );\r\n    });\r\n    return () => socket.off(\"createMessageNotificationToClient\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"joinUser\", meUserData?._id);\r\n    // console.log(\"emitted join user\");\r\n  }, [socket, meUserData?._id]);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"checkUsersOnline\");\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"checkUsersOnlineToMe\", (users: any) => {\r\n      // console.log(\"checkUsersOnlineToMe\", users);\r\n      setOnline(users);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"checkUsersOnlineToMe\");\r\n    };\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createMessageToClient\", (message: any) => {\r\n      console.log(\"createMessageToClient\", message);\r\n\r\n      // if (!window.location.href.includes(\"id\")) {\r\n\r\n      setConversations((prevState: any) => {\r\n        console.log(\"set conversations\");\r\n\r\n        const newArr = prevState.filter(\r\n          (el: any) => el._id !== message.conversation._id\r\n        );\r\n\r\n        const currentConv = prevState.find(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const updatedConv = {\r\n          ...currentConv,\r\n          messages: [...currentConv.messages, message],\r\n        };\r\n        return [updatedConv, ...newArr];\r\n      });\r\n\r\n      return () => {\r\n        socket.off(\"createConversationsToClient\");\r\n      };\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"createConversationToClient\", (conversation: any) => {\r\n      console.log(\"createConversationToClient\", conversation);\r\n\r\n      // if (!window.location.href.includes(\"id\")) {\r\n\r\n      setConversations((prevState: any) => {\r\n        console.log(\"set conversations\");\r\n        return [conversation, ...prevState];\r\n      });\r\n\r\n      return () => {\r\n        socket.off(\"createConversationToClient\");\r\n      };\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"readConversationToClient\", (message: any) => {\r\n      console.log(\"readConversationToClient\", message);\r\n\r\n      setConversations((prevState: any) => {\r\n        const conversation = prevState.find(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const conversationIdx = prevState.findIndex(\r\n          (el: any) => el._id === message.conversation._id\r\n        );\r\n\r\n        const conversationMsgIdx = conversation.messages.findIndex(\r\n          (el: any) => el._id === message._id\r\n        );\r\n        const messages = [\r\n          ...conversation.messages.slice(0, conversationMsgIdx),\r\n          message,\r\n          ...conversation.messages.slice(conversationMsgIdx + 1),\r\n        ];\r\n\r\n        const updatedConversation = {\r\n          ...conversation,\r\n          messages,\r\n        };\r\n\r\n        console.log(\"setConversations in sockets\", updatedConversation);\r\n\r\n        // console.log(\"conversationIdx\", conversationIdx);\r\n\r\n        const newConversations = [\r\n          ...prevState.slice(0, conversationIdx),\r\n          updatedConversation,\r\n          ...prevState.slice(conversationIdx + 1),\r\n        ];\r\n\r\n        // console.log(\"newConversations\", newConversations);\r\n\r\n        return newConversations;\r\n      });\r\n\r\n      // if (!window.location.href.includes(\"id\")) {\r\n\r\n      // setConversations((prevState: any) => {\r\n      //   console.log(\"set conversations\");\r\n\r\n      //   const newArr = prevState.filter(\r\n      //     (el: any) => el._id !== message.conversation._id\r\n      //   );\r\n\r\n      //   const currentConv = prevState.find(\r\n      //     (el: any) => el._id === message.conversation._id\r\n      //   );\r\n      //   const updatedConv = {\r\n      //     ...currentConv,\r\n      //     messages: [...currentConv.messages, message],\r\n      //   };\r\n\r\n      //   return [...newArr, updatedConv];\r\n      // });\r\n\r\n      return () => {\r\n        socket.off(\"readConversationToClient\");\r\n      };\r\n    });\r\n  }, [socket]);\r\n\r\n  // useEffect(() => {\r\n  //   socket.on(\"readMessageToClient\", (message: any) => {\r\n  //     console.log(\"readMessageToClient conversations\", message);\r\n\r\n  //     // if (!window.location.href.includes(\"conversation\")) return;\r\n\r\n  //   });\r\n\r\n  //   return () => {\r\n  //     socket.off(\"readMessageToClient\");\r\n  //   };\r\n  // }, [socket]);\r\n\r\n  return <></>;\r\n};\r\n","import { useState, useCallback, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { useHistory } from \"react-router\";\r\nimport { IUserData } from \"../interfaces/IUserData\";\r\nimport { useHttp } from \"./useHttp\";\r\n\r\nconst storageName = \"firstLogin\";\r\n\r\nexport const useAuth = () => {\r\n  const [accessToken, setAccessToken] = useState<null | string>(null);\r\n  const [ready, setReady] = useState<boolean>(false);\r\n  const [socket, setSocket] = useState<any>(null);\r\n  const [notifications, setNotifications] = useState<any>([]);\r\n  const [conversations, setConversations] = useState<any[]>([]);\r\n  const [meUserData, setMeUserData] = useState<null | IUserData>(null);\r\n  const [online, setOnline] = useState<any[]>([]);\r\n\r\n  const { request } = useHttp();\r\n\r\n  const getNotifications = useCallback(async (token) => {\r\n    try {\r\n      // console.log(\"making a request to notifications\", accessToken);\r\n      const allNotifications = await request(\"/api/notifies\", \"GET\", null, {\r\n        Authorization: `Bearer ${token}`,\r\n      });\r\n      console.log(\"notifications from server\", allNotifications);\r\n      setNotifications(allNotifications.notifications);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }, []);\r\n\r\n  const getConversations = useCallback(async (token) => {\r\n    // console.log(\"making a request to conversations\", accessToken);\r\n    const res = await request(`/api/conversations`, \"GET\", null, {\r\n      Authorization: `Bearer ${token}`,\r\n    });\r\n    setConversations((prevState) => {\r\n      return res.conversations;\r\n    });\r\n  }, []);\r\n\r\n  const login = useCallback(async (jwtToken: string, data: IUserData) => {\r\n    // console.log(\"jwtToken\", jwtToken);\r\n    setMeUserData(data);\r\n    setAccessToken(jwtToken);\r\n    await getNotifications(jwtToken);\r\n    await getConversations(jwtToken);\r\n\r\n    // console.log(\"logged in\", data, jwtToken);\r\n    // console.log(\"happended\");\r\n\r\n    localStorage.setItem(storageName, \"true\");\r\n    // history.push(\"/profile/:id\");\r\n    // console.log(history);\r\n\r\n    // localStorage.setItem(\r\n    //   storageName,\r\n    //   JSON.stringify({\r\n    //     userData: data,\r\n    //     token: jwtToken,\r\n    //   })\r\n    // );\r\n  }, []);\r\n\r\n  const logout = useCallback((): void => {\r\n    setAccessToken(null);\r\n    setMeUserData(null);\r\n    localStorage.removeItem(storageName);\r\n  }, []);\r\n\r\n  const refreshToken = useCallback(async () => {\r\n    const firstLogin = localStorage.getItem(storageName);\r\n    // console.log(\"use effect\");\r\n\r\n    if (firstLogin) {\r\n      // console.log(\"exists\");\r\n\r\n      try {\r\n        // console.log(\"start refreshing token\");\r\n        const data = await request(\r\n          \"/api/auth/refresh_token\",\r\n          \"POST\"\r\n          // null,\r\n          // {}\r\n        );\r\n        // console.log(\"complete refreshing token\", data.accessToken);\r\n        login(data.accessToken, data.userData);\r\n\r\n        console.log(\"firing ready\");\r\n        setReady(true);\r\n\r\n        // console.log(\"client\", data.userData);\r\n      } catch (e) {\r\n        console.log(e);\r\n        setReady(true);\r\n      }\r\n    } else {\r\n      setReady(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"accessToken\", accessToken);\r\n\r\n    refreshToken();\r\n\r\n    const socketItem = io();\r\n    setSocket(socketItem);\r\n    // const data = JSON.parse(localStorage.getItem(storageName)!);\r\n    // // request('');\r\n    // if (data && data.token) {\r\n    //   login(data.token, data.userData);\r\n    // }\r\n    return () => {\r\n      socketItem.close();\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    login,\r\n    logout,\r\n    accessToken,\r\n    meUserData,\r\n    setMeUserData,\r\n    ready,\r\n    socket,\r\n    notifications,\r\n    setNotifications,\r\n    conversations,\r\n    setConversations,\r\n    online,\r\n    setOnline,\r\n  };\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n","import { useState } from \"react\";\nimport \"./App.css\";\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport { useRoutes } from \"./routes\";\n\nimport { useAuth } from \"./hooks/useAuth\";\n\nimport { GlobalStyle } from \"./styled-components/global\";\n\nimport { OnlineContext } from \"./context/OnlineContext\";\nimport ScrollToTop from \"./ScrollToTop\";\n\nfunction App() {\n  const {\n    login,\n    logout,\n    accessToken,\n    meUserData,\n    setMeUserData,\n    ready,\n    socket,\n    notifications,\n    setNotifications,\n    conversations,\n    setConversations,\n  } = useAuth();\n\n  const [online, setOnline] = useState<any[]>([]);\n\n  // const [value, setValue] = useState(0);\n\n  // console.log(\"token\", accessToken);\n  const isAuthenticated = !!accessToken;\n\n  const routes = useRoutes(isAuthenticated, meUserData?._id, ready);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        accessToken,\n        meUserData,\n        setMeUserData,\n        isAuthenticated: isAuthenticated,\n        login,\n        logout,\n        socket,\n        notifications,\n        setNotifications,\n        conversations,\n        setConversations,\n\n        // loading,\n      }}\n    >\n      <OnlineContext.Provider value={{ online, setOnline }}>\n        <GlobalStyle />\n\n        <Router>\n          <ScrollToTop />\n          {routes}\n        </Router>\n      </OnlineContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import { useContext, forwardRef, useCallback, useState } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Layout from \"./components/Layout\";\r\nimport EditProfilePage from \"./pages/EditProfilePage\";\r\nimport FriendsPage from \"./pages/FriendsPage\";\r\nimport MessagesPage from \"./pages/MessagesPage\";\r\nimport SignInSignUpPage from \"./pages/SignInSignUpPage\";\r\n// import SignUpPage from \"./pages/SignUpPage\";\r\nimport { SnackbarProvider, useSnackbar } from \"notistack\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport NotFoundPage from \"./pages/NotFoundPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport ConversationPage from \"./pages/ConversationPage\";\r\nimport { SocketClient } from \"./SocketClient\";\r\nimport CustomNotification from \"./components/CustomNotification\";\r\nimport SignInSignUp from \"./pages/SignInSignUpPage\";\r\n// import { MessagesContext } from \"./context/MessagesContext\";\r\n\r\nexport const useRoutes = (\r\n  isAuthenticated: boolean,\r\n  meUserId: string | undefined,\r\n  ready: boolean\r\n) => {\r\n  // const auth = useContext(AuthContext);\r\n\r\n  // console.log(\"App updated\");\r\n\r\n  if (!ready) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (isAuthenticated) {\r\n    // console.log(\"auth\", isAuthenticated);\r\n\r\n    // const SnackMessage = (id: any, message: \"string\") => (\r\n    //   <div>\r\n    //     <div\r\n    //       onClick={() => {\r\n    //         alert(`I belong to snackbar with key ${id}`);\r\n    //       }}\r\n    //     >\r\n    //       'Alert'\r\n    //     </div>\r\n    //   </div>\r\n    // );\r\n\r\n    return (\r\n      <Layout>\r\n        <SnackbarProvider\r\n          maxSnack={3}\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"right\",\r\n          }}\r\n          autoHideDuration={10000}\r\n        >\r\n          <SocketClient />\r\n          <MuiPickersUtilsProvider utils={MomentUtils}>\r\n            <Switch>\r\n              {/* <Redirect exact from=\"/\" to={`/profile/${meUserId}`} /> */}\r\n              <Route path=\"/messages\" exact component={MessagesPage} />\r\n              <Route\r\n                path=\"/conversation/:id\"\r\n                exact\r\n                component={ConversationPage}\r\n              />\r\n              <Route path=\"/friends\" component={FriendsPage} />\r\n              <Route\r\n                path=\"/profile/edit/:id\"\r\n                exact\r\n                component={EditProfilePage}\r\n              />\r\n              <Route path={`/profile/:id`} exact component={ProfilePage} />\r\n              <Redirect to={`/profile/${meUserId}`} />\r\n              {/* <Route path=\"*\" component={NotFoundPage} /> */}\r\n            </Switch>\r\n          </MuiPickersUtilsProvider>\r\n        </SnackbarProvider>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Redirect exact from=\"/\" to=\"/signup\" />\r\n      {/* <Route path=\"/signin\" exact component={SignInPage} /> */}\r\n      <Route path=\"/signup\" exact component={SignInSignUpPage} />\r\n      <Redirect to=\"/signup\" />\r\n    </Switch>\r\n  );\r\n};\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}